\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{matematica}
% Este pacote está dividido em três partes: PACOTES, AMBIENTES e COMANDOS. A primeira parte inclui os pacotes necessários para o uso do pacote 'matematica'. A segunda parte define os ambientes usados no livro: definições, proposições, teoremas e afins. A terceira parte inclui os comandos e símbolos definidos e usados no livro.

%%%%%%%%%%%%%%%%%%%%% PACOTES %%%%%%%%%%%%%%%%%%%%%

\RequirePackage{amsmath,amsthm,amssymb,amsfonts}
\RequirePackage{eucal} % Muda o \mathcal de Computer Modern pra Euler
\RequirePackage{mathtools} % :=
\mathtoolsset{centercolon} % Alinha todas : com =
\RequirePackage{bm,bbm,mathrsfs} % Negrito de qualquer símbolo e letras cursiva
\RequirePackage{tikz} % Figuras e gráficos
\RequirePackage{relsize,scalerel} % Mudança de tamanho e definição de operador

%%%%%%%%%%%%%%%%%%%% AMBIENTES %%%%%%%%%%%%%%%%%%%%%

%\swapnumbers

% Estilo Definições
\theoremstyle{definition}
\newtheorem{defi}{Definição}[chapter]
\newtheorem{axi}{Axioma}
\newtheorem*{nota}{Notação}
\newtheorem{exerc}{$\blacktriangleright$ Exercício}[chapter]

% Estilo Teoremas
\theoremstyle{plain}
\newtheorem{teo}{Teorema}[chapter]
\newtheorem{prop}[teo]{Proposição}
\newtheorem{lema}[teo]{Lema}
\newtheorem{coro}[teo]{Corolário}
\newtheorem{conj}[teo]{Conjectura}
\newtheorem{ex}{Exemplo}[chapter]

\renewcommand{\qedsymbol}{$\blacksquare$} % Símbolo de demonstração.

%%%%%%%%%%%%%%%%%%%% COMANDOS %%%%%%%%%%%%%%%%%%%%%

% CONJUNTOS
		% NOTA: Aprender a usar \dotsb \dotsc \dotsm.

%% Conjuntos: Noções Básicas
	\newcommand{\sse}{\quad \Longleftrightarrow \quad}
	\newcommand{\se}{\quad \Longleftarrow \quad}
	\newcommand{\entao}{\quad \Longrightarrow \quad}
	\newcommand{\ou}{\text{\ \ ou\ \ }}
	\newcommand{\e}{\text{\ \ e\ \ }}
	
	\renewcommand{\emptyset}{\varnothing}
	
	\newcommand{\set}[2]{\left\{#1 \;\middle\vert\; #2 \right\}} % Conjuntos
	\newcommand{\p}{\scalebox{1.2}{$\mathcal{P}$}} % Conjunto das Partes
	%\newcommand{\p}{\raisebox{.15\baselineskip}{\Large\ensuremath{\wp}}}
	
	% Coproduto quadrado (Precisa do graphicx)
	\makeatletter
		\providecommand{\bigsqcap}{%
  		\mathop{%
   		\mathpalette\@updown\bigsqcup
  		}%
	}
	\newcommand*{\@updown}[2]{%
  		\rotatebox[origin=c]{180}{$\m@th#1#2$}%
		}
	\makeatother
	% Produto e coproduto
	\renewcommand{\prod}{\bigsqcap}
	\renewcommand{\coprod}{\bigsqcup}
			
	\newcommand{\difsim}{\mathbin{\triangle}}

%% Relações e Funções
	\renewcommand{\to}{\longrightarrow}
	\renewcommand{\mapsto}{\longmapsto}
	\newcommand{\func}[5]{%
	{#1}: {#2} &\to {#3} \\%
	{#4} &\mapsto {#5}%
	}
	\newcommand{\var}{\bm{\cdot}} % Símbolo de variável numa função: f(•)

	\newcommand{\id}{\mathrm{id}} % Função identidade
	\newcommand{\inv}{^{-1}} % Inversa de função

%% Conjuntos Numéricos
	\newcommand{\N}{\mathbb{N}}
	\newcommand{\Z}{\mathbb{Z}}
	\newcommand{\Q}{\mathbb{Q}}
	\newcommand{\R}{\mathbb{R}}
	\newcommand{\RR}{\R_\infty}
	\newcommand{\C}{\mathbb{C}}
	
	%% Alternativos
	%\newcommand{\O}{\mathbb{O}} % Números ordinais finitos
	%\newcommand{\I}{\mathbb{I}} % Números inteiros
	%\newcommand{\E}{\mathbb{E}} % Números espaciais (reais)

%% Cardinalidade de Conjuntos
	\newcommand{\card}[1]{\left\vert{#1}\right\vert}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ÁLGEBRA

%% Operadores Binários
	% Operação Binária Padrão
	\newcommand{\opb}{\ast}
	\DeclareMathOperator*{\bigopb}{\raisebox{-.25em}{\scalebox{3}{$\opb$}}}
	%\newcommand{\plustimes}{\mathbin{\ooalign{$+$\cr\hidewidth\hbox{$\times\mkern-.1500mu$}\cr}}} % Superposição de mais e vezes
		
	\DeclareMathOperator*{\bigplus}{\scalerel*{+}{\bigoplus}} % Somatório
	\DeclareMathOperator*{\bigtimess}{\scalerel*{\times}{\bigotimes}} % Multiplicatório
	\renewcommand{\sum}{\bigplus}
	%\renewcommand{\bigtimes}{\bigtimess}

%%% Grupos

    \newcommand{\quo}[2]{
		\mathchoice
            {% \displaystyle
            	{\left. \raisebox{.2em}{$#1$} \middle/ \raisebox{-.2em}{$#2$}\right.}
            }
            {% \textstyle
                {\left.{#1} \middle/ {#2}\right.}
            }
            {% \scriptstyle
                #1\,/\,#2
            }
            {% \scriptscriptstyle  
                #1\,/\,#2
            }
	} % Quociente de Conjuntos/Grupos/Anéis...
	
	\newcommand{\ide}{\mathrel{\unlhd}}
	\newcommand{\idepro}{\mathrel{\lhd}}
	\newcommand{\homo}{\mathcal{H}\mathrm{om}}
	\newcommand{\iso}{\mathcal{I}\mathrm{so}}
	\newcommand{\lin}{\mathcal{L}}
	\newcommand{\nuc}{\mathcal{N}}
	\newcommand{\im}{\mathcal{I}\mathrm{m}}
	
	\newcommand{\ger}[1]{\left\langle #1 \right\rangle}
	
	\newcommand{\simm}[1]{\mathfrak{S}(#1)}
	\newcommand{\sime}{\mathfrak{S}}
	\newcommand{\altt}[1]{\mathfrak{A}(#1)}
	\newcommand{\alte}{\mathfrak{A}}
	\newcommand{\cicc}[1]{\mathfrak{C}(#1)}
	\newcommand{\cicl}{\mathfrak{C}}
	
	\newcommand{\orb}{\mathcal{O}}
	
	\newcommand{\prd}{\epsilon} % Paridade de uma permutação
	%\newcommand{\prd}{\pm}

	% Ação de Grupos
	\newcommand{\age}{\curvearrowright}
	\newcommand{\pt}{\mathord{\centerdot}\ }
	
	%Grupo Linear
	\newcommand{\GL}{\mathrm{GL}}
	\newcommand{\SL}{\mathrm{SL}}

%%% Anéis

	\DeclareMathOperator{\g}{grau} % Grau de Polinômio

	\renewcommand{\div}{\preceq} % Renomeia o comando \div para ser relação binária de divisão em um anel
	\newcommand{\ndiv}{\npreceq}
	
	\DeclareMathOperator{\mdc}{mdc}
	\DeclareMathOperator{\divv}{div}
	\DeclareMathOperator{\mmc}{mmc}
	\DeclareMathOperator{\mul}{mul}
	\newcommand{\inte}{\mathtt I}
	
	\newcommand{\zero}{\mathbbm O}
	%\newcommand{\id}{\mathbbm 1}
	\DeclareMathOperator{\tr}{tr}
	
	%% Matrizes
	\newcommand{\M}{\mathbb{M}}
	
	
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%TOPOLOGIA

	\newcommand{\topo}{\mathcal{T}}

	\newcommand{\inn}[1]{{#1}^\circ}%\mathring é um comando iteressante, mas não serve tão bem aos meus propósitos.
	\newcommand{\fec}[1]{\overline{#1}}
	\newcommand{\fro}[1]{\partial #1}
	
	\newcommand{\viz}{\mathcal{V}}

	\newcommand{\cont}{\mathscr{C}} % Funções contínuas
	
	\renewcommand{\S}{\mathbb{S}} % Esfera
	\newcommand{\pro}{\mathbb{P}} % Espaço Projetivo
	\newcommand{\Hip}{\mathbb{H}} % Espaço Hiperbólico
	\newcommand{\T}{\mathbb{T}} % Toro

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ANÁLISE

%% Espaços Métricos
	\DeclareMathOperator{\diam}{diam}
	\newcommand{\conv}{\rightarrow} % Convergência/ convergência pontual
	\newcommand{\uconv}{\rightrightarrows} % Convergência uniforme
	\newcommand{\bola}{\mathrm{B}} % Bola de espaço métrico

%% Espaços Normados
	\newcommand{\abs}[1]{\left\vert{#1}\right\vert} % Valor absoluto
	\newcommand{\nor}[1]{\left\Vert{#1}\right\Vert} % Norma

	\newcommand{\E}{\mathbb{E}} % Espaço Normado
	\newcommand{\disc}{\mathbb{D}} % Disco Unitário de espaço normado

%% Diferenciabilidade
	\newcommand{\D}{\mathrm{D}}

%% Variedades
	\newcommand{\atlas}{\mathcal{A}}
	\newcommand{\x}{\mathrm{x}}
	\newcommand{\Tg}{\mathrm{T}}

%% Teoria da Medida
	\newcommand{\idc}{\chi} % Função indicadora (característica)
	%\newcommand{\idc}{\scalebox{0.75}{$\mathbb{I}$}}
	
	\newcommand{\bor}{\mathscr{B}} % Boreliano
	\newcommand{\mensu}{\mathscr{M}} % Funções mensuráveis
	
%% Teoria da Integração
	\newcommand{\integ}{\mathscr{I}} % Funções integráveis
	\newcommand{\dd}{\mathrm{d}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% OUTROS

%Contido Aberto e Fechado e uns outros comandos superpostos
\newcommand\abr{\mathrel{\ooalign{$\subseteq$\cr
  \hidewidth\raise.225ex\hbox{$\circ\mkern.5mu$}\cr}}}

\newcommand\fch{\mathrel{\ooalign{$\subseteq$\cr
  \hidewidth\raise.225ex\hbox{$\bullet\mkern.5mu$}\cr}}}


\newcommand{\supinf}{\mathbin{\ooalign{$\land$\cr$\_$\cr}}}

\newcommand{\Ee}{\mathrel{\ooalign{$\land$\cr
  \hidewidth\raise.350ex\hbox{$\_$}\hidewidth\cr}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%