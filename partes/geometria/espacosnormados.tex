\chapter{Espaços normados}

\section{Norma em corpos (valor absoluto)}

Consideremos um corpo $\bm C$. Queremos definir uma função $\abs{\var}\colon C \to \intfa{0}{\infty}$ que satisfaça a propriedade de multiplicatividade para todos $c,c' \in C$,
	\begin{equation*}
	\abs{cc'} = \abs{c}\abs{c'}.
	\end{equation*}
Nesse caso, temos
	\begin{equation*}
	\abs{0}=\abs{0c} = \abs{0}\abs{c}.
	\end{equation*}
Se $\abs{0} \neq 0$, então $\abs{c}=1$ para todo $c \in C$ (inclusive $\abs{0}=1$), o que mostra que $\abs{\var}$ é uma função trivial e, portanto, não tem comportamento tão interessante. É natural então assumir que $\abs{0}=0$. Nesse caso, não concluímos da multiplicatividade que $\abs{c}=1$ para todo $c \in C$. No entanto, temos
	\begin{equation*}
	\abs{1} = \abs{1 \times 1} = \abs{1}\abs{1}.
	\end{equation*}
Então $\abs{1}=0$ ou $\abs{1}=1$. No primeiro caso, segue que, para todo $c \in C$, $\abs{c} = \abs{1c} = \abs{1}\abs{c} = 0 \abs{c} = 0$, logo $\abs{c} = 0$ para todo $c \in C$, o que mostra que $\abs{\var}$ novamente é uma função trivial. É natural, assim, assumir que $\abs{1} \neq 0$, e portanto $\abs{1}=1$. Assumiremos, no entanto, que para todo $c \in C$, se $\abs{c} = 0$ então $c=0$, o que implica que $\abs{\var}$ é um homomorfismo de grupos entre o grupo multiplicativo de $\bm C$ e o grupo multiplicativo $\intaa{0}{\infty}$.
%Mas notemos que $\abs{1}=1$ é equivalente a assumirmos que, para todo $c \in C$, se $\abs{c} = 0$ então $c=0$, pois
Notemos ainda que
	\begin{equation*}
	1 = \abs{1} = \abs{(-1)(-1)} = \abs{-1}\abs{-1},
	\end{equation*}
portanto $\abs{-1} = 1$, já que $\abs{-1} \in \intfa{0}{\infty}$. Disso segue que
	\begin{equation*}
	\abs{-c} = \abs{-1}\abs{c}=\abs{c}.
	\end{equation*}
Ainda, para todo $c \in C$ segue que
	\begin{equation*}
	\abs{c\inv} = \abs{c\inv}\abs{c}\abs{c}\inv = \abs{c\inv c}\abs{c}\inv = \abs{1}\abs{c}\inv = \abs{c}\inv.
	\end{equation*}

Além da multiplicatividade, uma segunda propriedade desejável é a subaditividade: para todos $c,c' \in C$,
	\begin{equation*}
	\abs{c+c'} \leq \abs{c} + \abs{c'}.
	\end{equation*}
Note que não adotamos a propriedade mais forte de aditividade. Isso ocorre porque queremos que $\abs{\var}$ se comporte de fato como o valor absoluto em $\R$, e também porque queremos que $\abs{\var}$ tenha valores positivos, o que a aditividade não permitiria pois de $\abs{0}=0$ e $\abs{1}=1$ seguiria que $\abs{-1}=-1$.


\begin{definition}
Seja $\bm C$ um corpo. Uma \emph{norma} (ou \emph{valor absoluto}) em $\bm C$ é uma função $\abs{\var}\colon C \to \intfa{0}{\infty}$ que satisfaz
	\begin{enumerate}
	\item (Separação) Para todo $c \in C$, $\abs{c}=0$ se, e somente se, $c=0$;
	\item (Multiplicatividade) Para todos $c,c' \in C$,
		\begin{equation*}
		\abs{cc'} = \abs{c}\abs{c'};
		\end{equation*}
	\item (Subaditividade) Para todos $c,c' \in C$,
		\begin{equation*}
		\abs{c+c'} \leq \abs{c} + \abs{c'}.
		\end{equation*}
	\end{enumerate}
\end{definition}

\begin{proposition}[Propriedades da norma]
Sejam $\bm C$ um corpo e $\abs{\var}$ uma norma em $\bm C$.
	\begin{enumerate}
	\item $\abs{1}=\abs{-1}=1$;
	\item Para todo $c \in C$, $\abs{-c}=\abs{c}$;
	\item Para todo $c \in C$, $\abs{c} \geq 0$;
	\item (Subaditividade generalizada) Para todos $c_0,\dots,c_{n-1} \in C$,
		\begin{equation*}
		\abs{\sum_{i \in [n]} c_i} \leq \sum_{i \in [n]} \abs{c_i};
		\end{equation*}
	\item Para todos $c,c' \in C$, $\abs{\abs{c'}-\abs{c}} \leq \abs{c'-c}$.
	\end{enumerate}
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item Notemos que
		\begin{equation*}
		\abs{1} = \abs{1^2} = \abs{1}^2,
		\end{equation*}
logo $\abs{1}=0$ ou $\abs{1}=1$. Da separação de $\abs{\var}$, segue que $\abs{1}=1$.

	\item Para todo $c \in C$,
		\begin{equation*}
		\abs{-c} = \abs{-1}\abs{c}=\abs{c}.
		\end{equation*}

	\item Seja $c \in C$. Temos que
		\begin{equation*}
		0 = \abs{0} = \abs{c-c} \leq \abs{c} + \abs{-c} = 2 \abs{c},
		\end{equation*}
logo $\abs{c} \geq 0$

	\item Segue por indução da subaditividade de $\abs{\var}$.

		\item Da subaditividade, segue que
		\begin{equation*}
		\abs{c'} = \abs{(c'-c)+c} \leq \abs{c'-c} + \abs{c},
		\end{equation*}
portanto
		\begin{equation*}
		\abs{c'}-\abs{c} \leq \abs{c'-c}.
		\end{equation*}
Simetricamente obtém-se $\abs{c}-\abs{c'} \leq \abs{c'-c}$, e segue que
		\begin{equation*}
		\abs{\abs{c'}-\abs{c}} \leq \abs{c'-c}.
		\end{equation*}
	\end{enumerate}
\end{proof}

\begin{definition}
Um \emph{corpo normado} é um par $(\bm C,\abs{\var})$ em que $\bm C$ é um corpo e $\abs{\var}$ é uma norma em $\bm C$.
\end{definition}

Uma norma em $\bm C$ induz uma métrica e essa métrica, por sua vez, induz uma topologia em $C$.

\begin{definition}
Seja $(\bm C,\abs{\var})$ um corpo normado. A \emph{métrica} (induzida pela norma) de $\bm C$ é a função
	\begin{align*}
	\func{\dist{\var}{\var}}{C \times C}{\intfa{0}{\infty}}{(c,c')}{\abs{c'-c}}.
	\end{align*}
\end{definition}

\begin{proposition}
Seja $(\bm C,\abs{\var})$ um corpo normado. A métrica $\dist{\var}{\var}$ induzida pela norma de $\bm C$ é uma métrica em $C$.
\end{proposition}
%\begin{proof}
%	\begin{enumerate}
%	\item (Separação) Sejam $c,c' \in C$. Se $c=c'$, então segue da positividade que
%		\begin{equation*}
%		\dist{c}{c'} = \dist{c}{c} = \abs{c-c} = \abs{0}=0.
%		\end{equation*}
%	Reciprocamente, se $\abs$
%	\end{enumerate}
%\end{proof}

\begin{proposition}
Seja $(\bm C,\abs{\var})$ um corpo normado.
	\begin{enumerate}
	\item A norma $\abs{\var}\colon C \to \intfa{0}{\infty}$ é uma função contínua;
	\item $\bm C$ é um corpo topológico.
	\end{enumerate}
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item Segue direta da propriedade de que, para todos $c,c' \in C$, $\abs{\abs{c'}-\abs{c}} \leq \abs{c'-c}$, pois dado $\varepsilon > 0$, tomando $\delta=\varepsilon$ temos que, se $\dist{c}{c'} = \abs{c'-c} \leq \delta$, então
		\begin{equation*}
		\dist{\abs{c}}{\abs{c'}} = \abs{\abs{c'}-\abs{c}} \leq \abs{c'-c} \leq \delta = \varepsilon.
		\end{equation*}

	\item Para mostrar a continuidade de $+$, podemos usar qualquer norma em $C \times C$; escolhemos a norma
		\begin{align*}
		\func{\abs{\var}_{C \times C}}{C \times C}{\intfa{0}{\infty}}{(c,c')}{\abs{c}+\abs{c'}}.
		\end{align*}
Agora, basta notarmos que, dados $(c_0,c_1),(c_0',c_1') \in C \times C$,
	\begin{align*}
	\abs{(c_0'+c_1') - (c_0+c_1)} &= \abs{(c_0' - c_0) + (c_1'-c_1)} \\
		&\leq \abs{c_0'-c_0} + \abs{c_1'-c_1} \\
		&= \abs{(c_0'-c_0,c_1'-c_1)}_{C \times C} \\
		&= \abs{(c_0',c_1')-(c_0,c_1)}_{C \times C},
	\end{align*}
portanto, dado $\varepsilon>0$, basta tomarmos $\delta=\varepsilon$ e segue que, se
	\begin{equation*}
		\abs{(c_0',c_1')-(c_0,c_1)}_{C \times C} < \delta,
	\end{equation*}
então
	\begin{equation*}
	\abs{(c_0'+c_1') - (c_0+c_1)} \leq \abs{(c_0',c_1')-(c_0,c_1)}_{C \times C} < \delta=\varepsilon.
	\end{equation*}
A continuidade das outras operações é análoga.
	\end{enumerate}
\end{proof}

\section{Normas}

\subsection{Seminormas}

\begin{definition}
Seja $\bm L$ um espaço linear sobre um corpo normado $(\bm C,\abs{\var})$. Uma \emph{seminorma} em $\bm L$ é uma função $p\colon L \to \R$
que satisfaz
	\begin{enumerate}
	\item (Homogeneidade absoluta) Para todos $c \in C$ e $v \in L$,
		\begin{equation*}
		p(cv) = \abs{c}p(v);
		\end{equation*}
	\item (Subaditividade) Para todos $v,v' \in L$,
		\begin{equation*}
		p(v + v') \leq p(v) + p(v').
		\end{equation*}
	\end{enumerate}
\end{definition}

\begin{proposition}
Sejam $\bm L$ um espaço linear sobre um corpo normado $(\bm C,\abs{\var})$ e $p\colon L \to C$ uma seminorma em $\bm L$.
	\begin{enumerate}
	\item $p(0)=0$;
	\item Para todo $v \in L$, $p(v) \geq 0$;
	\item Para todo $v,v' \in L$, $\abs{p(v)-p(v')} \leq p(v-v')$.
	\end{enumerate}
\end{proposition}

\begin{definition}
Seja $\bm L$ um espaço linear sobre um corpo $(\bm C,\leq)$ ordenado. Um conjunto \emph{absorvedor} em $L$ é um conjunto $A \subseteq L$ tal que, para todo $v \in L$, existe $c \in C_{>0}$ tal que $v \in cA$.
\end{definition}

\begin{proposition}
Sejam $L$ um espaço linear sobre um corpo $(\bm C,\leq)$ ordenado e $A \subseteq L$ um conjunto absorvedor.
	\begin{enumerate}
	\item $0 \in A$;
	\item Para todo $v \in L$, existe $\inf\set{c>0}{v \in cA}$.
	\end{enumerate}
\end{proposition}

\begin{definition}
Sejam $\bm L$ um espaço linear real\footnote{Mais geralmente, poderiam ser considerados corpos ordenados normados $(\bm C,\leq,\abs{\var})$, mas os detalhes não serão feitos aqui.} e $A \subseteq L$ um conjunto absorvedor. O \emph{calibre}\footnote{Essas funções são conhecidas como funcionais de Minkowski} de $A$ é a função
	\begin{align*}
	\func{p_A}{L}{\R}{v}{\inf\set{c>0}{v \in cA}}.
	\end{align*}
\end{definition}

A função está bem definida pois $A$ é absorvedor (proposição anterior).

\begin{exercise}
Sejam $\bm L$ um espaço linear real e $A \subseteq L$ um conjunto absorvedor.
	\begin{enumerate}
	\item Para todos $v \in L$ e $c \in \intaa{0}{\infty}$,
		\begin{equation*}
		p_A(cv) = c p_A(v);
		\end{equation*}
	\item Se $A$ é convexo, então $p_A$ é subaditivo: para todos $v,v' \in L$,
		\begin{equation*}
		p_A(v+v') \leq p_A(v) + p_{A}(v');
		\end{equation*}
	\item Se $A$ é convexo e balanceado, $p_A$ é uma seminorma;
	\item Definindo $\Int{A} := \set{v \in L}{p_A(v) < 1}$ e $\Fec{A} := \set{v \in L}{p_A(v) \leq 1}$, vale $\Int{A} \subseteq A \subseteq \Fec{A}$ e $p_{\Int{A}} = p_{A} = p_{\Fec{A}}$.
	\end{enumerate}
\end{exercise}
%\begin{proof}
%	\begin{enumerate}
%	\item Sejam $v \in L$ e $c \in \intaa{0}{\infty}$. Então
%		\begin{align*}
%		p_A(cv) &= \inf\set{c'>0}{cv \in c'A} \\
%					&= \\
%					&= \\
%					&= c\inf\set{c'>0}{v \in c'A} \\
%					&= c p_A(v).
%		\end{align*}
%	\end{enumerate}
%\end{proof}








\subsection{Normas, espaços normados e métricas lineares}

\begin{definition}
Seja $\bm E$ um espaço linear sobre um corpo normado $(\bm C,\abs{\var})$. Uma \emph{norma} em $\bm E$ é uma função $\nor{\var}\colon E \to \R$
que satisfaz
	\begin{enumerate}
	\item (Separação) Para todo $v \in E$, se $\nor{v}=0$, então $v=0$.
	\item (Homogeneidade absoluta\footnote{Esta propriedade recebe diferentes nomes, incluindo `Dilatação'.}) Para todos $c \in C$ e $v \in E$,
		\begin{equation*}
		\nor{cv} = \abs{c}\nor{v};
		\end{equation*}
	\item (Subaditividade\footnote{Esta propriedade recebe diferentes nomes, incluindo `Desigualdade Triangular'.}) Para todos $v,v' \in E$,
		\begin{equation*}
		\nor{v + v'} \leq \nor{v} + \nor{v'}.
		\end{equation*}
	\end{enumerate}
\end{definition}

Uma norma é uma seminorma separada. Claramente $\abs{\var}\colon \C \to \R$ é uma norma em $\C$.
%Pode-se, de modo mais geral, considerar outro valor absoluto em $\bm C$, mas não faremos isso aqui.

\begin{proposition}[Propriedades da Norma]
Sejam $\bm E$ um espaço linear sobre um corpo normado $(\bm C,\abs{\var})$ e $\nor{\var}$ uma norma em $\bm E$.
	\begin{enumerate}
	\item $\nor{0}=0$;
	\item Para todo $v \in E$, $\nor{-v}=\nor{v}$;
	\item Para todo $v \in E$, $\nor{v} \geq 0$.
	\item (Subaditividade generalizada) Para todos $v_0,\dots,v_{n-1} \in E$,
		\begin{equation*}
		\nor{\sum_{i \in [n]} v_i} \leq \sum_{i \in [n]} \nor{v_i}.
		\end{equation*}
	\item Para todos $v,v' \in E$, $\abs{\nor{v'}-\nor{v}} \leq \nor{v'-v}$.
	\end{enumerate}
\end{proposition}

\begin{definition}
Um \emph{espaço normado} é um par $(\bm E,\nor{\var})$ em que $\bm E$ é um espaço linear sobre um corpo normado $(\bm C,\abs{\var})$ e $\nor{\cdot}$ é uma norma em $\bm E$. A \emph{dimensão} de $(\bm E,\nor{\var})$ é a dimensão do espaço linear $\bm E$.
\end{definition}

\begin{definition}
Seja $\bm E$ um espaço linear sobre um corpo normado $(\bm C,\abs{\var})$. Uma \emph{métrica linear} em $\bm E$ é uma métrica\footnote{Adotamos aqui a notação $\dist{x}{x'}$ em vez da notação mais usual $d(x,x')$.} $\dist{\var}{\var}\colon E \times E \to \R$ em $E$ que satisfaz
	\begin{enumerate}
	\item (Invariância por translação) Para todos $v,v',w \in E$,
		\begin{equation*}
		\dist{v+w}{v'+w} = \dist{v}{v'}.
		\end{equation*}
	\item (Homogeneidade absoluta) Para todos $v,v' \in E$ e $c \in C$,
		\begin{equation*}
		\dist{cv}{cv'} = \abs{c}\dist{v}{v'};
		\end{equation*}
	\end{enumerate}
\end{definition}

\begin{definition}
Seja $(\bm E,\nor{\var})$ um espaço normado. A \emph{métrica} (induzida pela norma) de $(\bm E,\nor{\var})$ é a função
	\begin{align*}
	\func{\dist{\var}{\var}}{E \times E}{\R}{(v,v')}{\nor{v - v'}}.
	\end{align*}
A \emph{topologia de $(\bm E,\nor{\var})$} é a topologia de $(E,\dist{\var}{\var})$.
\end{definition}

Para que essa definição seja boa, mostramos a seguir a proposição.

\begin{proposition}
Seja $(\bm E,\nor{\var})$ um espaço normado. A função
	\begin{align*}
	\func{\dist{\var}{\var}}{E \times E}{\R}{(v,v')}{\nor{v - v'}}.
	\end{align*}
é uma métrica linear em $E$.
\end{proposition}
\begin{proof}
Primeiro mostramos que $\dist{\var}{\var}$ é uma métrica.
	\begin{enumerate}
	\item (Separação) Sejam $v,v' \in E$. Se $v = v'$, então segue da positividade que
	\begin{equation*}
	\dist{v}{v'} = \dist{v}{v} = \nor{v - v} = \nor{v-v}=\nor{0}=0.
	\end{equation*}
Reciprocamente, se $\dist{v}{v'}=0$, então $\nor{v-v'}=0$. Segue da separação que $v-v'=0$, logo $v=v'$.

	\item (Simetria)  Sejam $v,v' \in E$. Então segue da homogeneidade absoluta que
	\begin{equation*}
	\dist{v}{v'}=\nor{v-v'}=\nor{-1(v' - v)}=\abs{-1}\nor{v' - v}=\dist{v'}{v}.
	\end{equation*}

	\item (Desigualdade triangular) Sejam $v,v',v'' \in E$. Então segue da subaditividade que
	\begin{align*}
	\dist{v}{v''} &= \nor{v-v''} \\
		&=\nor{v-v'+v'-v''} \\
		&\leq \nor{v-v'}+\nor{v'-v''} \\
		&=\dist{v}{v'}+\dist{v'}{v''}.
	\end{align*}
	\end{enumerate}
Agora, mostremos que $\dist{\var}{\var}$ é métrica linear.
	\begin{enumerate}
	\item (Invariância por translação) Sejam $v,v',w \in E$. Então
		\begin{equation*}
		\dist{v+w}{v'+w} = \nor{(v+w) - (v'+w)} = \nor{v-v'} = \dist{v}{v'}.
		\end{equation*}

	\item (Homogeneidade absoluta) Sejam $v,v' \in E$ e $c \in C$. Então
		\begin{equation*}
		\dist{cv}{cv'} = \nor{cv-cv'} = \nor{c(v-v')} = \abs{c}\nor{v-v'} = \abs{c}\dist{v}{v'}. \qedhere
		\end{equation*}
	\end{enumerate}
\end{proof}

Reciprocamente, se temos uma métrica linear em um espaço linear, essa métrica define uma norma no espaço e a métrica que essa norma define, por sua vez, é a métrica original. Isso mostra, de fato, que existe uma relação bijetiva entre normas e métricas lineares em um espaço linear.

\begin{proposition}
Sejam $\bm E$ um espaço linear sobre um corpo normado $(\bm C,\abs{\var})$ e $\dist{\var}{\var}$ uma métrica linear em $\bm E$. A função
	\begin{align*}
	\func{\nor{\var}}{E}{\R}{v}{\dist{v}{0}}
	\end{align*}
é uma norma em $\bm E$ e a métrica induzida por essa norma é $\dist{\var}{\var}$.
\end{proposition}
\begin{proof}
Mostremos primeiro que a função é uma norma.
	\begin{enumerate}
	\item (Separação) Seja $v \in E$. Então $\nor{v} = \dist{v}{0} = 0$, logo da separação de $\dist{\var}{\var}$ segue que $v=0$.

	\item (Homogeneidade absoluta) Sejam $c \in C$ e $v \in E$. Então segue da homogeneidade absoluta de $\dist{\var}{\var}$ que
		\begin{equation*}
		\nor{cv} = \dist{cv}{0} = \abs{c}\dist{v}{0} = \abs{c}\nor{v}.
		\end{equation*}

	\item (Subaditividade) Sejam $v,v' \in E$. Então da invariância por translação, da simetria e da desigualdade triangular de $\dist{\var}{\var}$ que
		\begin{align*}
		\nor{v+v'} &= \dist{v+v'}{0} \\
			&= \dist{v}{-v'} \\
			&\leq \dist{v}{0} + \dist{0}{-v'} \\
			&\leq \dist{v}{0} + \dist{v'}{0} \\
			&= \nor{v} + \nor{v'}.
		\end{align*}
	\end{enumerate}
Agora, mostremos que a métrica $\dist{\var}{\var}'$ induzida por essa norma é a métrica original $\dist{\var}{\var}$. Sejam $v,v' \in E$. Então da invariância por translação de $\dist{\var}{\var}$ segue que
	\begin{equation*}
	\dist{v}{v'}' = \nor{v-v'} = \dist{v-v'}{0} = \dist{v}{v'}. \qedhere
	\end{equation*}
\end{proof}

\subsection{Bolas e esferas unitárias e topologia}

\begin{definition}
Seja $(\bm E,\nor{\var})$ um espaço normado. A \emph{bola unitária} de $(\bm E,\nor{\var})$ é o conjunto
	\begin{equation*}
	\B := \set{v \in E}{\nor{v} \leq 1}
	\end{equation*}
e a \emph{esfera unitária} de $(\bm E,\nor{\var})$ é o conjunto
	\begin{equation*}
	\S := \set{v \in E}{\nor{v} = 1}.
	\end{equation*}
\end{definition}

A bola unitária é a bola fechada, de raio 1 e centro na origem, com respeito à métrica induzida pela norma. Isto é, $\B = \bolafec{0}{1}$. Com essa notação para a bola unitária, podemos representar qualquer bola de centro $c$ e raio $r$ como $c+r\B$, pois
	\begin{align*}
	c+r\B &= \set{c+rv}{v \in \B} \\
		&= \set{c+rv}{\nor{v} \leq 1} \\
		&= \set{v}{\nor{\frac{v-c}{r}} \leq 1} \\
		&= \set{v}{\nor{v-c} \leq r} \\
		&= \bolafec{c}{r}.
	\end{align*}

\begin{proposition}
Seja $(\bm E,\nor{\var})$ um espaço normado. A bola unitária $\B$ é um conjunto convexo e centrossimétrico na origem.
\end{proposition}
\begin{proof}
Sejam $t \in \intaa{0}{1}$ e $v,v' \in \B$. Então
	\begin{equation*}
	\nor{(1-t)v+tv'} \leq (1-t)\nor{v}+t\nor{v'} =(1-t)+t=1,
	\end{equation*}
logo $(1-t)v+tv' \in \B$, o que mostra que $\B$ é convexo. Agora, seja $v \in \B$. Então $1 \geq \nor{v} = \nor{-v}$, logo $-v \in \B$, o que mostra a centrossimetria.
\end{proof}

A topologia de um espaço normado é dada pela sua norma, através da base de abertos formadas pelas bolas. Essa é a topologia dada pela métrica induzida pela norma.

\begin{proposition}
Seja $(\bm E,\nor{\var})$ um espaço normado.
	\begin{enumerate}
	\item A norma $\nor{\var}\colon E \to \R$ é uma função contínua.
	\item $\bm E$ é um espaço linear topológico.
	\end{enumerate}
\end{proposition}
%\begin{proof}
%	\begin{enumerate}
%	\item Segue direto da propriedade de que, para todos $v,v' \in E$,
%		\begin{equation*}
%		\abs{\nor{v'}-\nor{v}} \leq \nor{v'-v}.
%		\end{equation*}
%
%	\item
%	\end{enumerate}
%\end{proof}

\subsection{Equivalência de normas}

%\begin{definition}
%Seja $\bm E$ um espaço linear. Normas \emph{equivalentes} em $\bm E$ são normas $\nor{\var}, \nor{\var}'$ em $\bm E$ para as quais existem $c,C \in \intaa{0}{\infty}$ tais que, para todo $v \in E$,
%	\begin{equation*}
%	c \nor{v}' \leq \nor{v} \leq C \nor{v}'.
%	\end{equation*}
%\end{definition}

%\begin{definition}
%Seja $\bm E$ um espaço linear de dimensão finita. \emph{Normas equivalentes} em $\bm E$ são normas $\nor{\cdot}_0,$ e $\nor{\cdot}_1$ para as quais existem $c_0,c_1 \in \R\setminus\{0\}$ tais que, para todo $v \in E$,
%	\begin{equation*}
%	c_0 \nor{v}_0 \leq \nor{v}_1 \e c_1 \nor{v}_1 \leq \nor{v}_0.
%	\end{equation*}
%\end{definition}

%\begin{proposition}
%Seja $\bm E$ um espaço linear. Equivalência de normas em $\bm E$ é uma relação de equivalência.
%\end{proposition}
%\begin{proof}
%(Reflexividade) Claramente vale, para todo $v \in E$, $\nor{v} \leq \nor{v}$. (Simetria) Vale por definição. (Transitividade)
%\end{proof}

\begin{definition}
Seja $\bm E$ um espaço linear sobre um corpo normado $(\bm C,\abs{\var})$. Normas (\emph{topologicamente}) \emph{equivalentes} em $\bm E$ são normas $\nor{\var}, \nor{\var}'$ em $\bm E$ que induzem a mesma topologia em $E$.
\end{definition}

\begin{proposition}
Seja $\bm E$ um espaço linear sobre um corpo normado $(\bm C,\abs{\var})$. Normas $\nor{\var}, \nor{\var}'$ em $\bm E$ são equivalentes se, e somente se, existem $c,C \in \intaa{0}{\infty}$ tais que, para todo $v \in E$,
	\begin{equation*}
	c \nor{v}' \leq \nor{v} \leq C \nor{v}'.
	\end{equation*}
\end{proposition}
%\begin{proposition}
%Seja $\bm E$ um espaço linear. Normas equivalentes induzem a mesma topologia em $\bm E$.
%\end{proposition}
\begin{proof}
Demonstraremos a volta pois a ida é evidente.
Basta mostrar que as bases de bolas são equivalentes. Para isso, mostramos primeiro que uma bola de uma topologia contém uma bola de outra. Sejam $\nor{\var}, \nor{\var}'$ normas equivalentes em $\bm E$. Tomemos uma bola $\bola{v}{r}$ da norma $\nor{\var}$. Como existe $C \in \intaa{0}{\infty}$ tal que, para todo $v \in E$, $\nor{v} \leq C \nor{v}'$, segue que
	\begin{equation*}
	\bola{v}{rC\inv}' \subseteq \bola{v}{r},
	\end{equation*}
pois se $v' \in \bola{v}{rC\inv}'$, então $\nor{v'-v} < rC\inv$, logo $C\nor{v'-v} < r$, o que implica que $\nor{v'-v} < r$, portanto $v' \in \bola{v}{r}$.

Sendo assim, tomemos uma bola $\bola{v}{r}$ da norma $\nor{\var}$ e $x \in \bola{v}{r}$. Então temos que $\bola{x}{r-\nor{x-v}} \subseteq \bola{v}{r}$
e portanto temos que, pelo argumento do parágrafo anterior, $\bola{x}{(r-\nor{x-v})C\inv}' \subseteq \bola{x}{r-\nor{x-v}}$, logo
	\begin{equation*}
	\bola{x}{(r-\nor{x-v})C\inv}' \subseteq \bola{v}{r}.
	\end{equation*}
Simetricamente, mostra-se que
	\begin{equation*}
	\bola{x}{(r-\nor{x-v}')c} \subseteq \bola{v}{r}',
	\end{equation*}
portanto as bases de bolas são equivalentes, o que quer dizer que as topologias são a mesma.
\end{proof}




\section{Funções lineares contínuas}

%Sejam $\E$ e $\E'$ espaços normados. Um \emph{função linear contínua} de $\E$ para $\E'$ é uma função linear $\fun{L}{\E}{\E'}$ que é linear e contínua. O conjunto dessas funções é denotado $\toplin(\E,\E')$.

Nesta seção, trataremos de funções lineares contínuas entre espaços normados. Espaços normados são ao mesmo tempo espaços topológicos e espaços métricos. Por isso, podemos considerar tanto as funções lineares que são contínuas com respeito à topologia como as que são controladas com respeito à métrica. Vamos a seguir mostrar que para funções lineares essas duas propriedades são equivalentes. Lembremos que uma função $\fun{f}{M}{M'}$ entre espaços métricos $\bm M$ e $\bm M'$ é controlada quando, para algum $c \in \intfa{0}{\infty}$, $f$ satisfaz que, para todos $p,p' \in M$,
	\begin{equation*}
	\dist{f(p)}{f(p')} \leq c\dist{p}{p'}.
	\end{equation*}
A distorção de uma função controlada é definida como
	\begin{equation*}
	\nor{f} = \inf\set{c \in \intfa{0}{\infty}}{\forall_{p,p' \in M} \dist{f(p)}{f(p')} \leq c\dist{p}{p'}}.
	\end{equation*}
Essa definição em espaços normados, considerando a distância definida pela norma, é equivalente à seguinte propriedade.

%\begin{definition}
%Sejam $\E$ e $\E'$ espaços normados. Uma função linear \emph{controlada}%
%	\footnote{O termo usual é \emph{limitada}, mas esse termo também é usado para funções entre espaços métricos e para subconjuntos de espaços métricos, incluindo sequências limitadas. Para evitar ambiguidade, adotamos aqui o nome alternativo que expressa igualmente --- talvez melhor --- a ideia por trás do conceito.} %
%é uma função linear $\fun{L}{E}{E'}$ tal que, para algum $c \in \intfa{0}{\infty}$, $L$ satisfaz, para todo $v \in E$,
%	\begin{equation*}
%	\nor{L(v)}' \leq c \nor{v}.
%	\end{equation*}
%\end{definition}

%Claramente, segue direto da definição que $\Linmet(\E,\E') \subseteq \toplin(\E,\E')$.

\begin{exercise}
Sejam $(\bm E,\nor{\var})$ e $(\bm E',\nor{\var}')$ espaços normados e $\fun{L}{\bm E}{\bm E'}$ uma função linear. Então $L$ é controlada se, e somente se, para algum $c \in \intfa{0}{\infty}$, $L$ satisfaz que, para todo $v \in E$,
	\begin{equation*}
	\nor{L(v)}' \leq c \nor{v}.
	\end{equation*}
Nesse caso, a distorção de $L$ satisfaz
	\begin{equation*}
	\nor{L} = \inf\set{c \in \intfa{0}{\infty}}{\forall_{v \in E} \nor{L(v)}' \leq c\nor{v}}.
	\end{equation*}
\end{exercise}

A distorção de uma função linear controlada $L$ é portanto o menor valor tal que vale a desigualdade entre as normas. Vale que
	\begin{equation*}
	\nor{L(v)}' \leq \nor{L}\nor{v}.
	\end{equation*}
Veremos a seguir que essa distorção é uma norma.

O termo usual para funções lineares entre espaços normados que satisfazem a condição anterior é `limitada', mas esse termo também é usado com um significado diferente para funções entre espaços métricos e para subconjuntos de espaços métricos, incluindo sequências limitadas. Para evitar ambiguidade, adotamos aqui o nome alternativo que expressa igualmente --- talvez melhor --- a ideia por trás do conceito.

\begin{proposition}
Sejam $(\bm E,\nor{\var})$ e $(\bm E',\nor{\var}')$ espaços normados e $\fun{L}{\bm E}{\bm E'}$ uma função linear. Então $L$ é controlada se, e somente se, é contínua.
\end{proposition}
\begin{proof}
Se $L$ é controlada, é uniformemente contínua, portanto contínua (\ref{prop:continuidade.controlada}).

Reciprocamente, suponhamos que $L$ é contínua. Para $v=0$, claramente vale $\nor{L(0)} = 0 \leq 0 - \nor{0}$. Consideremos o seguinte para $v \neq 0$: como $L$ é contínua, é contínua em $0$; portanto existe $\delta \in \intaa{0}{\infty}$ tal que, para todo $v \in E$, se $\nor{v} \leq \delta$ então $\nor{L(v)}' \leq 1$. Sendo assim, seja $v \in E \setminus \{0\}$. Então, como $\nor{\delta\frac{v}{\nor{v}}}=\delta$, segue que
	\begin{equation*}
	\nor{L(v)}' = \nor{L\left(\frac{\nor{v}}{\delta}\frac{\delta}{\nor{v}}v\right)}' = \nor{\frac{\nor{v}}{\delta}L\left(\delta\frac{v}{\nor{v}}\right)}' = \frac{\nor{v}}{\delta}\nor{L\left(\delta\frac{v}{\nor{v}}\right)}' \leq \frac{1}{\delta}\nor{v},
	\end{equation*}
o que mostra que $L$ é controlada.
\end{proof}

%\begin{definition}
%Sejam $\E$ e $\E'$ espaços normados e $L \in \toplin(\E, \E')$ uma função linear contínua. A \emph{norma} de $L$ é
%	\begin{equation*}
%	\nor{L} := \inf\set{c \in \intfa{0}{\infty}}{\forall_{v \in \E} \nor{L(v)} \leq c\nor{v}}.
%	\end{equation*}
%\end{definition}

%Essa definição coincide com a norma de uma função controlada entre espaços métricos.

\begin{exercise}
Sejam $(\bm E,\nor{\var})$ e $(\bm E',\nor{\var}')$ espaços normados e $L \in \toplin(\bm E, \bm E')$ uma função linear contínua.
	\begin{enumerate}
	\item Para todo $v \in E$,
		\begin{equation*}
		\nor{L(v)}' \leq \nor{L}\nor{v};
		\end{equation*}

	\item Valem as seguintes igualdades:
		\begin{align*}
		\nor{L} &= \inf\set{c \in \intfa{0}{\infty}}{\forall_{v \in E} \nor{L(v)} \leq c\nor{v}} \\
			&= \sup \set{\nor{L(v)}}{v \in \B} \\
			&= \sup \set{\nor{L(v)}}{v \in \Int{\B}} \\
			&= \sup \set{\nor{L(v)}}{v \in \S \cup \{0\}} \\
			&= \sup\set{\nor{L(v)}}{v \in \S} \\
			&= \sup \set{\frac{\nor{L(v)}}{\nor{v}}}{v \in \B \setminus \{0\}}.
		\end{align*}
	\end{enumerate}
\end{exercise}
%\begin{proof}
%	\begin{enumerate}
%	\item Segue direto da definição.
%
%	\item Como $L$ é linear, segue que, para todo $v \in E\setminus\{0\}$,
%	\begin{equation*}
%	\nor{L(v)} = \nor{\nor{v}L\left(\frac{v}{\nor{v}}\right)} = \nor{v}\nor{L\left(\frac{v}{\nor{v}}\right)},
%	\end{equation*}
%portanto $\nor{L(v)} \leq c\nor{v}$ se, e somente se, $\nor{L\left(\frac{v}{\nor{v}}\right)} \leq c$. Isso implica que
%	\begin{equation*}
%	\nor{L} = \sup\set{\nor{L(v)}}{v \in \S}.
%	\end{equation*}
%	\end{enumerate}
%\end{proof}

Note que, caso $E = \{0\}$, os conjuntos das duas últimas igualdades são vazios, e então devemos ressaltar que o supremo é tomado sobre $\intfa{0}{\infty}$, portanto o supremo de $\emptyset$ é $0$.


\begin{proposition}
\label{prop:distorcao.seminorma}
Sejam $\bm M$ um espaço métrico e $(\bm E,\nor{\var})$ um espaço normado sobre um corpo normado $(\bm C,\abs{\var})$. A função
	\begin{align*}
	\func{\nor{\var}}{\Met(\bm M,\bm E)}{\R}{f}{\nor{f}}
	\end{align*}
é uma seminorma no espaço $\Met(\bm M,\bm E)$ das funções controladas de $\bm M$ para $\bm E$.
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item (Homogeneidade absoluta) Para $c=0$ a demonstração é imediata; suponhamos $c \neq 0$. Para todos $p,p' \in M$,
		\begin{equation*}
		\nor{cf(p)-cf(p')} = \abs{c}\nor{f(p)-f(p')} \leq \abs{c}\nor{f}\dist{p}{p'},
		\end{equation*}
	o que mostra que $\nor{cf} \leq \abs{c}\nor{f}$. Por outro lado,
		\begin{align*}
		\nor{f(p)-f(p')} &= \abs{c}\inv\abs{c}\nor{f(p)-f(p')} \\
			&= \abs{c}\inv\nor{cf(p)-cf(p')} \\
			&\leq \abs{c}\inv\nor{cf}\dist{p}{p'},
		\end{align*}
	o que mostra que $\nor{f} \leq \abs{c}\inv\nor{cf}$. Assim segue que $\nor{cf} = \abs{c}\nor{f}$.

	\item (Subaditividade) Para todos $p,p' \in M$,
		\begin{align*}
		\nor{(f+f')(p) - (f+f')(p')} &= \nor{f(p)+f'(p) - f(p')-f'(p')} \\
			&\leq \nor{f(p) - f(p')} + \nor{f'(p) - f'(p')} \\
			&\leq \nor{f}\dist{p}{p'} + \nor{f'}\dist{p}{p'} \\
			&= (\nor{f} + \nor{f'})\dist{p}{p'},
		\end{align*}
	o que mostra que $\nor{f+f'} \leq \nor{f} + \nor{f'}$.
	\qedhere
	\end{enumerate}
\end{proof}

\begin{proposition}
Sejam $(\bm E,\nor{\var})$ e $(\bm E',\nor{\var}')$ espaços normados. A função
	\begin{align*}
	\func{\nor{\var}}{\toplin(\bm E,\bm E')}{\R}{L}{\nor{L}}
	\end{align*}
é uma norma em $\toplin(\bm E,\bm E')$.
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item (Separação) Seja $L \in \toplin(\bm E,\bm E')$ tal que $\nor{L}=0$. De \ref{prop:distorcao.injetiva.sobrejetiva} segue que $L$ é constante e, como $L(0)=0$, $L=0$.

	\item (Homogeneidade absoluta) Segue de \ref{prop:distorcao.seminorma}.

	\item (Subaditividade) Segue de \ref{prop:distorcao.seminorma}.
	\qedhere
	\end{enumerate}
\end{proof}






\section{Espaços normados completos}

Espaços normados completos são espaços normados que são completos com respeito à métrica induzida pela sua norma. Esses espaços são comumente chamados de `espaços de Banach'\footnote{Em homenagem ao matemático polonês \emph{Stefan Banach} (30/03/1892 -- 31/08/1945).}. Aqui adotaremos simplesmente a nomenclatura de espaços normados completos. Os espaços normados completos mais comuns são os espaços lineares finitos com a norma $p$, sendo $p \in \intff{1}{\infty}$. Além desses espaços, um tipo de espaço mais geral (que inclui esses) são os chamados espaços de funções absolutamente $p$-somáveis. Esses espaços serão descritos nas seções a seguir.

% UM ESPAÇO NORMADO SER COMPLETO IMPLICA QUE SEU CORPO É COMPLETO???? NÃO CONSIDERAMOS ESSA QUESTÃO EM GERAL PORQUE O CORPO É \R OU \C, MAS PARA UM CORPO NORMADO QUALQUER PODE NÃO VALER. CLARAMENTE O CORPO SER COMPLETO NÃO IMPLICA QUE O ESPAÇO É COMPLETO, POIS EXISTEM ESPAÇOS NORMADOS REAIS QUE NÃO SÃO COMPLETOS.

\begin{proposition}
Sejam $\bm E$ um espaço linear sobre um corpo normado $(\bm C,\abs{\var})$ e $\nor{\var}, \nor{\var}'$ normas equivalentes em $\bm E$. O espaço $(\bm E,\nor{\var})$ é completo se, e somente se, $(\bm E,\nor{\var}')$ é completo.
\end{proposition}

Essa proposição mostra que, além de induzirem a mesma topologia, a propriedade de completude --- que faz parte da estrutura uniforme, e não topológica, do espaço --- também é induzida por normas equivalentes.

\begin{exercise}
Sejam $\bm X$ um espaço topológico separado compacto e $(\bm C,\abs{\var})$ um corpo normado. A função
	\begin{align*}
	\func{\nor{\var}}{\Cont(X,C)}{\intfa{0}{\infty}}{f}{\sup_{x \in X} \abs{f(x)} = \max_{x \in X} \abs{f(x)}}
	\end{align*}
é uma norma em $\Cont(\bm X,\bm C)$ e, se $(\bm C,\abs{\var})$ é completo, o espaço $(\Cont(\bm X,\bm C),\nor{\var})$ é completo.
\end{exercise}



\begin{proposition}
Sejam $\bm X$ um espaço topológico compacto e $(\bm L,\abs{\var})$ um espaço linear normado. A função
	\begin{align*}
	\func{\nor{\var}}{\Cont(X,L)}{\intfa{0}{\infty}}{f}{\max_{x \in X} \abs{f(x)}.}
	\end{align*}
é uma norma no espaço de funções contínuas $\Cont(\bm X,\bm L)$ que induz a mesma topologia do espaço. Se $(\bm L,\abs{\var})$ é completo, $\Cont(\bm X,\bm L)$ é completo.
\end{proposition}
\begin{proof}
Primeiro temos que mostrar que a função $\nor{\var}$ está bem definida, ou seja, que para toda $f \in \Cont(X,L)$ existe $m \in \intfa{0}{\infty}$ tal que $m = \max_{x \in X} \abs{f(x)}$. Como $X$ é compacto, para toda $f \in \Cont(X,L)$ a imagem $f(X) \subseteq L$ é compacta, portanto $\abs{f(X)} \subseteq \intfa{0}{\infty}$ é compacto e $\max_{x \in X} \abs{f(x)} \in \intfa{0}{\infty}$.

Mostremos agora que $\nor{\var}$ é uma norma em $\Cont(X,L)$: (Separação) Para toda $f \in \Cont(X,L)$, se $\nor{f} = 0$, então $\abs{f(x)} \leq 0$ para todo $x \in X$, logo $\abs{f(x)} = 0$ para todo $x \in X$, e segue pela separação de $\abs{\var}$ que $f(x)=0$, portanto $f=0$.

(Homogeneidade absoluta) Para todos $c \in C$ e $f \in \Cont(X,L)$,
	\begin{equation*}
	\nor{cf} = \max_{x \in X} \abs{cf(x)} = \max_{x \in X} \abs{c}\abs{f(x)} = \abs{c} \max_{x \in X} \abs{f(x)} = \abs{c}\nor{f}.
	\end{equation*}

(Desigualdade triangular) Para todas $f,f' \in \Cont(X,L)$,
	\begin{align*}
	\nor{f+f'} &= \max_{x \in X} \abs{f(x)+f'(x)} \\
		&\leq \max_{x \in X}(\abs{f(x)} + \abs{f'(x)}) \\
		&= \max_{x \in X} \abs{f(x)} + \max_{x \in X} \abs{f'(x)} \\
		&= \nor{f}+\nor{f'}.
	\end{align*}

% MOSTRAR QUE INDUZ A MESMA TOPOLOGIA.

Por fim, mostremos que $\Cont(X,L)$ é completo. Seja $\{f_n\}_{n \in \N}$ uma sequência acumulante\footnote{Sequência de Cauchy.} em $\Cont(X,L)$.
%Isso significa que, para todo $\varepsilon \in \intaa{0}{\infty}$, existe $N \in \N$ tal que, para todos $n,n' \in \N$ tais que $n,n' \geq N$,
%	\begin{equation*}
%	\nor{f_{n'} - f_n} \leq \varepsilon.
%	\end{equation*}
Notemos que, para cada $x \in X$, $\{f_n(x)\}_{n \in \N}$ é uma sequência acumulante em $L$, portanto uma sequência convergente, já que $L$ é completo. Isso significa que existe $f \in L^X$ que é o limite pontual de $\{f_n\}_{n \in \N}$: para todo $x \in X$,
	\begin{equation*}
	f(x) = \lim_{n \to \infty} f_n(x).
	\end{equation*}
Basta mostrar agora que $\{f_n\}_{n \in \N}$ converge para $f$ em $\Cont(X,L)$, pois isso mostra também que $f \in \Cont(X,L)$. Seja $\varepsilon \in \intaa{0}{\infty}$. Então existe $N \in \N$ tal que, para todos $n,n' \in \N$ tais que $n,n' \geq N$,
	\begin{equation*}
	\nor{f_{n'} - f_n} \leq \varepsilon.
	\end{equation*}
Logo, para todo $x \in X$,
	\begin{equation*}
	\abs{f(x) - f_n(x)} = \lim_{n' \to \infty} \abs{f_{n'} - f_n} \leq \varepsilon,
	\end{equation*}
o que implica que
	\begin{equation*}
	\nor{f-f_n} = \max_{x \in X} \abs{f(x)-f_n(x)} \leq \varepsilon.
	\end{equation*}
Isso mostra que $f_n \conv f$ em $\Cont(X,L)$.
\end{proof}





\subsection{Sequências absolutamente somáveis}

\begin{definition}
Seja $\bm L$ um espaço linear topológico sobre um corpo topológico $\bm C$. Uma \emph{sequência somável} em $\bm L$ é uma sequência $(v_n)_{n \in \N}$ em $L$ tal que a sequência
	\begin{equation*}
	\left( \sum_{k \in [n]} v_k \right)_{n \in \N}
	\end{equation*}
é convergente.
\end{definition}

\begin{definition}
Sejam $(\bm E,\nor{\var})$ um espaço normado sobre um corpo normado $(\bm C,\abs{\var})$. Uma \emph{sequência absolutamente somável} em $\bm E$ é uma sequência $(v_n)_{n \in \N}$ em $E$ tal que a sequência
	\begin{equation*}
	\left( \sum_{k \in [n]} \nor{v_k} \right)_{n \in \N}
	\end{equation*}
é convergente.
\end{definition}

\begin{proposition}
\label{ana:prop.abs.som.e.som}
Sejam $(\bm E,\nor{\var})$ um espaço normado sobre um corpo normado $(\bm C,\abs{\var})$. O espaço $(\bm E,\nor{\var})$ é completo se, e somente se, toda sequência absolutamente $(v_n)_{n \in \N}$ é somável.
\end{proposition}
\begin{proof}
Suponha que $(\bm E,\nor{\var})$ é completo. Seja $(v_n)_{n \in \N}$ um sequência absolutamente somável. Defina a sequência
	\begin{equation*}
	s_n := \left( \sum_{k \in [n]} v_k \right)_{n \in \N}
	\end{equation*}
em $E$. Para $m>1$,
	\begin{equation*}
	\nor{s_m - s_n} = \nor{\sum_{k=n}^{m-1} v_k} \leq \sum_{k=n}^{m-1} \nor{v_k}.
	\end{equation*}
Como as somas parciais de $\sum_{n \in \N} \nor{v_n}$ formam uma sequência convergente (e portanto aproximante), pois $(v_n)_{n \in \N}$ é absolutamente somável, $\sum_{k=n}^{m-1} \nor{v_k} \conv 0$ quando $n,m \conv \infty$. Isso mostra que $(s_n)_{n \in \N}$ é aproximante, e da completude de $(\bm E,\nor{\var})$ segue que é convergente, o que significa que $(v_n)_{n \in \N}$ é somável.

Reciprocamente, suponha que toda sequência absolutamente somável em $(\bm E,\nor{\var})$ é somável. Seja $(v_n)_{n \in \N}$ uma sequência aproximante. Para mostrar que essa sequência converge, basta achar uma subsequência que converge. Escolha $(v_{n_k})_{k \in \N}$ tal que, para todo $k \in \N$, $\nor{v_{n_{k+1}} - v_{n_k}} < 2^{-k}$. Então $\sum_{k \in \N} \nor{v_{n_{k+1}} - v_{n_k}}$ converge, o que implica que $\sum_{k \in \N} \left( v_{n_{k+1}} - v_{n_k} \right)$ converge, já que toda sequência absolutamente somável é somável. Isso implica que a sequência $v_{n_m} = v_{n_0} + \sum_{k \in [m]} \left( v_{n_{k+1}} - v_{n_k} \right)$ converge. Portanto $(v_n)_{n \in \N}$ converge.
\end{proof}

\subsection{Espaços normados de dimensão finita}

Espaços lineares $\bm E$ de dimensão finita $d \in \N$ sobre um corpo podem ser identificados com $\bm{C^d}$. Nesses casos, a menos que seja mencionado o contrário, sempre consideraremos a base canônica
	\begin{equation*}
	e_i = (0,\dots,0,\underbrace{1}_i,0,\dots,0)
	\end{equation*}
em $\bm{C^d}$ e todo vetor $v \in \bm{C^d}$ será representado como $v=(v_0,\dots,v_{d-1})$.

\begin{definition}
Sejam $\bm E$ um espaço linear finito $d$-dimensional sobre um corpo normado $(\bm C,\abs{\var})$ e $p \in \intfa{1}{\infty}$. A \emph{norma $p$} em $\bm E$ é a função
	\begin{align*}
	\func{\nor{\cdot}_p}{E}{\R}{v}{\left(\sum_{i=0}^{d-1}\abs{v_i}^p\right)^{\frac{1}{p}}}.
	\end{align*}
A \emph{norma $\infty$} em $\bm E$ é a função
	\begin{align*}
	\func{\nor{\cdot}_\infty}{E}{\R}{v}{\max_{i \in [d]} \abs{v_i}}.
	\end{align*}
\end{definition}

Pode-se verificar que $\displaystyle\lim_{p \conv \infty} \nor{v}_p = \nor{v}_\infty$.

\begin{proposition}
Sejam $\bm E$ um espaço linear finito $d$-dimensional sobre um corpo normado $(\bm C,\abs{\var})$ e $p \in \intfa{1}{\infty}$.
	\begin{enumerate}
	\item A norma $p$ em $\bm E$ é uma norma;
	\item Para todo $v \in E$,
		\begin{equation*}
		\nor{v}_\infty \leq \nor{v}_p \leq d^{p\inv}\nor{v}_\infty.
		\end{equation*}
	\end{enumerate}
\end{proposition}

\begin{proposition}
Sejam $\bm E$ um espaço vetorial sobre um corpo normado completo $(\bm C,\abs{\var})$.
	\begin{enumerate}
	\item A bola $\B$ é compacta se, e somente se, a dimensão de $\bm E$ é finita.
	\item Se a dimensão de $\bm E$ é finita, todas normas em $\bm E$ são equivalentes;
	\item Se a dimensão de $\bm E$ é finita, todas as normas fazem de $\bm E$ um espaço completo.
	\end{enumerate}
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item Será demonstrado mais adiante.

	\item Vamos mostrar que toda norma em $\bm E$ é equivalente a $\nor{\cdot}_1$ e, como equivalência de normas é uma relação de equivalência, seguirá que todas normas são equivalentes em $\bm E$. Seja $\nor{\cdot}$ uma norma em $\bm E$. Para todo $v \in E$, definindo $c := \max_{i \in [d]} \nor{e_i}$, em que $\{e_i\}_{i \in [d]}$ é a base canônica de $\bm E$, segue que
	\begin{equation*}
	\nor{v} = \nor{\sum_{i=0}^{d-1} v_ie_i} \leq \sum_{i=0}^{d-1}\abs{v_i}\nor{e_i} \leq c\nor{v}_1.
	\end{equation*}
A outra parte da equivalência segue do fato de que todo conjunto fechado e limitado em $\bm C$ é sequencialmente compacto.

Suponha, por absurdo, que não exista $k \in \intaa{0}{\infty}$ tal que, para todo $v \in E$, $k\inv\nor{v}_1 \leq \nor{v}$. Assim, para todo $n \in \N$, existe $v_n \in E$ com $\nor{v_n}_1 = 1$ e $1 = \nor{v_n}_1 > n\nor{v_n}$. Como $\S$ é compacta, já que a dimensão é finita, existe subsequência $(v_{n_k})_{k \in \N}$ convergindo a $v'$ em $(\bm E,\nor{\var}_1)$. Como a norma é contínua, segue que $\nor{v'}_1 = 1$. Pela desigualdade anterior, tem-se
	\begin{equation*}
	\nor{v'} \leq \nor{v' - v_{n_k}} + \nor{v_{n_k}} \leq c\nor{v' - v_{n_k}}_1 + \frac{1}{n_k},
	\end{equation*}
que converge para $0$ quando $k \conv \infty$; ou seja, $\nor{v'}=0$ e portanto $v'=0$, o que contradiz $\nor{v'}_1=1$.

	\item Como todas as normas são equivalentes, basta provar para $\nor{\var}_1$. Seja $(v_n)_{n \in \N} = (\sum_{i \in [d]} v_n^i e_i)_{n \in \N}$ uma sequência aproximante em $(\bm E,\nor{\var}_1)$. Como
		\begin{equation*}
		\sum_{i \in [d]} \abs{v_n^i - v_{n'}^i} = \nor{v_n - v_{n'}}_1,
		\end{equation*}
segue que, para todo $i \in [d]$, a sequência $(v_n^i)_{n \in \N}$ é aproximante em $\bm C$ e então, da completude de $\bm C$, converge para algum $v_\infty^i \in C$. Definindo $v_\infty := \sum_{i \in [d]} v_\infty^ie_i$ em $\bm E$, segue que
	\begin{equation*}
	\lim_{n \conv \infty} \nor{v_n - v_\infty}_1 = \lim_{n \conv \infty} \sum_{i \in [d]} \abs{v_n^i - v_\infty^i} = 0,
	\end{equation*}
ou seja, $(v_n)_{n \in \N} \conv v_\infty$ e o espaço é completo.
	\end{enumerate}
\end{proof}

Concluímos que um espaço linear normado de dimensão finita tem uma única topologia determinada por norma.
% Essa topologia é chamada às vezes de \emph{topologia uniforme}.
Portanto todas noções topológicas relacionadas a espaços normados são independentes da norma escolhida.














\subsection{Espaços de funções absolutamente somáveis}

\begin{definition}
Sejam $X$ um conjunto, $(\bm C,\abs{\var})$ um corpo normado
%completo?
 e $p \in \intfa{0}{\infty}$. Uma função \emph{absolutamente $p$-somável} (ou \emph{absolutamente somável na potência $p$}) é uma função $f\colon X \to C$ tal que
	\begin{equation*}
	\sum_{x \in X} \abs{f(x)}^p < \infty.
	\end{equation*}
O conjunto das funções absolutamente $p$-somáveis é denotado $\Smvl^p(X,C)$.

Uma função \emph{absolutamente $\infty$-somável} (ou \emph{absolutamente somável na potência $\infty$}, ou ainda \emph{essencialmente absolutamente somável}) é uma função $f\colon X \to C$ tal que
	\begin{equation*}
	\sup_{x \in X} \abs{f(x)} < \infty.
	\end{equation*}
O conjunto das funções absolutamente $\infty$-somáveis é denotado $\Smvl^\infty(X,C)$.
\end{definition}

Note que as definições implicam que, para todo $p \in \intff{0}{\infty}$, as funções $f \in \Smvl^p(X,C)$ são nulas a menos de um subconjunto contável de $X$; ou seja, têm suporte contável: $\card{\supp(f)} \leq \card{\N}$. O conjunto $\Smvl^0(X,C)$ é, de fato, o conjunto de funções com suporte finito, pois a soma será finita se, e somente se, a função tiver uma quantidade finita de valores. O conjunto $\Smvl^\infty(X,C)$ é o conjunto das funções de valor absoluto (ou norma) limitado. Quando $X=\N$ ou $X=\Z$, os espaços são espaços de sequências infinitas unilaterais ou bilaterais, respectivamente. Esses espaços são todos subespaços lineares do espaço $C^X$ de funções $f\colon X \to C$, que é espaço linear já que o corpo $\bm C$ é um espaço linear sobre si mesmo.

\begin{proposition}
Sejam $X$ um conjunto, $(\bm C,\abs{\var})$ um corpo normado
%completo?
 e $p \in \intfa{0}{\infty}$. O espaço $\Smvl^p(X,C)$ é subespaço linear de $C^X$.
\end{proposition}
\begin{proof}
Consideramos dois casos. (1) Seja $p \in \intfa{1}{\infty}$. Para todos $c \in C$ e $f,f' \in \Smvl^p(X,C)$,
	\begin{align*}
	\sum_{x \in X} \abs{(cf+f')(x)}^p &= \sum_{x \in X} \abs{cf(x)+f'(x)}^p \\
		&\leq \sum_{x \in X} \left( \abs{c}\abs{f(x)}+ \abs{f'(x)} \right)^p \\
		&\leq 2^{p-1} \left( \abs{c}^p \sum_{x \in X} \abs{f(x)}^p + \sum_{x \in X} \abs{f'(x)}^p \right) \\
		&< \infty,
	\end{align*}
pois $\sum_{x \in X} \abs{f(x)}^p < \infty$ e $\sum_{x \in X} \abs{f'(x)}^p < \infty$. Isso mostra que $cf+f' \in \Smvl^p(X,C)$, portanto que $\Smvl^p(X,C)$ é um espaço linear, subespaço de $C^X$.

(2) Para todos $c \in C$ e $f,f' \in \Smvl^\infty(X,C)$,
	\begin{equation*}
	\sup_{x \in X} \abs{(cf+f')(x)} \leq \abs{c}\sup_{x \in X} \abs{f(x)} + \sup_{x \in X} \abs{f'(x)} < \infty,
	\end{equation*}
pois $\sup_{x \in X} \abs{f(x)} < \infty$ e $\sup_{x \in X} \abs{f'(x)} < \infty$. Isso mostra que $cf+f' \in \Smvl^\infty(X,C)$, portanto que $\Smvl^\infty(X,C)$ é um espaço linear, subespaço de $C^X$.
\end{proof}

Embora esses espaços possam ser definidos para quaisquer $p \in \intff{0}{\infty}$ e sejam espaços lineares em todos os casos, nem todos esses espaços admitem os mesmos tipos de estrutura além da de espaço linear.

\begin{definition}
Sejam $X$ um conjunto e $(\bm C, \abs{\var})$ um corpo normado.
	\begin{enumerate}
	\item Para todo $p \in \intfa{0}{1}$, a \emph{distância $p$} entre $f,f' \in \Smvl^p(X,C)$ é
	\begin{equation*}
	\dist{f}{f'}_p :=  \sum_{x \in X} \abs{f'(x) - f(x)}^p.
	\end{equation*}

	\item Para todo $p \in \intfa{1}{\infty}$, a \emph{norma $p$} de $f \in \Smvl^p(X,C)$ é
	\begin{equation*}
	\nor{f}_p := \left( \sum_{x \in X} \abs{f(x)}^p \right)^{p\inv}.
	\end{equation*}
A \emph{norma $\infty$} de $f \in \Smvl^\infty(X,C)$ é
	\begin{equation*}
	\nor{f}_\infty := \sup_{x \in X} \abs{f(x)}.
	\end{equation*}
	\end{enumerate}
\end{definition}

A função $\nor{\var}_p$ é uma norma em $\Smvl^p(X,C)$, a \emph{norma $p$}, e $p$ pode ser descrito como a \emph{potência} da norma e do espaço. Quando $X$ é finito, esse espaço é simplesmente o espaço vetorial finito $C^X$ definido anteriormente e as $p$-normas definidas para espaços de dimensão finita coincidem com essas. Quando $X=\N$ ou $X=\Z$, os espaços são espaços de sequências infinitas unilaterais ou bilaterais, respectivamente.

\begin{proposition}
Sejam $X$ um conjunto e $(\bm C, \abs{\var})$ um corpo normado completo.
	\begin{enumerate}
	\item Para todo $p \in \intfa{0}{1}$, o espaço $(\Smvl^p(X,C),\dist{\var}{\var}_p)$ é um espaço métrico completo;

	\item Para todo $p \in \intff{1}{\infty}$, o espaço $(\Smvl^p(X,C),\nor{\var}_p)$ é um espaço normado completo.
	\end{enumerate}
\end{proposition}


\subsection{Espaços de funções absolutamente integráveis}

Consideraremos funções de um espaço de medida $\bm X$ para um corpo normado $\bm C$. Esse corpo deve ser entendido, em geral, como $\R$ ou $\C$, pois alguns detalhes não serão especificados, por exemplo qual a estrutura de espaço de medida de um corpo normado qualquer, ou ainda um problema maior, o que é a integral de uma função com valores em um corpo qualquer.

Lembremos que o conjunto de funções mensuráveis de $\bm X$ para $\bm C$ é denotadas $\Men(\bm X,\bm C)$ e o conjunto das quase funções (classe de equivalência de funções que são iguais a menos de um conjunto de medida nula) mensuráveis é denotado $\Menq(\bm X,\bm C)$.

Antes da definição a seguir, ressaltamos dois comentários. Primeiro, definimos que elevar um número positivo a $0$ dará o seguinte resultado:
	\begin{align*}
	\func{(\var)^0}{\intfa{0}{\infty}}{\intfa{0}{\infty}}{x}{
		\begin{cases}
			0,& x=0 \\
			1,& x \neq 0.
		\end{cases}
	}
	\end{align*}

Isso faz com que, para toda função $f\colon X \to C$,
	\begin{equation*}
	\abs{f}^0 = \idc_{\supp(f)}.
	\end{equation*}

Segundo, lembremos que o supremo essencial de uma função $f$ é definido por
	\begin{equation*}
	\supess (f) := \inf \set{t \in \intaa{0}{\infty}}{\qforall_{x \in X} f(x) \leq t},
	\end{equation*}
em que $\qforall$ é `para quase todo', ou seja, existe conjunto nulo $N$ tal que, para todo $x \in X \setminus N$, a propriedade vale.

\begin{definition}
Sejam $\bm X$ um espaço de medida, $(\bm C,\abs{\var})$ um corpo normado e $p \in \intfa{0}{\infty}$. Uma função \emph{absolutamente $p$-integrável}\footnote{Essas funções não recebem esse nome usualmente. O espaço $\Intg^p(\bm X,\bm C)$ é geralmente chamado de espaço $L^p(\bm X,\bm C)$, em homenagem a Henri Lebesgue, embora de acordo com conjunto dos Bourbaki o criador dos espaços tenha sido Frigyes Riesz (\url{https://en.wikipedia.org/wiki/Lp_space}).} de $\bm X$ para $\bm C$ é uma função $f \in \Men(\bm X,\bm C)$ tal que
	\begin{equation*}
	\int \abs{f}^p \dd\med < \infty.
	\end{equation*}
O conjunto das quase funções absolutamente $p$-integráveis é denotado $\Intg^p(\bm X,\bm C)$.

Uma função \emph{absolutamente $\infty$-integrável} é uma função $f \in \Men(\bm X,\bm C)$ tal que
	\begin{equation*}
	\supess(\abs{f}) < \infty.
	\end{equation*}
O conjunto das quase-funções absolutamente $\infty$-integráveis é denotado $\Intg^\infty(\bm X,\bm C)$.
\end{definition}

Note que, os espaços $\Intg^p(\bm X,\bm C)$ são espaços de quase funções, ou seja, espaços de classes de equivalência de funções, cuja equivalência é ser igual a menos de um conjunto de medida nula. Na prática, trataremos essas quase funções como funções, mas esse detalhe tem que estar sempre claro para o leitor.

Por definição, para todo $p \in \intff{0}{\infty}$, vale que
	\begin{equation*}
	\Intg^p(\bm X,\bm C) \subseteq \Menq(\bm X,\bm C),
	\end{equation*}
pois $\Menq(\bm X,\bm C)$ é o espaço de quase-funções mensuráveis. As inclusões não são somente de conjuntos, no entanto. De fato, como $\Menq(\bm X,\bm C)$ é um espaço linear, os espaços $\Intg^p(\bm X,\bm C)$ herdam uma estrutura de espaço linear e pode-se mostrar que eles são subespaços lineares de $\Menq(\bm X,\bm C)$. Inclusões relacionando diferentes espaços $\Intg^p(\bm X,\bm C)$ e $\Intg^q(\bm X,\bm C)$ não são tão óbvias e não serão abordadas por enquanto. O caso em que $p=0$ nos dá que $\Intg^0(\bm X,\bm C)$ é o conjunto das funções cujo suporte tem medida finita.

Esta proposição auxiliará a demonstração da proposição seguinte.

% Relacionada com \url{https://en.wikipedia.org/wiki/Jensen%27s_inequality}.
\begin{proposition}
\label{ana:prop.desig.pot.soma}
Sejam $a,b \in \intff{0}{\infty}$.
	\begin{enumerate}
%	\item
%		\begin{equation*}
%		\frac{a+b}{1+a+b} \leq \frac{a}{1+a} + \frac{b}{1+b};
%		\end{equation*}
	\item Para todo $p \in \intff{0}{1}$,
		\begin{equation*}
		(a+b)^p \leq a^p + b^p;
		\end{equation*}
	\item Para todo $p \in \intfa{1}{\infty}$,
		\begin{equation*}
		(a+b)^p \leq 2^{p-1}(a^p+b^p).
		\end{equation*}
	\end{enumerate}
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item Para $p \in \intff{0}{1}$, como a função
		\begin{align*}
		\func{(\var)^p}{\intfa{0}{\infty}}{\intfa{0}{\infty}}{t}{t^p}
		\end{align*}
é côncava\footnote{Inclusive para $p=0$ e $p=1$.} e $0^p = 0 \geq 0$, segue que ela é subaditiva\footnote{A demonstração é simples e pode ser conferida em \url{https://en.wikipedia.org/wiki/Subadditivity}}.
%	Seja $q:=1-p$. Então
%		\begin{align*}
%		(a+b)^p &= (a+b)^{1-q} \\
%			&= a(a+b)^{-q} + b(a+b)^{-q} \\
%			&\leq aa^{-q} + bb^{-q} \\
%			&= a^p + b^p.
%		\end{align*}

	\item Para $p \in \intfa{1}{\infty}$, como a função
		\begin{align*}
		\func{(\var)^p}{\intfa{0}{\infty}}{\intfa{0}{\infty}}{t}{t^p}
		\end{align*}
é convexa\footnote{Note que vale também para $p=1$.}, segue que
		\begin{equation*}
		(a+b)^p = 2^p(2\inv a + 2\inv b)^p \leq 2^p \left( 2\inv a^p + 2\inv b^p \right) = 2^{p-1} (a^p + b^p).
		\end{equation*}
	\end{enumerate}
\end{proof}

\begin{proposition}
Sejam $\bm X$ um espaço de medida, $\bm C$ um corpo normado e $p \in \intff{0}{\infty}$. O espaço $\Intg^p(\bm X,\bm C)$ é um espaço linear.
% PRECISO EXPLICAR O QUE É UMA FUNÇÃO DE X PARA O CORPO NORMADO C SER MENSURÁVEL. O CORPO NORMADO C TEM É UM ESPAÇO DE MEDIDA?? COMO?? PROVAVELMENTE USANDO A DISTÂNCIA, PORQUE ELA DEFINE UMA MEDIDA EM C, E ESSA MEDIDA BATE COM A MEDIDA DE \R. MAS ELA BATE COM A DE \C TAMBÉM?? PROVAVELMENTE SIM, MAS TEM QUE SER CONFERIDO.
\end{proposition}
\begin{proof}
Demonstraremos que os espaços $\Intg^p(\bm X,\bm C)$ são espaços lineares mostrando que são subespaços lineares de $\Menq(\bm X,\bm C)$. Sejam $c \in C$ e $f,f' \in \Intg^p(\bm X,\bm C)$. Consideramos três casos.
	\begin{enumerate}
	\item Seja $p \in \intfa{0}{1}$. Segue de \ref{ana:prop.desig.pot.soma} e da homogeneidade absoluta e subaditividade de $\abs{\var}$ que
		\begin{equation*}
		\abs{cf+f'}^p \leq \abs{\abs{cf}+\abs{f'}}^p \leq \abs{c}^p\abs{f}^p +  \abs{f'}^p.
		\end{equation*}
Como $\int \abs{f}^p \dd\med < \infty$ e $\int \abs{f'}^p \dd\med < \infty$,
		\begin{align*}
		\int \abs{cf+f'}^p \dd\med &\leq \int \left( \abs{c}^p\abs{f}^p +  \abs{f'}^p \right) \dd\med \\
			&= \abs{c}^p \int \abs{f}^p \dd\med + \int \abs{f'}^p \dd\med \\
			&< \infty,
		\end{align*}
o que mostra que $cf+f' \in \Intg^p(\bm X,\bm C)$.

	\item Seja $p \in \intfa{1}{\infty}$. Segue de \ref{ana:prop.desig.pot.soma} e da homogeneidade absoluta e subaditividade de $\abs{\var}$ que
		\begin{equation*}
		\abs{cf+f'}^p \leq \abs{\abs{cf}+\abs{f'}}^p \leq 2^{p-1}\left( \abs{c}^p\abs{f}^p +  \abs{f'}^p \right).
		\end{equation*}

Como $\int \abs{f}^p \dd\med < \infty$ e $\int \abs{f'}^p \dd\med < \infty$, segue dessa desigualdade que
	\begin{align*}
	\int \abs{cf+f'}^p \dd\med &\leq \int 2^{p-1} \left( \abs{c}^p\abs{f}^p + \abs{f'}^p \right) \dd\med \\
		&= 2^{p-1} \left( \abs{c}^p \int \abs{f}^p \dd\med + \int \abs{f'}^p \dd\med \right) \\
		&< \infty,
	\end{align*}
o que mostra que $cf+f' \in \Intg^p(\bm X,\bm C)$.

	\item Para $p=\infty$, é claro que, como $\abs{cf+f'} \leq \abs{c}\abs{f} + \abs{f'}$,
	\begin{equation*}
	\supess(\abs{cf+f'}) \leq \abs{c}\supess(\abs{f}) + \supess(\abs{f'}) < \infty,
	\end{equation*}
pois $\supess(\abs{f}) < \infty$ e $\supess(\abs{f'}) < \infty$, o que mostra que $cf+f' \in \Intg^\infty(\bm X,\bm C)$.								\qedhere
	\end{enumerate}
\end{proof}

\begin{definition}
Sejam $\bm X$ um espaço de medida e $(\bm C, \abs{\var})$ um corpo normado.
	\begin{enumerate}
%	\item A \emph{distância $0$} entre $f,f' \in \Menq(X,C)$ é
%		\begin{equation*}
%		\dist{f,f'}_0 := \int \frac{\abs{f'-f}}{1+\abs{f'-f}} \dd\med.
%		\end{equation*}
%
	\item Para todo $p \in \intfa{0}{1}$, a \emph{distância $p$} entre $f,f' \in \Menq(\bm X,\bm C)$ é
		\begin{equation*}
		\dist{f}{f'}_p := \int \abs{f'-f}^p \dd\med.
		\end{equation*}

	\item Para todo $p \in \intfa{1}{\infty}$, a \emph{norma $p$} de $f \in \Menq(\bm X,\bm C)$ é
		\begin{equation*}
		\nor{f}_p := \left( \int \abs{f}^p \dd\med \right)^{p\inv}.
		\end{equation*}

	\item A \emph{norma $\infty$} de $f \in \Menq(\bm X,\bm C)$ é
		\begin{equation*}
		\nor{f}_\infty := \supess(\abs{f}).
		\end{equation*}
	\end{enumerate}
\end{definition}
% A topologia induzida em $\Menq(X,C)$ pela métrica é a topologia de convergência em medida. Estudar melhor a convergência em medida.

Esses valores nem sempre são menores que $\infty$ para qualquer quase-função mensurável. As distâncias $p$ são de fato distâncias quando restritas a $\Intg^p(\bm X,\bm C)$, $p \in \intfa{0}{1}$, e as normas $p$ são de fato normas quando restritas a $\Intg^p(\bm X,\bm C)$, $p \in \intff{1}{\infty}$, mas ainda não demonstraremos isso. Para essas demonstrações, precisamos primeiro estabelecer algumas desigualdade clássicas que envolvem esses valores. Essas normas serão avaliadas mais à frente em quase-funções mensuráveis quaisquer,

\subsubsection{Desigualdades das normas \ensuremath{p}}

Nesta seção, trabalharemos com pares de números $p,q \in \intff{1}{\infty}$ tais que
	\begin{equation*}
	p\inv + q\inv = 1.
	\end{equation*}
Esses números $p$ e $q$ são às vezes chamados de `conjugados de Hölder'. Como $p\inv + q\inv = 1$, segue que $q = \frac{p}{p-1}$. Além disso, esses são os pares de números cuja média harmônica $M_{-1}$ é igual a $2$, já que
	\begin{equation*}
	M_{-1}(p,q) = \frac{2}{p\inv + q\inv} = 2.
	\end{equation*}
Por causa disso, chamaremos esses números de \textit{duais harmônicos}\footnote{A escolha do termo \textit{dual} ficará clara mais adiante, quando forem analisadas as propriedades do espaço dual de $\Intg^p$}. O fato de $2$ ser o dual de $2$ será relevante na teoria de espaços com produto interno completos. Sob essa perspectiva, $2$ está no `meio da caminho' entre $1$ e $\infty$. Deve-se comentar a respeito de $p=1$ ou $p=\infty$. Consideraremos que $1$ e $\infty$ são duais harmônicos, como se tivéssemos $\infty\inv=0$, de modo que $1\inv + \infty\inv = 1$. Em geral, no entanto, tomaremos cuidado para não realizarmos operações mal definidas com $0$ e $\infty$, e na prática bastará a afirmação de que $1$ e $\infty$ são conjugados.

\begin{definition}
A função \emph{dual harmônico} em $\intff{1}{\infty}$ é
	\begin{align*}
	\func{\dual}{\intff{1}{\infty}}{\intff{1}{\infty}}{p}{p\dual =
	\begin{cases}
		\infty,& p=1 \\
		\displaystyle\frac{p}{p-1},& p \in \intaa{1}{\infty} \\
		1,& p=\infty
	\end{cases}
	}.
	\end{align*}
\end{definition}

\begin{figure}
\centering
\begin{tikzpicture}[scale=1]
%	\draw (1,1) node[anchor=east] {$1$} -- (2,1) node[anchor=north] {$2$} -- (6,1) node[anchor=north] {$\infty$};
	\draw (6/5,6/5) node[anchor=north east] {$1$} -- (2,6/5) node[anchor=north] {$2$} -- (6,6/5) node[anchor=north] {$\infty$};
%	\draw (1,1) -- (1,2) node[anchor=east] {$2$} -- (1,6) node[anchor=east] {$\infty$};
	\draw (6/5,6/5) -- (6/5,2) node[anchor=east] {$2$} -- (6/5,6) node[anchor=east] {$\infty$};
%	\draw[dotted] (2,1) -- (2,2) -- (1,2);
	\draw[dotted] (2,6/5) -- (2,2) -- (6/5,2);
%	\draw plot [domain=6/5:6,smooth] (\x,{\x/(\x-1)});
	\draw plot [domain=6/5:6,smooth] (\x,{\x/(\x-1)});
\end{tikzpicture}
\caption{Gráfico da função $\dual\colon \intff{1}{\infty} \to \intff{1}{\infty}, p \mapsto \frac{p}{p-1}$.}
\label{fig:dual.harmonico}
\end{figure}

\begin{proposition}[\footnote{Essa desiguldade é conhecida como `desigualdade de produtos de Young', em homenagem ao matemático inglês \textit{William Henry Young} (20/10/1863 – 07/07/1942). \url{https://en.wikipedia.org/wiki/Young\%27s_inequality_for_products}.}]
\label{prop:ana.desig.young}
Sejam $a,b \in \intfa{0}{\infty}$ e $p \in \intaa{1}{\infty}$. Então
	\begin{equation*}
	ab \leq a^p p\inv + b^{p\dual} {p\dual}\inv
	\end{equation*}
e a igualdade vale se, e somente se, $a^p = b^{p\dual}$.
\end{proposition}
\begin{proof}
Para $a=0$ ou $b=0$, a afirmação é claramente verdadeira. Considere $a \neq 0$ e $b \neq 0$. Como $p\inv + {p\dual}\inv = 1$, da concavidade da função logarítmica segue que
	\begin{align*}
	\log(ab) = \log(a) + \log(b) = p\inv \log(a^p) + {p\dual}\inv \log(b^{p\dual}) \leq \log(p\inv a^p + {p\dual}\inv b^{p\dual}).
	\end{align*}
e a igualdade vale se, e somente se, $a^p = b^{p\dual}$. Como a função exponencial é crescente, conclui-se que $ab \leq a^p p\inv + b^{p\dual} {p\dual}\inv$.
\end{proof}

Essa desigualdade será usada na próxima demonstração.

% DEMONSTRAÇÃO ALTERNATIVA SUGERIDA NO EXERCÍCIO 1.20 (p.9) DO LIVRO INTRODUÇÃO À ANÁLISE FUNCIONAL DE CÉSAR R. DE OLIVEIRA
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{comment}

\begin{proposition}
Sejam $p \in \intaa{1}{\infty}$, $q:= \frac{p}{p-1} \in \intaa{0}{\infty}$ (de modo que $p\inv + q\inv = 1$) e
	\begin{align*}
	\func{f}{\intfa{0}{\infty}}{\R}{t}{\frac{t^p}{p}-t}.
	\end{align*}
	\begin{enumerate}
	\item O mínimo de $f$ é atingido em $t=1$ e vale $f(1)=-\frac{1}{q}$;

	\item Para todo $t \in \intfa{0}{\infty}$,
		\begin{equation*}
		t \leq \frac{t^p}{p} + \frac{1}{q};
		\end{equation*}

	\item Para todos $r,s \in \intfa{0}{\infty}$,
		\begin{equation*}
		rs \leq \frac{r^p}{p} + \frac{s^q}{q}.
		\end{equation*}
	\end{enumerate}
\end{proposition}
\begin{proof}
Primeiro, ressaltamos que $q p\inv = (p-1)\inv$, $q p\inv - q = -1$ e $q p\inv +1=q$, pois isso facilitará as contas.
	\begin{enumerate}
	\item A função $f$ é claramente contínua e diferenciável em $\intaa{0}{\infty}$. A diferencial de $f$ é $\D f(t) = t^{p-1}-1$, o que implica que, se $\D f(t)=0$, $t=1$. Temos que $f(1)=\frac{1^p}{p}-1 = -\frac{p-1}{p} = -\frac{1}{q}$. Para mostrar que esse é o mínimo, basta notar que $f(0)=0 > -\frac{p-1}{p}$.

	\item Como $t=1$ é um ponto de mínimo, segue que
		\begin{equation*}
		-\frac{1}{q} = f(1) \leq \frac{t^p}{p}-t,
		\end{equation*}
logo
		\begin{equation*}
		t \leq \frac{t^p}{p} + \frac{1}{q}.
		\end{equation*}

	\item Para $r=0$ ou $s=0$, é direto notar que a desigualdade é válida. Para $r \neq 0$ e $s \neq 0$, tomamos $t=r s^{-qp\inv}$ na desigualdade do item anterior e segue que
		\begin{equation*}
		r s^{-qp\inv} \leq \left( r s^{-q p\inv} \right)^p p\inv + q\inv = r^p s^{-q} p\inv + q\inv,
		\end{equation*}
então
		\begin{equation*}
		r \leq r^p s^q s^{qp\inv} p\inv + s^{qp\inv}q\inv = r^p s\inv p\inv + s^{qp\inv}q\inv,
		\end{equation*}
portanto
		\begin{equation*}
		rs \leq r^p p\inv + s^{qp\inv+1}q\inv = r^p p\inv+s^q q\inv.					\qedhere
		\end{equation*}
	\end{enumerate}
\end{proof}

\begin{figure}
\centering
\begin{tikzpicture}[scale=2]
	\draw (0,0) node[anchor=east] {$0$} -- (1,0) node[anchor=south] {$1$} -- (2,0);
	\draw (0,-1) -- (0,-2/3) node[anchor=east] {$-\frac{1}{q} = -\frac{p}{p-1}$} -- (0,0) -- (0,2);
	\draw[dotted] (1,0) -- (1,-2/3) -- (0,-2/3);
	\draw plot [domain=0:2,smooth] (\x,{\x^3/3 - \x});
\end{tikzpicture}
\caption{Gráfico da função $f\colon \intfa{0}{\infty} \to \R, t \mapsto \frac{t^p}{p}-t$ para $p \in \intaa{1}{\infty}$.}
\label{fig:desig.young.alter}
\end{figure}

\end{comment}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{proposition}[\footnote{Essa desigualdade é conhecida como `desigualdade de Hölder', em homenagem ao matemático alemão \textit{Otto Ludwig Hölder} (22/12/1859 – 29/08/1937). \url{https://en.wikipedia.org/wiki/H\%C3\%B6lder\%27s_inequality}.}]
\label{prop:ana.desig.holder}
Sejam $\bm X$ um espaço de medida, $(\bm C,\abs{\var})$ um corpo normado e $p \in \intff{1}{\infty}$. Para todas funções $f,f' \in \Menq(\bm X,\bm C)$,
	\begin{equation*}
%	\abs{\inte{f}{f'}}^2 \leq
	\nor{ff'}_1 \leq \nor{f}_p \nor{f'}_{p\dual}.
	\end{equation*}
\end{proposition}
\begin{proof}
Primeiro, tratamos de alguns casos triviais. Se $\nor{f}_p=0$, então $f=0$, portanto $ff'=0$ e segue que $\nor{ff'}_1=0$, logo a desigualdade vale. O mesmo vale para $\nor{f'}_{p\dual}=0$, portanto assumimos que $\nor{f}_p \neq 0$ e $\nor{f'}_{p\dual} \neq 0$. Se $\nor{f}_p=\infty$ ou $\nor{f'}_{p\dual}=\infty$, então $\nor{f}_p \nor{f'}_{p\dual}=\infty$, logo a desigualdade vale. Portanto assumimos também que $\nor{f}_p \neq \infty$ e $\nor{f'}_{p\dual} \neq \infty$. Se $p=\infty$ e ${p\dual}=1$, então $\abs{ff'} \leq \nor{f}_\infty \abs{f'}$ quase sempre, e a desigualdade segue da monotonicidade da integral. O mesmo vale para $p=1$ e ${p\dual}=\infty$, portanto podemos assumir ainda que $p,{p\dual} \in \intaa{1}{\infty}$.

Pela desigualdade de produtos \ref{prop:ana.desig.young}, segue que, para todo $x \in X$,
	\begin{equation*}
	\abs{\frac{f(x)}{\nor{f}_p} \frac{f'(x)}{\nor{f'}_{p\dual}}} \leq \abs{\frac{f(x)}{\nor{f}_p}}^p p\inv + \abs{\frac{f'(x)}{\nor{f'}_{p\dual}}}^{p\dual} {p\dual}\inv.
	\end{equation*}
Integrando ambos os lados, segue que
	\begin{equation*}
	\frac{\nor{ff'}_1}{\nor{f}_p \nor{f'}_{p\dual}} \leq \frac{\nor{f}_p^p}{\nor{f}_p^p} p\inv + \frac{\nor{f'}_{p\dual}^{p\dual}}{\nor{f'}_{p\dual}^{p\dual}} {p\dual}\inv = p\inv + {p\dual}\inv = 1,
	\end{equation*}
portanto $\nor{ff'}_1 \leq \nor{f}_p \nor{f'}_{p\dual}$, o que demonstra a proposição.
\end{proof}

\subsubsection{Os espaços de funções absolutamente integráveis são normados (e completos)}

Para todo $p \in \intff{0}{\infty}$, os espaços $\Intg^p(\bm X,\bm C)$ são espaços lineares, pois são subespaços de $\Menq(\bm X,\bm C)$. Além disso, para $p \in \intff{1}{\infty}$, a norma $p$ é de fato uma norma em $\Intg^p(\bm X,\bm C)$ e, se o corpo normado $\bm C$ for completo, a distância induzida pela norma faz de $\Intg^p(\bm X,\bm C)$ um espaço normado completo\footnote{Esse resultado de completude é conhecido por `teorema de Riesz–Fischer', em homenagem ao matemático húngaro \textit{Frigyes Riesz} (22/01/1880 -- 28/02/1956) e ao matemático austríaco \textit{Ernst Sigismund Fischer} (12/07/1875 -- 14/11/1954). \url{https://en.wikipedia.org/wiki/Riesz\%E2\%80\%93Fischer_theorem}}. O ponto mais difícil da demonstração é a subaditividade\footnote{A subaditividade para normas $p$ é conhecida como `desigualdade de Minkowski', em homenagem ao matemático alemão \textit{Hermann Minkowski} (22/06/1864 -- 12/01/1909). \url{https://en.wikipedia.org/wiki/Minkowski_inequality}.} da norma $p$.

Para $p \in \intfa{0}{1}$, não se pode definir uma norma desse mesmo modo, pois a subaditividade falha, mas a distância $p$ é de fato uma distância em $\Intg^p(\bm X,\bm C)$ e, se o corpo normado $\bm C$ for completo, $\Intg^p(\bm X,\bm C)$ é completo.

\begin{proposition}
Sejam $\bm X$ um espaço de medida e $(\bm C,\abs{\var})$ um corpo normado.
	\begin{enumerate}
	\item Para todo $p \in \intfa{0}{1}$, o espaço $(\Intg^p(\bm X,\bm C),\dist{\var}{\var}_p)$ é um espaço métrico invariante por translação. Se $(\bm C,\abs{\var})$ é completo, então $(\Intg^p(\bm X,\bm C),\dist{\var}{\var}_p)$ é completo.

	\item Para todo $p \in \intff{1}{\infty}$. O espaço $(\Intg^p(\bm X,\bm C),\nor{\var}_p)$ é um espaço normado. Se $(\bm C,\abs{\var})$ é completo, então $(\Intg^p(\bm X,\bm C),\nor{\var}_p)$ é completo.
	\end{enumerate}
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item Exercício.

	\item (Separação) Seja $f \in \Intg^p(\bm X,\bm C)$ tal que $\nor{f}_p = 0$. Então $\abs{f}^p = 0$, portanto $f=0$.

(Homogeneidade absoluta) Sejam $c \in C$ e $f \in \Intg^p(\bm X,\bm C)$. Então
		\begin{align*}
		\nor{cf}_p &= \left( \int \abs{cf}^p \dd\med \right)^{p\inv} \\
			&= \left( \abs{c}^p \int \abs{f}^p \dd\med \right)^{p\inv} \\
			&= \abs{c} \left( \int \abs{f}^p \dd\med \right)^{p\inv} \\
			&= \abs{c}\nor{f}_p.
		\end{align*}

(Subaditividade) Sejam $f,f' \in \Intg^p(\bm X,\bm C)$. Se $\nor{f+f'}_p = 0$, então claramente $\nor{f+f'}_p = 0 \leq \nor{f}_p + \nor{f'}_p$. Assumamos então que $\nor{f+f'}_p \neq 0$. Pela subaditividade de $\abs{\var}$ e pela desigualdade \ref{prop:ana.desig.holder}, segue que
		\begin{align*}
		\nor{f+f'}_p^p &= \int \abs{f+f'}^p \dd\med \\
			&= \int \abs{f+f'}\abs{f+f'}^{p-1} \dd\med \\
			&\leq \int \left( \abs{f} + \abs{f'} \right) \abs{f+f'}^{p-1} \dd\med \\
			&= \int \abs{f}\abs{f+f'}^{p-1} \dd\med + \int \abs{f'}\abs{f+f'}^{p-1} \dd\med \\
			&= \nor{\abs{f}\abs{f+f'}^{p-1}}_1 + \nor{\abs{f'}\abs{f+f'}^{p-1}}_1 \\
			&\leq \nor{\abs{f}}_p \nor{\abs{f+f'}^{p-1}}_{p\dual} + \nor{\abs{f'}}_p \nor{\abs{f+f'}^{p-1}}_{p\dual} \\
			&= \left( \nor{f}_p + \nor{f'}_p \right) \nor{\abs{f+f'}^{p-1}}_{p\dual} \\
			&= \left( \nor{f}_p + \nor{f'}_p \right) \left( \int \abs{f+f'}^{(p-1) p (p-1)\inv} \dd\med \right)^{p\inv(p-1)} \\
			&= \left( \nor{f}_p + \nor{f'}_p \right) \left( \int \abs{f+f'}^p \dd\med \right)^{p\inv (p-1)} \\
			&= \left( \nor{f}_p + \nor{f'}_p \right) \left( \nor{f+f'}_p \right)^{p-1}.
		\end{align*}
Multiplicando por $\left( \nor{f+f'}_p \right)^{1-p}$ em ambos os lados, conclui-se que
		\begin{equation*}
		\nor{f+f'}_p \leq \nor{f}_p + \nor{f'}_p.
		\end{equation*}
Isso mostra que $(\Intg^p(\bm X,\bm C),\nor{\var}_p)$ é um espaço normado.

Suponhamos agora que $(\bm C,\abs{\var})$ é completo. Para mostrar que o espaço $(\Intg^p(\bm X,\bm C),\nor{\var}_p)$ é completo, basta mostrar toda sequência absolutamente somável é somável (\ref{ana:prop.abs.som.e.som}). Seja $(f_n)_{n \in \N}$ uma sequência absolutamente somável em $(\Intg^p(\bm X,\bm C),\nor{\var}_p)$. Consideramos dois casos.
	\begin{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\begin{comment}

	\item Para $p \in \intfa{1}{\infty}$. Seja
		\begin{equation*}
		 M := \sum_{k \in \N} \nor{f_k}_p.
		 \end{equation*}
Segue da subaditividade de $\nor{\var}_p$ que, para todo $n \in \N$,
		\begin{equation*}
		\nor{\sum_{k \in [n]} \abs{f_k}}_p \leq \sum_{k \in [n]} \nor{f_k}_p \leq M < \infty,
		\end{equation*}
portanto
	\begin{equation*}
	\int \left( \sum_{k \in [n]} \abs{f_k} \right)^p \dd\med \leq M^p.
	\end{equation*}
Temos que, para todo $n \in \N$,
	\begin{equation*}
	0 \leq \sum_{k \in [n]} \abs{f_k} \leq \sum_{k \in [n+1]} \abs{f_k},
	\end{equation*}
logo o limite pontual $\sum_{k \in \N} \abs{f_k}$ tem valores em $\intff{0}{\infty}$ e é mensurável. Pelo teorema da convergência monótona temos que
	\begin{equation*}
	\int \left( \sum_{k \in \N} \abs{f_k} \right)^p \dd\med \leq M^p.
	\end{equation*}
Portanto $\left( \sum_{k \in \N} \abs{f_k} \right)^p$ é integrável e, para quase todo $x \in X$, $\sum_{k \in \N} \abs{f_k(x)} \in \intfa{0}{\infty}$. Assim, para quase todo todo $x \in X$, a sequência $(f_k(x))_{n \in \N}$ é absolutamente somável em $\bm C$, portanto é somável e está definido o limite pontual
	\begin{equation*}
	s(x) := \sum_{k \in \N} f_k(x).
	\end{equation*}
A função $s$ está definida para quase todo $x \in X$, é mensurável e, para todo $n \in \N$, segue da continuidade e da subaditividade de $\abs{\var}$ que
	\begin{equation*}
	\abs{s} = \lim_{n \to \infty} \abs{\sum_{k \in [n]} f_k} \leq \lim_{n \to \infty} \sum_{k \in [n]} \abs{f_k} \leq \sum_{k \in \N} \abs{f_k},
	\end{equation*}
portanto
	\begin{equation*}
	\nor{s}_p = \left( \int \abs{s}^p \dd\med \right)^{p^{-1}} \leq \left( \int \abs{\sum_{k \in \N} \abs{f_k}}^p \dd\med \right)^{p^{-1}} = \nor{\sum_{k \in \N} \abs{f_k}}_p,
	\end{equation*}
o que mostra que $s \in \Intg^p(\bm X, \bm C)$.


Temos que
	\begin{equation*}
	\abs{s - \sum_{k \in [n]} f_k(x)}^p \leq 2^p \left( \sum_{k \in \N} \abs{f_k} \right)^p.
	\end{equation*}
Como a função do lado direito é integrável e, para quase todo $x \in X$, $\abs{s(x) - \sum_{k \in [n]} f_k(x)}^p \conv 0$, do Teorema da Convergência Dominada segue que
	\begin{equation*}
	\int \abs{s - \sum_{k \in [n]} f_k}^p \to 0,
	\end{equation*}
portanto $\nor{s - \sum_{k \in [n]} f_k}_p^p \to 0$, o que implica que $\nor{s - \sum_{k \in [n]} f_k}_p \to 0$.

	\end{comment}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

	\item  Para $p \in \intfa{1}{\infty}$. Notemos que, para todo $k \in \N$, $f_k$ é mensurável, portanto $\sum_{k \in [n]} \abs{f_k}$ e $\left( \sum_{k \in [n]} \abs{f_k} \right)^p$ também são mensuráveis. Como
		\begin{equation*}
		0 \leq \sum_{k \in [n]} \abs{f_k} \leq \sum_{k \in [n+1]} \abs{f_k},
		\end{equation*}
e
		\begin{equation*}
		0 \leq \left( \sum_{k \in [n]} \abs{f_k} \right)^p \leq \left( \sum_{k \in [n+1]} \abs{f_k} \right)^p,
		\end{equation*}
segue que do Teorema da Convergência Monótona que o limite $\sum_{k \in \N} \abs{f_k}$ é mensurável e que
		\begin{align*}
		\nor{\sum_{k \in \N} \abs{f_k}}_p &= \left( \int \left( \lim_{n \to \infty} \sum_{k \in [n]} \abs{f_k} \right)^p \dd\med \right)^{p^{-1}} \\
			&= \left( \int \lim_{n \to \infty} \left( \sum_{k \in [n]} \abs{f_k} \right)^p \dd\med \right)^{p^{-1}} \\
			&= \left( \lim_{n \to \infty} \int \left( \sum_{k \in [n]} \abs{f_k} \right)^p \dd\med \right)^{p^{-1}} \\
			&= \lim_{n \to \infty} \left( \int \left( \sum_{k \in [n]} \abs{f_k} \right)^p \dd\med \right)^{p^{-1}} \\
			&= \lim_{n \to \infty} \nor{\sum_{k \in [n]} \abs{f_k}}_p \\
			&\leq \lim_{n \to \infty} \sum_{k \in [n]} \nor{f_k}_p \\
			&< \infty,
		\end{align*}
em que a segunda igualdade segue da continuidade de $(\var)^p$, a terceira segue do Teorema da Convergência Monótona, a quarta segue da continuidade de $(\var)^{p^{-1}}$ e a sexta da subaditividade de $\nor{\var}_p$.

Isso mostra que $\sum_{k \in \N} \abs{f_k} \in \Intg^p(\bm X, \bm C)$ e, portanto, que para quase todo ponto $x \in X$, $\sum_{k \in \N} \abs{f_k(x)} \in \intfa{0}{\infty}$. Assim, para quase todo $x \in X$, a sequência $(f_k(x))_{n \in \N}$ é absolutamente somável em $\bm C$ e, da completude de $\bm C$, segue que é somável e está definido o limite pontual
	\begin{equation*}
	s(x) := \sum_{k \in \N} f_k(x).
	\end{equation*}
A função $s$ está definida para quase todo $x \in X$ e é mensurável. Para todo $n \in \N$, segue da continuidade e da subaditividade de $\abs{\var}$ que
	\begin{equation*}
	\abs{s} = \lim_{n \to \infty} \abs{\sum_{k \in [n]} f_k} \leq \lim_{n \to \infty} \sum_{k \in [n]} \abs{f_k} \leq \sum_{k \in \N} \abs{f_k},
	\end{equation*}
portanto
	\begin{equation*}
	\nor{s}_p = \left( \int \abs{s}^p \dd\med \right)^{p^{-1}} \leq \left( \int \abs{\sum_{k \in \N} \abs{f_k}}^p \dd\med \right)^{p^{-1}} = \nor{\sum_{k \in \N} \abs{f_k}}_p,
	\end{equation*}
o que mostra que $s \in \Intg^p(\bm X, \bm C)$.






Temos que
	\begin{align*}
	\abs{s - \sum_{k \in [n]} f_k(x)}^p &= \abs{\sum_{k \in \N} f_{n+k}(x)}^p \\
			&= \left( \sum_{k \in \N} \abs{f_{n+k}(x)} \right)^p \\
			&\leq 2^p \left( \sum_{k \in \N} \abs{f_k} \right)^p.
	\end{align*}
%Portanto
%	\begin{align*}
%	\nor{s - \sum_{k \in [n]} f_k}_p &= \left( \int \abs{s - \sum_{k \in [n]} f_k \dd\med}^p \right)^{p^{-1}} \\
%			&= \abs{\sum_{k \in \N} f_{n+k}(x)}^p \\
%			&= \left( \sum_{k \in \N} \abs{f_{n+k}(x)} \right)^p \\
%			&\leq 2^p \left( \sum_{k \in \N} \abs{f_k} \right)^p \\
%	\end{align*}
Como a função do lado direito é integrável e, para quase todo $x \in X$, $\abs{s(x) - \sum_{k \in [n]} f_k(x)}^p \conv 0$, do Teorema da Convergência Dominada segue que
	\begin{equation*}
	\int \abs{s - \sum_{k \in [n]} f_k}^p \dd\med \to 0,
	\end{equation*}
portanto $\nor{s - \sum_{k \in [n]} f_k}_p^p \to 0$, o que implica que $\nor{s - \sum_{k \in [n]} f_k}_p \to 0$.



	\item Para $p=\infty$, a demonstração se reduz a uma questão de convergência fora de conjuntos quase vazios.
	\end{enumerate}
	\end{enumerate}
\end{proof}



\subsubsection{O caso anterior de espaços de funções absolutamente somáveis}

Os espaços $\Intg^p(\bm X,\bm C)$ da subseção anterior são casos particulares dos espaços absolutamente $p$-integráveis. Consideramos o espaço de medida $(X,\p(X),\#)$, em que $X$ é um conjunto qualquer, o conjunto das partes $\p(X)$ é a sigma-álgebra de $X$, e $\#$ é a medida de contagem
	\begin{align*}
	\func{\#}{\p(X)}{\intff{0}{\infty}}{C}{
		\begin{cases}
			\card{M},& \card{M}<\card{\N} \\
			\infty,& \card{M} \geq \card{\N}.
		\end{cases}
	}
	\end{align*}

Notemos que todas as funções $f \in C^X$ são mensuráveis nesse caso, pois $\p(X)$ é a maior sigma-álgebra em $X$.
% As funções $f\colon X \to C$ devem ser mensuráveis, ou as funções $\abs{f}\colon X \to \intff{0}{\infty}$????? O corpo normado $\bm C$ tem topologia, portanto sigma-álgebra topológica, mas qual a medida nele? E se ele tiver estrutura de espaço de medida, é possível mostrar que a norma que leva $C$ para $\R$ é mensurável??? Nesse caso, f e $\abs{f}$ serem mensuráveis seria equivalente.
Ainda, temos que
	\begin{equation*}
	\int_X \abs{f}^p \dd\# = \sum_{x \in X} \abs{f(x)}^p
	\end{equation*}
e
	\begin{equation*}
	\supess(\abs{f}) = \sup_{x \in X} \abs{f(x)}.
	\end{equation*}
%	\begin{equation*}
%	\nor{f}_p = \left(\int \abs{f}^p \dd\#\right)^{p\inv} = \left(\sum_{i \in I} \abs{f(i)}^p\right)^{p\inv}
%	\end{equation*}
Também segue que, se $\nor{f}_p < \infty$, então $\card{\supp(f)} \leq \card{\N}$.

Como o único conjunto de medida nula na medida de contagem é o conjunto vazio, segue que as funções são quase-iguais se, e somente se, elas são iguais, portanto funções e quase-funções representam o mesmo objeto. Sendo assim, as definições dos espaços de funções absolutamente somáveis e de funções absolutamente integráveis coincidem nesse caso, e por isso têm a mesma notação.


\subsection{Dualidade e mergulho de espaços absolutamente integráveis}

Novamente, consideramos $(\bm C,\abs{\var})$ como $\R$ ou $\C$.

\begin{proposition}
Sejam $\bm X$ um espaço de medida e $(\bm C,\abs{\var})$ um corpo normado.
	\begin{enumerate}
	\item Para todo $p \in \intaa{1}{\infty}$,
		\begin{equation*}
		\Intg^{p\dual}(\bm X,\bm C) \simeq \Intg^p(\bm X,\bm C)\dual.
		\end{equation*}
O isomorfismo de espaços normados é
		\begin{align*}
		\func{I_p}{\Intg^{p\dual}(\bm X,\bm C)}{\Intg^p(\bm X,\bm C)\dual}{f}{
			\begin{aligned}[t]
			\func{I_p(f)}{\Intg^p(\bm X,\bm C)}{C}{f'}{\int ff' \dd\med}.
			\end{aligned}
		}
		\end{align*}

	\item Se $\bm X$ é $\sigma$-finito,
		\begin{equation*}
		\Intg^\infty(\bm X,\bm C) \simeq \Intg^1(\bm X,\bm C)\dual.
		\end{equation*}
	\end{enumerate}
\end{proposition}
\begin{proof}
Os detalhes da demonstração não serão explicados aqui, mas a ideia geral é a seguinte. A função $I_p$ é linear e, pela desigualdade \ref{prop:ana.desig.holder} ela é uma isometria local. Pelo teorema de Radon-Nikodym, pode-se mostrar que essa isometria é sobrejetiva e, portanto, um isomorfismo de espaços normados.
\end{proof}

A escolha do termo \textit{dual} para $p\dual$ fica mais clara agora, já que temos a relação
	\begin{equation*}
	\Intg^{p\dual} \simeq (\Intg^p)\dual.
	\end{equation*}

O dual de $\Intg^\infty(\bm X,\bm C)$ é um caso mais complicado e não será abordado aqui.

Para $p,q \in \intff{1}{\infty}$ tais que $p < q$, devemos entender $\Intg^p$ como um espaço de funções que estão mais concentradas na origem, que são mais localmente singulares, enquanto as funções de $\Intg^q$ é um espaço de funções que são mais espalhadas.

\begin{proposition}
Seja $\bm X$ um espaço de medida e $(\bm C,\abs{\var})$ um corpo normado (completo) e $p,q \in \intaf{0}{\infty}$ tais que $p < q$.
	\begin{enumerate}
	\item $\Intg^q(\bm X,\bm C) \subset \Intg^p(\bm X,\bm C)$ se, e somente se, $X$ não contém conjuntos de medida finita mas arbitrariamente grande;

	\item $\Intg^p(\bm X,\bm C) \subset \Intg^q(\bm X,\bm C)$ se, e somente se, $X$ não contém conjuntos de medida não nula mas arbitrariamente pequena.
	\end{enumerate}
\end{proposition}




\section{Isometrias lineares}

\begin{definition}
Sejam $(\bm E,\nor{\var})$ e $(\bm E',\nor{\var}')$ espaços normados. Uma \emph{isometria linear local} de $(\bm E,\nor{\var})$ para $(\bm E',\nor{\var}')$ é uma função linear $L\colon E \to E'$ tal que, para todo $v \in E$,
	\begin{equation*}
	\nor{L(v)}' = \nor{v}.
	\end{equation*}
O conjunto dessas funções é $\Linmet(\bm E,\bm E')$. Uma \emph{isometria linear} é uma isometria linear local bijetiva.
\end{definition}

Uma isometria linear local é uma isometria local com respeito à distância induzida pela norma, pois, para todos $v,v' \in E$,
	\begin{equation*}
	\dist{L(v)}{L(v')} = \nor{L(v) - L(v')} = \nor{L(v - v')} = \nor{v - v'} = \dist{v}{v'}.
	\end{equation*}

%De modo mais geral, para $c \in \intfa{0}{\infty}$ podemos definir funções $c$-métricas lineares como funções que satisfazem, para todo $v \in E$,
%	\begin{equation*}
%	\nor{L(v)}' \leq c \nor{v}.
%	\end{equation*}

%Essas funções lineares são as funções lineares controladas.



\subsection{Os grupos lineares geral e especial de transformações e de isometrias}

O espaço normado $\Iso{\toplin}(\bm E)$ das transformações lineares contínuas invertíveis é um grupo com respeito à operação de composição, chamado \emph{grupo de transformações lineares de $(\bm E,\nor{\var})$}. Esse grupo é geralmente chamado de \emph{grupo linear geral} e denotado $\GL(\bm E)$ e, se $\bm E = \bm C^d$, $\bm C$ o corpo de escalares, denota-se $\GL_d(\bm C)$.

O conjunto das transformações de $\Iso{\toplin}(\bm E)$ que têm determinante unitário é um subgrupo, pois se $\det{f}=\det{f'}=1$, então $\det{f' \circ f}=\det{f'}\det{f}=1$. Esse grupo é geralmente chamado de \emph{grupo linear especial} e denotado $\SL(\bm E)$ e, se $\bm E = \bm C^d$, $\bm C$ o corpo de escalares, denota-se $\SL_d(\bm C)$.

O espaço normado $\Iso{\Linmet}(\bm E)$ das transformações lineares contínuas invertíveis que preservam a norma é um subgrupo de $\Iso{\toplin}(\bm E)$, chamado \emph{grupo linear de isometrias de $(\bm E,\nor{\var})$}. Esse grupo é geralmente chamado de \emph{grupo ortogonal} e denotado $\GO(\bm E)$ e, se $\bm E = \bm C^d$, $\bm C$ o corpo de escalares, denota-se $\GO_d(\bm C)$.

O conjunto das transformações de $\Iso{\Linmet}(\bm E)$ que têm determinante unitário é um subgrupo, pois se $\det{f}=\det{f'}=1$, então $\det{f' \circ f}=\det{f'}\det{f}=1$. Esse grupo é geralmente chamado de \emph{grupo ortogonal especial} e denotado $\SO(\bm E)$ e, se $\bm E = \bm C^d$, $C$ o corpo de escalares, denota-se $\SO_d(\bm C)$.

Temos que
	\begin{align*}
	\SL(\bm E) &\subseteq \GL(\bm E) \\
	\GO(\bm E) &\subseteq \GL(\bm E) \\
	\SO(\bm E) &\subseteq \GO(\bm E) \\
	\SO(\bm E) &\subseteq \SL(\bm E)
	\end{align*}


\subsection{Perturbação de uma transformação linear}

\begin{proposition}
\label{prop:lema.contracao}
Sejam $(\bm E,\nor{\var})$ um espaço normado completo, $X \subseteq E$ um subconjunto e $\fun{f}{X}{E}$ uma contração ($\distor{f}<1$). Para todos $x \in X$ e $r \in \intaa{0}{\infty}$ tal que $\bolafec{x}{r} \subseteq X$ e $\nor{f(x)-x} \leq (1-\distor{f})r$. Então $f$ tem ponto fixo na bola fechada $\bolafec{x}{r}$.
\end{proposition}
\begin{proof}
Basta provar que $f(\bolafec{x}{r}) \subseteq \bolafec{x}{r}$, pois como $\bolafec{x}{r}$ é fechado, é um espaço métrico completo não vazio, e segue do teorema do ponto fixo de contração (\ref{prop:ponto.fixo.contracao}) que $\fun{f}{\bolafec{x}{r}}{\bolafec{x}{r}}$ tem ponto fixo.

Seja $x' \in \bolafec{x}{r}$. Então $\nor{x'-x} \leq r$, portanto
	\begin{align*}
	\nor{f(x')-x} &= \nor{f(x') - f(x) + f(x) - x} \\
		&\leq \nor{f(x') - f(x)} + \nor{f(x) - x} \\
		&\leq \distor{f}\nor{x'-x} + (1-\distor{f})r \\
		&\leq \distor{f}r + (1-\distor{f})r \\
		&= r,
	\end{align*}
o que mostra que $f(x') \in \bolafec{x}{r}$, logo $f(\bolafec{x}{r}) \subseteq \bolafec{x}{r}$.
\end{proof}

\begin{proposition}
\label{prop:perturbacao.identidade}
Sejam $(\bm E,\nor{\var})$ um espaço normado completo, $A \subseteq E$ aberto e $\fun{f}{A}{E}$ contração ($\distor{f}<1$). Então
	\begin{align*}
	\func{\Id+f}{A}{(\Id+f)(A)}{v}{v+f(v)}
	\end{align*}
é um mergulho métrico, $\distor{(\Id+f)\inv} \leq \frac{\distor{f}}{1-\distor{f}}$ e $(\Id+f)(A)$ é aberto. Se $A=E$, então $(\Id + f)(A)=E$.
\end{proposition}
\begin{proof}
Primeiro mostremos que $\Id+f$ é mergulho métrico. Por \ref{prop:distorcao.seminorma} vale $\distor{\Id+f} \leq \distor{\Id} + \distor{f} = 1+\distor{f}$, o que mostra que $\Id + f$ é controlada. Para todos $x,x' \in A$,
	\begin{align*}
	(1-\distor{f})\nor{x'-x} &= \nor{x'-x}-\distor{f}\nor{x'-x} \\
		&\leq \nor{x'-x} - \nor{f(x')-f(x)} \\
		&\leq \nor{x'-x+f(x')-f(x)} \\
		&= \nor{(\Id+f)(x') - (\Id+f)(x)},
	\end{align*}
o que mostra que $\Id+f$ é injetiva e sua inversa à esquerda é controlada, portanto $f$ é mergulho métrico (\ref{prop:mergulho.metrico}). Ainda, $\distor{(\Id+f)\inv} \leq \frac{\distor{f}}{1-\distor{f}}$.

Agora, mostremos que $(\Id+f)(A)$ é aberto. Seja $y_0 \in (\Id+f)(A)$. Para algum $x_0 \in A$, $y_0 = (\Id + f)(x_0) = x_0 + f(x_0)$. Como $A$ é aberto, para algum $r \in \intaa{0}{\infty}$ vale $\bolafec{x_0}{r} \subseteq A$.
Seja $y \in \bolafec{y_0}{(1-\distor{f})r}$ e definamos
	\begin{align*}
	\func{\phi_y}{\bolafec{x_0}{r}}{E}{x}{y-f(x)}.
	\end{align*}
A função $\phi_y$ é uma contração com $\distor{\phi_y} \leq \distor{f}$ pois, para todos $x,x' \in \bolafec{x_0}{r}$,
	\begin{equation*}
	\nor{\phi_y(x')-\phi_y(x)} = \nor{y-f(x')-y+f(x)} = \nor{f(x')-f(x)} \leq \distor{f}\nor{x'-x}.
	\end{equation*}
Assim, temos $1-\distor{f} \leq 1-\distor{\phi_y}$. Como $y \in \bolafec{y_0}{(1-\nor{f})r}$, segue que
	\begin{align*}
	\nor{\phi_y(x_0) - x_0} &= \nor{y-f(x_0)-x_0} \\
		&= \nor{y-y_0} \\
		&\leq (1-\distor{f})r \\
		&\leq (1-\distor{\phi_y})r.
	\end{align*}
Assim, por \ref{prop:lema.contracao} existe ponto fixo $\bar x \in \bolafec{x_0}{r}$ de $\phi_y$, ou seja, $\bar x = \phi_y(\bar x) = y-f(\bar x)$, o que equivale a $y = \bar x + f(\bar x) = (\Id+f)(\bar x)$. Concluímos que $y \in (\Id + f)(\bolafec{x_0}{r})$ e portanto que
	\begin{equation*}
	\bola{y_0}{(1-\distor{f})r} \subseteq \bolafec{y_0}{(1-\distor{f})r} \subseteq (\Id + f)(\bolafec{x_0}{r}) \subseteq (\Id + f)(A),
	\end{equation*}
logo $(\Id + f)(A)$ é aberto.

Por fim, se $A=E$, então para todos $x \in A$ e $r \in \intaa{0}{\infty}$ vale $\bolafec{x}{r} \subseteq A$, portanto $\bolafec{f(x)}{(1-\distor{f})r} \subseteq f(A)$. Para todo $n \in \N$, tomando $r = n \div (1-\distor{f})$ segue que
	\begin{equation*}
	\bolafec{f(x)}{n} = \bolafec{f(x)}{(1-\distor{f})n \div (1-\distor{f})} \subseteq f(A),
	\end{equation*}
portanto $E = \bigcup_{n \in \N} \bolafec{f(x)}{n} \subseteq f(A)$, o que mostra que $f(A)=E$.
\end{proof}

Em particular, isso mostra que $\fun{\Id+f}{A}{(\Id+f)(A)}$ é um homeomorfismo. O conjunto $(\Id + f)(A)$ ser aberto equivale à função $\Id + f$ ser aberta.

\begin{proposition}
\label{prop:perturbacao.linear}
Sejam $(\bm E,\nor{\var})$ um espaço normado completo, $A \subseteq E$ aberto, $\fun{L}{E}{E}$ isomorfismo linear contínuo e $\fun{f}{A}{E}$ função controlada tal que $\nor{L\inv}\nor{f} < 1$. Então
	\begin{align*}
	\func{L+f}{A}{(L+f)(A)}{v}{L(v)+f(v)}
	\end{align*}
é um mergulho métrico e $\distor{L+f} \leq \frac{\distor{L}\distor{f}}{\distor{L\inv}\inv-\distor{f}}$.
\end{proposition}
\begin{proof}
A função $\fun{L\inv \circ f}{A}{E}$ é uma contração pois $\distor{L\inv \circ f} \leq \distor{L\inv}\distor{f} < 1$. Como $L\inv \circ (L+f) = \Id + (L\inv \circ f)$, segue de \ref{prop:perturbacao.identidade} que $\fun{L\inv \circ (L+f)}{A}{L\inv \circ (L+f)(A)}$ é mergulho métrico, $\distor{L\inv \circ (L+f)} \leq \frac{\distor{L\inv \circ f}}{1-\distor{L\inv \circ f}}$ e $L\inv \circ (L+f)(A)$ é aberto. Como $L$ é isomorfismo linear contínuo e $L+f = L \circ L\inv \circ (L+f)$, segue que $\fun{L+f}{A}{(L+f)(A)}$ é mergulho métrico e $(L+f)(A)$ é aberto. Como $\distor{L\inv \circ f} \leq \distor{L\inv}\distor{f} < 1$, então $1-\distor{L\inv \circ f} \geq 1-\distor{L\inv}\distor{f} > 0$; segue que
	\begin{equation*}
	\distor{L\inv \circ (L+f)} \leq \frac{\distor{L\inv \circ f}}{1-\distor{L\inv \circ f}}
		\leq \frac{\distor{L\inv}\distor{f}}{1-\distor{L\inv}\distor{f}}
		= \frac{\distor{f}}{\distor{L\inv}\inv-\distor{f}},
	\end{equation*}
portanto
	\begin{equation*}
	\distor{L+f} = \distor{L \circ L\inv \circ (L+f)}
		\leq \distor{L}\distor{L\inv \circ (L+f)}
		\leq \frac{\distor{L}\distor{f}}{\distor{L\inv}\inv-\distor{f}}.
		\qedhere
	\end{equation*}
\end{proof}



\section{Álgebras normadas}

Em geral, álgebra são definidas como espaços lineares com um produto bilinear associativo, e nós usaremos a propriedade de associatividade na grande maioria dos casos. No entanto, a propriedade de associatividade é às vezes dispensável, ou não vale (como no caso dos octônios), e por isso ressaltamos abaixo que as definições ainda valem sem a hipótese de associatividade.

\begin{definition}
Uma \emph{álgebra (associativa) normada} é um par $\mathbb A = (\bm A,\nor{\var})$ em que $\bm A = (A,\cdot)$ é uma álgebra (associativa) sobre um corpo $\bm C \subseteq \C$ e $\nor{\var}\colon A \to \R$ é uma norma em $\bm A$ satisfazendo, para todos $a,a' \in A$,
	\begin{equation*}
	\nor{aa'} \leq \nor{a}\nor{a'};
	\end{equation*}
Uma \emph{álgebra unitária normada} é uma álgebra normada $\mathbb A = (\bm A,\nor{\var})$ tal que $\bm A = (A,\cdot,1)$ é uma álgebra unitária e
	\begin{equation*}
	\nor{1} = 1.
	\end{equation*}
Uma \emph{álgebra invertível normada} é uma álgebra unitária normada $\mathbb A = (\bm A,\nor{\var})$ tal que $(A,\cdot,\inv,1)$ é uma álgebra invertível e, para todos $a \in A \setminus \{0\}$,
	\begin{equation*}
	\nor{a\inv} = \nor{a}\inv.
	\end{equation*}
\end{definition}

Na proposição a seguir, usamos a associatividade do produto, mas de fato bastaria que o produto fosse alternativo, como no caso dos octônios.

\begin{exercise}
Seja $\mathbb A = (\bm A,\nor{\var})$ uma álgebra (associativa) invertível normada. Para todos $a,a' \in A$,
	\begin{equation*}
	\nor{aa'} = \nor{a}\nor{a'}.
	\end{equation*}
\end{exercise}
\begin{proof}
Se $a=0$, então $aa' = 0$ e $\nor{a}=0$, logo $\nor{a}\nor{a'}=0$, o que implica
	\begin{equation*}
	\nor{aa'} = \nor{0} = 0 = \nor{a}\nor{a'}.
	\end{equation*}
Se $a \in A \setminus \{0\}$,
	\begin{align*}
	\nor{a}\nor{a'} &= \nor{a}\nor{(a\inv a)a'} \\
		&= \nor{a}\nor{a\inv (aa')} \\
		&\leq \nor{a}\nor{a\inv} \nor{aa'} \\
		&= \nor{a}\nor{a}\inv \nor{aa'} \\
		&= \nor{aa'}.
	\end{align*}
Como vale $\nor{aa'} \leq \nor{a}\nor{a'}$, concluímos que
	\begin{equation*}
	\nor{aa'} = \nor{a}\nor{a'}.
	\qedhere
	\end{equation*}
\end{proof}


\subsection{Função exponencial}

Consideremos uma álgebra normada unitária completa $\mathbb A$. Para todo $x \in A$, a sequência
	\begin{equation*}
	e_n(x) := \sum_{i=0}^{n} \frac{x^i}{i!}
	\end{equation*}
é uma sequência aproximante\footnote{Sequência de Cauchy.}, já que, para todos $n,n' \in \N^*$ com $n' > n$,
	\begin{equation*}
	\nor{e_{n'}(x)-e_n(x)} = \nor{\sum_{i=n+1}^{n'} \frac{x^i}{i!}} \leq \sum_{i=n+1}^{n'} \frac{\nor{x}^i}{i!}.
	\end{equation*}
Como a álgebra é completa, isso significa que $e_n(x)$ converge para um elemento
	\begin{equation*}
	\e^{x} := \lim_{n \to \infty} e_n(x) = \sum_{n \in \N} \frac{x^n}{n!}.
	\end{equation*}

\begin{definition}
Seja $\mathbb A$ uma álgebra unitária normada completa. A \emph{função exponencial} em $\mathbb A$ é a função
	\begin{align*}
	\func{\exp}{A}{A}{x}{\e^{x} := \sum_{n \in \N} \frac{x^n}{n!}.}
	\end{align*}
\end{definition}

\begin{proposition}
Seja $\mathbb A$ uma álgebra unitária normada completa.
	\begin{enumerate}
	\item Para todo $x \in A$, $\nor{\exp(x)} \leq \e^{\nor{x}}$;
	\item A função exponencial $\exp\colon A \to A$ é contínua;
	\item $\exp(0) = 1$;
	\item Para todos $x,y \in A$ tais que $xy=yx$,
		\begin{equation*}
		\exp(x+y) = \exp(x)\exp(y);
		\end{equation*}
	\item Para todo $x \in A$, $\exp(x)\inv = \exp(-x)$;
	\item Para todo $x \in A$, $\exp(x) = \lim_{n \to \infty} \left( 1 + \frac{x}{n} \right)^n$.
	\end{enumerate}
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item Basta notar que, para todos $x \in A$ e $n \in \N$,
		\begin{equation*}
		\nor{e_n(x)} = \nor{\sum_{i=0}^{n} \frac{x^i}{i!}} \leq \sum_{i=0}^{n} \frac{\nor{x}^i}{i!} = e_n(\nor{x}),
		\end{equation*}
logo $\nor{\exp(x)} \leq \e^{\nor{x}}$.

	\item Primeiro notamos que, para todos $x,y \in A$,
		\begin{align*}
		\nor{y^n-x^n} &= \nor{\sum_{i=1}^{n} y^{n-i}(y-x)x^{i-1}} \\
			&\leq n(\nor{x} \opmax \nor{y})^{n-1}\nor{y-x},
		\end{align*}
portanto
	\begin{align*}
	\nor{\exp(y) - \exp(x)} &= \nor{\sum_{n=1}^\infty \frac{y^n-x^n}{n!}} \\
		&\leq \sum_{n=1}^\infty \frac{\nor{y^n-x^n}}{n!} \\
		&\leq \sum_{n=1}^\infty \frac{n(\nor{x} \opmax \nor{y})^{n-1}}{n!} \nor{y-x} \\
		&= \e^{(\nor{x} \opmax \nor{y})}\nor{y-x},
	\end{align*}
o que mostra que $\exp$ é contínua.

	\item Segue de
		\begin{equation*}
		\exp(0) = \sum_{n \in \N} \frac{0^n}{n!} = 1 + \sum_{n \in \N^*} \frac{0^n}{n!} = 1.
		\end{equation*}

	\item Sejam $n \in \N$ e
		\begin{equation*}
		s_n := e_{2n}(x+y) - e_n(x)e_n(y) = \sum_{k=0}^{2n} \frac{(x+y)^k}{k!} - \left( \sum_{i=1}^n \frac{x^i}{i!} \right)\left( \sum_{j=1}^n \frac{y^j}{j!} \right).
		\end{equation*}
Como $xy=yx$,
	\begin{equation*}
	\frac{(x+y)^k}{k!} = \frac{1}{k!} \sum_{i=0}^k \frac{k!}{i!(k-i)!}x^i y^{k-i} = \sum_{i+j=k} \frac{x^i y^j}{i!j!}.
	\end{equation*}
Portanto
	\begin{align*}
	s_n &= \sum_{0 \leq i+j \leq 2n} \frac{x^i y^j}{i!j!} - \sum_{0 \leq i \leq n, 0 \leq j \leq n} \frac{x^i y^j}{i!j!} \\
		&= \sum_{k=0}^{n-1} \frac{x^k}{k!} \sum_{n+1}^{2n-k} \frac{y^j}{j!} +  \sum_{k=0}^{n-1} \frac{y^k}{k!} \sum_{n+1}^{2n-k} \frac{x^j}{j!},
	\end{align*}
o que implica que
	\begin{align*}
	\nor{s_n} &\leq \sum_{k=0}^{n-1} \frac{\nor{x}^k}{k!} \sum_{n+1}^{2n-k} \frac{\nor{y}^j}{j!} +  \sum_{k=0}^{n-1} \frac{\nor{y}^k}{k!} \sum_{n+1}^{2n-k} \frac{\nor{x}^j}{j!} \\
		&= \sum_{k=0}^{2n} \frac{(\nor{x}+\nor{y})^k}{k!} - \left( \sum_{i=1}^n \frac{\nor{x}^i}{i!} \right)\left( \sum_{j=1}^n \frac{\nor{y}^j}{j!} \right) \\
		&= e_{2n}(\nor{x}+\nor{y}) - e_n(\nor{x})e_n(\nor{y}).
	\end{align*}
Assim segue que
	\begin{equation*}
	\nor{\exp(x+y) - \exp(x)\exp(y)} \leq \e^{\nor{x}\nor{y}}-\e^{\nor{x}}\e^{\nor{y}} = 0.
	\end{equation*}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{comment}
	\item Para todo $n \in \N$, como $xy=yx$,
	\begin{equation*}
	(x+y)^n = \sum_{i=0}^n \frac{n!}{i!(n-i)!}x^i y^{n-i} = n! \sum_{i+j=n} \frac{x^i}{i!}\frac{y^j}{j!}.
	\end{equation*}
Portanto
	\begin{align*}
	\exp(x+y) &= \sum_{n=0}^\infty \frac{(x+y)^n}{n!} \\
		&= \sum_{n=0}^\infty \sum_{i+j=n} \frac{x^i y^j}{i!j!} \\
		&= \left(\sum_{i=0}^\infty \frac{x^i}{i!} \right) \left(\sum_{i=0}^\infty \frac{y^j}{j!} \right) \\
		&= \exp(x) \exp(y).
	\end{align*}
\end{comment}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

	\item Basta notar que, como $x(-x)=(-x)x$,
		\begin{equation*}
		\exp(x)\exp(-x) = \exp(x-x) = \exp(0) = 1.
		\end{equation*}

	\item Exercício. \qedhere
	\end{enumerate}
\end{proof}


\subsubsection{Exponencial dos complexos $\R^2$}

Seja $x = x_0 + x_1 \ii \in \R^2$. Como $\R^2$ é comutativo,
	\begin{equation*}
	\e^{x} = \e^{x_0 + x_1 \ii} = \e^{x_0}\e^{x_1 \ii}.
	\end{equation*}
Devemos calcular, portanto, somente a exponencial $\e^{x_1 \ii}$. Como $\ii^2 = -1$, segue que, para todo $n \in \N$,
	\begin{align*}
	(x_1 \ii)^{2n} &= (x_1)^{2n}(\ii)^{2n} = (-1)^n (x_1)^{2n} \\
	(x_1 \ii)^{2n+1} &= (x_1)^{2n+1}(\ii)^{2n+1} = (-1)^n (x_1)^{2n+1}\ii,
	\end{align*}
o que implica que
	\begin{align*}
	\e^{x_1 \ii} &= \sum_{n \in \N} \frac{(x_1 \ii)^n}{n!} \\
		&= \sum_{n \in \N} \frac{(x_1 \ii)^{2n}}{(2n)!} + \sum_{n \in \N} \frac{(x_1 \ii)^{2n+1}}{(2n+1)!} \\
		&= \sum_{n \in \N} (-1)^n \frac{(x_1)^{2n}}{(2n)!} + \sum_{n \in \N} (-1)^n \frac{(x_1)^{2n+1}}{(2n+1)!}\ii \\
		&= \cos(x_1) + \sin(x_1)\ii.
	\end{align*}

Concluímos que
	\begin{equation*}
	\e^{x} = \e^{x_0}\e^{x_1 \ii} = \e^{x_0}(\cos(x_1) + \sin(x_1)\ii).
	\end{equation*}

\paragraph{Logaritmo} Pela decomposição polar, para todo $x \in \R^2 \setminus \{0\}$,
	\begin{equation*}
	x = \nor{x}(\cos(\theta)+\sin(\theta)\ii).
	\end{equation*}
Assim, definimos
	\begin{equation*}
	\log(x) := \log(\nor{x}) + \theta \ii,
	\end{equation*}
Concluímos que
	\begin{align*}
	x &= \nor{x}(\cos(\theta)+\sin(\theta) \ii) \\
		&= \e^{\log(\nor{x})}\e^{\theta \ii} \\
		&= \e^{\log(\nor{x}) + \theta \ii} \\
		&= \e^{\log(x)}.
	\end{align*}

No entanto, é importante notar que, para todo $n \in \N$,
	\begin{equation*}
	\e^{(\theta+n\tau) \ii} = \cos(\theta+n\tau)+\sin(\theta+n\tau) \ii = \cos(\theta)+\sin(\theta) \ii = \e^{\theta \ii}
	\end{equation*}

\subsubsection{Exponencial dos quatérnios $\R^4$}

Seja $x = \esc{x} + \vec{x} \in \R^4$, em que $\esc{x} = x_0$ e $\vec{x} = x_1 \ii_1 + x_2 \ii_2 + x_3 \ii_3$. Como $\esc{x}\vec{x} = \vec{x}\esc{x}$, segue que
	\begin{equation*}
	\e^{x} = \e^{\esc{x}+\vec{x}} = \e^{\esc{x}}\e^{\vec{x}}.
	\end{equation*}

Devemos calcular, portanto, somente a exponencial $\e^{\vec{x}}$. Lembremos que $\hat{x} = \frac{\vec{x}}{\nor{\vec{x}}}$ e que $\hat{x} \in \vec{\S}^2$, portanto $\hat{x}^2 = -1$. Segue que, para todo $n \in \N$,
	\begin{align*}
	(\vec{x})^{2n} &= (\nor{\vec{x}} \hat{x})^{2n} = (-1)^n \nor{\vec{x}}^{2n} \\
	(\vec{x})^{2n+1} &= (\nor{\vec{x}} \hat{x})^{2n+1} = (-1)^n \nor{\vec{x}}^{2n+1}\hat{x},
	\end{align*}
o que implica que
	\begin{align*}
	\e^{\vec{x}} &= \sum_{n \in \N} \frac{(\vec{x})^n}{n!} \\
		&= \sum_{n \in \N} \frac{(\vec{x})^{2n}}{(2n)!} + \sum_{n \in \N} \frac{(\vec{x})^{2n+1}}{(2n+1)!} \\
		&= \sum_{n \in \N} (-1)^n \frac{\nor{\vec{x}}^{2n}}{(2n)!} + \sum_{n \in \N} (-1)^n \frac{\nor{\vec{x}}^{2n+1}}{(2n+1)!}\hat{x} \\
		&= \cos(\nor{\vec{x}}) + \sin(\nor{\vec{x}}) \hat{x}.
	\end{align*}

Concluímos que
	\begin{equation*}
		\e^{x} = \e^{\esc{x}}\e^{\vec{x}} = \e^{\esc{x}}\left( \cos(\nor{\vec{x}}) + \sin(\nor{\vec{x}}) \hat{x} \right).
	\end{equation*}

\paragraph{Logaritmo}

Pela decomposição polar, para todo $x \in \R^4 \setminus \{0\}$,
	\begin{equation*}
	x = \nor{x}(\cos(\phi_0 + \sin(\phi_0)\hat{x})).
	\end{equation*}
Assim, definimos
	\begin{equation*}
	\log(x) := \log(\nor{x}) + \phi_0 \hat{x}.
	\end{equation*}
Denotando $y := \log(x)$, vale $\esc{y} = \log(\nor{x})$ e $\vec{y}=\phi_0 \hat{x}$, portanto $\nor{\vec{y}} = \nor{\phi_0\hat{x}} = \phi_0$ e
	\begin{equation*}
	\hat{y} = \frac{\vec{y}}{\nor{\vec{y}}} = \frac{\phi_0 \hat{x}}{\phi_0} = \hat{x}.
	\end{equation*}
Concluímos que
	\begin{align*}
	x &= \nor{x}(\cos(\phi_0 + \sin(\phi_0)\hat{x})) \\
		&= \e^{\log(\nor{x})}\e^{\phi_0 \hat{x}} \\
		&= \e^{\log(\nor{x}) + \phi_0 \hat{x}} \\
		&= \e^{\log(x)}.
	\end{align*}






\section{Funções multilineares}

Lembremos que, para espaços lineares topológicos $\bm E_0,\dots,\bm E_{n-1}$ e $\bm E'$. o conjunto das funções multilineares contínuas de $\bm E_0 \times \cdots \times \bm E_{n-1}$ para $\bm E'$ é denotado $\toplin(\bm E_0, \ldots, \bm E_{n-1}; \bm E')$ e, caso $\bm E_0 = \cdots = \bm E_{n-1} = \bm E$, denota-se $\toplin^n(\bm E, \bm E')$.

\begin{definition}
Sejam $\bm E_0,\dots,\bm E_{n-1}$ e $\bm E'$ espaços normados. Um função $n$-linear \emph{controlada} de $\bm E_0 \times \cdots \times \bm E_{n-1}$ para $\bm E'$ é uma função $n$-linear
	\begin{equation*}
	\fun{L}{\bm E_0 \times \cdots \times \bm E_{n-1}}{\bm E'}
	\end{equation*}
tal que algum $c \in \intfa{0}{\infty}$ satisfaz que, para todos $v_0 \in E_0$, $\ldots$, $v_{n-1} \in E_{n-1}$,
	\begin{equation*}
	\nor{L(v_0,\dots,v_{n-1})} \leq c\nor{v_0}\cdots\nor{v_{n-1}}.
	\end{equation*}
%O conjunto dessas funções é denotado $\toplin(\bm E_0, \ldots, \bm E_{n-1}; \bm E')$. Caso $\bm E_0 = \cdots = \bm E_{n-1} = \bm E$, denota-se $\toplin^n(\bm E, \bm E')$.

A \emph{norma} de uma função controlada $L$ é
	\begin{equation*}
	\nor{L} := \inf\set{c \in \intfa{0}{\infty}}{\forall_{v_0 \in E_0, \ldots, v_{n-1} \in E_{n-1}} \nor{L(v_0,\dots,v_{n-1})} \leq c\nor{v_0}\cdots\nor{v_{n-1}}}.
	\end{equation*}
\end{definition}

\begin{exercise}
Sejam $\bm E_0,\dots,\bm E_{n-1}$, $\bm E'$ espaços normados e
	\begin{equation*}
	\fun{L}{\bm E_0 \times \cdots \times \bm E_{n-1}}{\bm E'}
	\end{equation*}
uma função $n$-linear. São equivalentes
	\begin{enumerate}
	\item $L$ é controlada;
	\item $L$ é contínua;
	\item $L$ é contínua em $0$.
	\end{enumerate}
\end{exercise}

\begin{proposition}
Sejam $\bm E_0,\dots,\bm E_{n-1}$ espaços normados de dimensão finita, $\bm{E}$ um espaço normado e $\fun{L}{\bm E_0 \times \cdots \times \bm E_{n-1}}{\bm E'}$ uma função $n$-linear. Então $L$ é contínua.
\end{proposition}
\begin{proof}
Mostraremos que $L$ é controlada. Para todo $i \in [n]$, sejam $d_i := \dim E_i$ e $(b^{(i)}_j)_{j \in [d_i]}$ uma base ordenada de $\bm{E_i}$. Todas normas em $\bm{E_i}$ são equivalentes, portanto usaremos a norma $\nor{\var}_\infty$. Assim, para todos $v_1 \in E_1$, $\ldots$, $v_{n-1} \in E_{n-1}$,
	\begin{align*}
	\nor{L(v_0,\ldots,v_{n-1})} &= \nor{\sum_{\substack{0 \leq k_0 < d_0\\\cdots\\0\leq k_{n-1}< d_{n-1}}} v^{k_0}_{(0)} \cdots v^{k_{n-1}}_{(n-1)} L\big(b_{k_0}^{(0)},\cdots,b_{k_{n-1}}^{(n-1)}\big)} \\
		&\leq \sum_{\substack{0 \leq k_0 < d_0\\\cdots\\0\leq k_{n-1}< d_{n-1}}} \abs{v^{k_0}_{(0)}}\cdots\abs{v^{k_{n-1}}_{(n-1)}}\nor{L\big(b_{k_0}^{(0)},\cdots,b_{k_{n-1}}^{(n-1)}\big)} \\
		&\leq \nor{v_0}\cdots\nor{v_{n-1}}\sum_{\substack{0 \leq k_0 < d_0\\\cdots\\0\leq k_{n-1}< d_{n-1}}} \nor{L\big(b_{k_0}^{(0)},\cdots,b_{k_{n-1}}^{(n-1)}\big)}.
	\end{align*}
Definindo
	\begin{equation*}
	c := \sum_{\substack{0 \leq k_0 < d_0\\\cdots\\0\leq k_{n-1}< d_{n-1}}} \nor{L\big(b_{k_0}^{(0)},\cdots,b_{k_{n-1}}^{(n-1)}\big)},
	\end{equation*}
segue que
	\begin{equation*}
	\nor{L(v_0,\ldots,v_{n-1})} \leq c \nor{v_0}\cdots\nor{v_{n-1}}.
	\qedhere
	\end{equation*}
\end{proof}





%\subsection{Norma de Funções Multilineares}


\subsection{Espaço de funções multilineares contínuas}

Lembremos que para espaços lineares $\bm V$ e $\bm V'$, definimos indutivamente para todo $n \in \N$ os espaços
	\begin{itemize}
	\item $\lin^0(\bm V, \bm V') := \bm V'$;
	\item $\lin^m(\bm V, \bm V') := \lin(\bm V, \lin^{m-1}(\bm V, \bm V'))$.
	\end{itemize}
Cada espaço $\lin^m(\bm V, \bm V')$ é linearmente isomorfo ao espaço $\lin^{(m)}(\bm V, \bm V')$ das funções $m$-lineares de $V^m$ para $V'$. O isomorfismo é dado por $I^{(m)}$, que é definida indutivamente por
	\begin{itemize}
	\item Para $m=1$, $I^{(1)} := \fun{\Id}{\lin^1(\bm V, \bm V')}{\lin^{(1)}(\bm V, \bm V')}$;
	\item Para $m>1$,
		\begin{align*}
		\func{I^{(m)}}{\lin^m(\bm V, \bm V')}{\lin^{(m)}(\bm V, \bm V')}{T}{
			\begin{aligned}[t]
			\func{I^{(m)}(T)}{V \times \cdots \times V}{V'}{(v_0,\ldots, v_{m-1})}{I^{(m-1)}(T(v_0))(v_1,\ldots, v_{m-1})}
			\end{aligned}
		}
		\end{align*}
	\end{itemize}

Isso nos dá a relação
	\begin{equation*}
	I^{(m)}(T)(v_0, \ldots, v_{m-1}) = I^{(m-1)}(T(v_0))(v_1,\ldots, v_{m-1}) = T(v_0)\cdots(v_{m-1}).
	\end{equation*}

Definimos espaços análogos para funções lineares contínuas.

\begin{definition}
Sejam $\bm E$ e $\bm E'$ espaços normados. Definimos indutivamente para todo $m \in \N$:
	\begin{itemize}
	\item $\toplin^0(\bm E, \bm E') := \bm E'$;
	\item $\toplin^m(\bm E, \bm E') := \toplin(\bm E, \toplin^{m-1}(\bm E, \bm E'))$.
	\end{itemize}
\end{definition}

Os mesmos isomorfismo lineares $\fun{I^{(m)}}{\lin^m(\bm E, \bm E')}{\lin^{(m)}(\bm E, \bm E')}$, quando restritos a $\toplin^m(\bm E, \bm E')$ e $\toplin^{(m)}(\bm E, \bm E')$, são isomorfismos isométricos, como mostraremos a seguir.

\begin{proposition}
\label{prop:isometria.espacolinear.espacobilinear}
Sejam $\bm E$, $\bm E'$ e $\bm E''$ espaços normados. A função
\begin{align*}
	\func{I}{\toplin(\bm E,\lin(\bm E',\bm E''))}{\toplin(\bm E,\bm E';\bm E'')}{f}{
		\begin{aligned}[t]
		\func{I(f)}{E \times E'}{E''}{(v,v')}{f_v(v')}
		\end{aligned}
	}
	\end{align*}
é um isomorfismo isométrico.
\end{proposition}
\begin{proof}
O isomorfismo linear segue de \ref{prop:isomorfismo.espacolinear.espacobilinear} pelas funções
	\begin{align*}
	\func{I}{\lin(\bm E,\lin(\bm E',\bm E''))}{\lin(\bm E,\bm E';\bm E'')}{f}{
		\begin{aligned}[t]
		\func{I(f)}{E \times E'}{E''}{(v,v')}{f_v(v')}
		\end{aligned}
	}
	\end{align*}
e
	\begin{align*}
	\func{I\inv}{\lin(\bm E,\bm E';\bm E'')}{\lin(\bm E,\lin(\bm E',\bm E''))}{f}{
		\begin{aligned}[t]
		\func{J(f)}{E}{\lin(\bm E',\bm E'')}{v}{
			\begin{aligned}[t]
			\func{J(f)_v}{E'}{E''}{v'}{f(v,v')}.
			\end{aligned}
		}
		\end{aligned}
	}
	\end{align*}
Devemos mostrar que essas funções se restringem a $\toplin(\bm E,\toplin(\bm E',\bm E''))$ e $\toplin(\bm E',\bm E'')$ e que $I$ é isometria.

Assim como em \ref{prop:isomorfismo.espacolinear.espacobilinear}, denotaremos uma função $f \in \toplin(\bm E,\toplin(\bm E',\bm E''))$ por
	\begin{align*}
	\func{f}{E}{\toplin(\bm E',\bm E'')}{v}{
		\begin{aligned}[t]
		\func{f_v}{E'}{E''}{v'}{f_v(v')}.
		\end{aligned}
	}
	\end{align*}

\begin{itemize}
	\item ($I$ é homometria) Seja $f \in \toplin(\bm E,\toplin(\bm E',\bm E''))$. Por \ref{prop:isomorfismo.espacolinear.espacobilinear} vale que $I(f) \in \lin(\bm E,\bm E';\bm E'')$. Como $f$ é contínua vale que, para todo $v \in E$, $\nor{f_v} \leq \nor{f}\nor{v}$; como $f_v \in \toplin(\bm E',\bm E'')$ é contínua vale que, para todo $v' \in E'$, $\nor{f_v(v')} \leq \nor{f_v}\nor{v'}$. Disso segue que, como $I(f)(v,v') = f_v(v')$,
		\begin{equation*}
		\nor{I(f)(v,v')} = \nor{f_v(v')} \leq \nor{f_v}\nor{v'} \leq \nor{f}\nor{v}\nor{v'}.
		\end{equation*}
	Portanto $\nor{I(f)} \leq \nor{f}$, o que mostra que $I(f) \in \toplin(\bm E,\bm E';\bm E'')$. Concluímos portanto que
		\begin{equation*}
		\nor{I} = \sup_{f \in \toplin(\bm E,\toplin(\bm E',\bm E'')) \setminus \{0\}} \frac{\nor{I(f)}}{\nor{f}} \leq 1.
		\end{equation*}

	\item ($I\inv$ é homometria) Seja $f \in \toplin(\bm E,\bm E';\bm E'')$. Por \ref{prop:isomorfismo.espacolinear.espacobilinear} vale que $J(f) \in \lin(\bm E,\lin(\bm E',\bm E''))$. Como $f$ é contínua vale que, para todos $v \in E$ e $v' \in E'$, $\nor{f(v,v')} \leq \nor{f}\nor{v}\nor{v'}$. Disso segue que, como $I\inv(f)_v(v') = f(v,v')$,
		\begin{equation*}
		\nor{I\inv(f)_v(v')} = \nor{f(v,v')} \leq \nor{f}\nor{v}\nor{v'}.
		\end{equation*}
	Portanto $\nor{I\inv(f)_v} \leq \nor{f}\nor{v}$, o que mostra que $I\inv(f)_v \in \toplin(\bm E',\bm E'')$, e $\nor{I\inv(f)} \leq \nor{f}$, o que mostra que $I\inv(f) \in \toplin(\bm E, \toplin(\bm E',\bm E''))$. Concluímos portanto que
		\begin{equation*}
		\nor{I\inv} = \sup_{f \in \toplin(\bm E,\bm E';\bm E'') \setminus \{0\}} \frac{\nor{I\inv(f)}}{\nor{f}} \leq 1.
		\qedhere
		\end{equation*}
\end{itemize}
\end{proof}

Analogamente a \ref{prop:isomorfismos.multilineares.tensoriais}, segue por indução que, para todos espaços normados $\bm E$ e $\bm E'$ e todo $m \in \N$, são isometricamente isomorfismos
	\begin{equation*}
	\toplin^m(\bm E, \bm E')\simeq \toplin^{(m)}(\bm E,\bm E').% \simeq \toplin(\bm E^{\otimes m}, \bm E') .
	\end{equation*}

\begin{proposition}
\label{prop:isometria.estratificada.multilinear}
Sejam $\bm E$ e $\bm E'$ espaços normados e $m \in \N \setminus \{0\}$. A função
	\begin{equation*}
	\fun{I^{(m)}}{\toplin^m(\bm E, \bm E')}{\toplin^{(m)}(\bm E, \bm E')}
	\end{equation*}
é isomorfismo isométrico.
\end{proposition}
\begin{proof}
Segue de \ref{prop:isometria.espacolinear.espacobilinear} por indução em $m$.
\end{proof}

\begin{comment}

\begin{proposition}
\label{prop:isometrias.multilineares.tensoriais}
Valem os seguintes isomorfismos isométricos:
\begin{enumerate}
	\item Para todos espaços normados $\bm E_0,\ldots,\bm E_{n-1}$ e $\bm E'$,
		\begin{equation*}
		\toplin(\bm E_0,\ldots,\bm E_{n-1}; \bm E') \simeq \toplin(\bm E_0 \otimes \cdots \otimes \bm E_{n-1}; \bm E').
		\end{equation*}
	\item Para todos espaços normados $\bm E$ e $\bm E'$ e todo $n \in \N$,
		\begin{equation*}
		\toplin^n(\bm E, \bm E') \simeq \toplin(\bm E^{\otimes n}, \bm E').
		\end{equation*}
	\item Para todos espaços normados $\bm E_0,\ldots,\bm E_{n-1}$ e $\bm E'$,
		\begin{equation*}
		\toplin(\bm E_0,\ldots,\bm E_{n-1}; \bm E') \simeq \toplin(\bm E_0, \toplin(\bm E_1, \ldots, \toplin(\bm E_{n-1}, \bm E')\ldots)).
		\end{equation*}
	\item Para todos espaços normados $\bm E$ e $\bm E'$ e todo $n \in \N$,
		\begin{equation*}
		\toplin^n(\bm E, \bm E') \simeq \toplin(\bm E, \toplin(\bm E,\ldots, \toplin(\bm E, \bm E')\ldots)).
		\end{equation*}
\end{enumerate}
\end{proposition}
\begin{proof}
Segue facilmente de \ref{prop:isomorfismos.multilineares.tensoriais} e \ref{prop:isometria.espacolinear.espacobilinear}.
\end{proof}

\end{comment}












\section{Diferenciação em espaços normados}

A derivada de uma função real $\fun{f}{I}{\R}$, em que $I \subseteq \R$ é um intervalo, pode ser generalizada para funções entre espaços normados de duas formas principais:
	\begin{enumerate}
	\item a diferencial $\D f$ de uma função $\fun{f}{A}{E'}$, em que $A \subseteq E$ é um aberto e $\bm E, \bm E'$ são espaços normados, é uma transformação linear em cada ponto do domínio de $f$;
	\item a derivada $\der f$ de uma função (ou trajetória) $\fun{f}{I}{E}$, em que $I \subseteq \R$ é intervalo e $\bm E$ é um espaço normado, que é também uma função (ou trajetória) em $\bm E$.
	\end{enumerate}

Esses dois conceitos estão intimamente relacionados, mas são distintos, pois a diferencial produz, a partir de uma função entre espaços normados, uma família de transformações lineares entre esses espaços, uma para cada ponto do domínio, enquanto a derivada produz, a partir de uma trajetória em um espaço normado, uma outra trajetória no mesmo espaço.

Nesta seção, definiremos esses dois conceitos e mostraremos como eles se relacionam.

\subsection{Diferenciabilidade}

\subsubsection{Diferencial e propriedades}

Consideremos espaços normados $\bm E$ e $\bm E'$ e um aberto $A \subseteq E$. A ideia por trás dessa definição de diferenciabilidade é a de que a função $\fun{f}{A}{E'}$ pode ser aproximada em uma vizinhança de um ponto $x \in A$ por seu valor no ponto mais o valor de uma função linear aplicada num vetor $v \in E$ de variação que mede quanto a função se afastou do ponto $x$. Ser aproximada, nesse sentido, quer dizer que o erro da aproximação será da ordem da norma do vetor variação $v$, de modo que a razão entre os dois vá a zero quando a variação vai a zero. A definição de função contínua pode ser pensada como um caso análogo de ordem menor: a função $f$ numa vizinhança do ponto $x$ pode ser aproximada por seu valor em $x$, e aproximada aqui quer dizer que a norma da diferença vai a zero quando o vetor variação vai a zero.% Mais à frente, as $k$-ésimas diferenciais da função $f$ serão definidas analogamente, considerando nesses casos funções multilineares.

\begin{definition}[Diferenciabilidade]
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto e $X \subseteq A$. Uma função de $A$ para $E'$ \emph{diferenciável em $X$} (ou \emph{diferenciável em $x$} para $X=\{x\}$) é uma função $\fun{f}{A}{E'}$ tal que, para todo $x \in X$, alguma função linear contínua $\fun{D}{E}{E'}$ satisfaz
	\begin{equation}
	\label{eq:condicao.diferenciabilidade}
	\lim_{v \to 0} \frac{f(x+v) - f(x) - D(v)}{\nor{v}} = 0.
	\end{equation}
Uma função \emph{diferenciável} de $A$ para $E'$ é uma função $\fun{f}{A}{E'}$ diferenciável em $A$.
\end{definition}

Vale notar que em \ref{eq:condicao.diferenciabilidade} poderíamos calcular limite com a norma de $\bm E'$ que o resultado seria equivalente por causa da definição de convergência em espaços normados ser pela métrica dada pela norma. Na literatura adota-se às vezes o limite com ambas as normas, mas assim alguns cálculos ficam mais simples. Usaremos a definição com a norma também quando for conveniente para algum cálculo.

\begin{exercise}[Definição alternativa]
Sejam $(\bm E,\nor{\var})$ e $(\bm E',\nor{\var}')$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$. A função $f$ é diferenciável em $X$ se, e somente se, para todo $x \in X$, alguma função linear contínua $\fun{D}{E}{E'}$ satisfaz
	\begin{equation*}
	\lim_{v \to 0} \frac{\nor{f(x+v) - f(x) - D(v)}'}{\nor{v}} = 0.
	\end{equation*}
\end{exercise}

Pode-se mostrar também que a noção de diferenciabilidade coincide para normas topologicamente equivalentes tanto no espaço $\bm E$ como no espaço $\bm E'$. Em particular, em espaços normados de dimensão finita todas normas são equivalentes e portanto a noção de diferenciabilidade é sempre a mesma.

\begin{exercise}[Equivalência de normas]
Sejam $\bm E$ e $\bm E'$ espaços normados, $\nor{\var}_0$ e $\nor{\var}_1$ normas equivalentes em $\bm E$, $\nor{\var}'_0$ e $\nor{\var}'_1$ normas equivalentes em $\bm E'$, $A \subseteq E$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$. São equivalentes:
	\begin{itemize}
	\item Para todo $x \in X$, alguma função linear contínua $\fun{D}{E}{E'}$ satisfaz
		\begin{equation*}
		\lim_{v \to 0} \frac{\nor{f(x+v) - f(x) - D(v)}'_0}{\nor{v}_0} = 0.
		\end{equation*}
	\item Para todo $x \in X$, alguma função linear contínua $\fun{D}{E}{E'}$ satisfaz
		\begin{equation*}
		\lim_{v \to 0} \frac{\nor{f(x+v) - f(x) - D(v)}'_1}{\nor{v}_1} = 0.
		\end{equation*}
	\end{itemize}
\end{exercise}

A transformação linear na definição de uma função diferenciável é única, como mostraremos a seguir, e é denominada a diferencial da função no ponto. Além disso, vale também notar que permitimos $\dim \bm E = 0$ na nossa definição, mas que nesse caso simplesmente definimos que todas funções são diferenciáveis e suas diferenciais são nulas.

\begin{proposition}[Unicidade da diferencial]
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $x \in A$ e $\fun{f}{A}{E'}$ uma função diferenciável em $x$ . Uma única função linear contínua $\fun{D}{E}{E'}$ satisfaz \ref{eq:condicao.diferenciabilidade}.
\end{proposition}
\begin{proof}
Sejam $\fun{D,D'}{E}{E'}$ funções lineares que satisfazem \ref{eq:condicao.diferenciabilidade}. Nesse caso,
	\begin{align*}
	\lim_{v \to 0} &\frac{D(v) - D'(v)}{\nor{v}} = \\
	&= \lim_{v \to 0} \frac{D(v) - (f(x+v)-f(x)) + (f(x+v)-f(x)) - D'(v)}{\nor{v}} \\
	&= -\lim_{v \to 0} \frac{f(x+v)-f(x) - D(v)}{\nor{v}} + \lim_{v \to 0} \frac{f(x+v)-f(x) - D'(v)}{\nor{v}} \\
	&= 0.
	\end{align*}
%	\begin{align*}
%	\lim_{v \to 0} &\frac{\nor{D(v) - D'(v)}}{\nor{v}} = \\
%	&= \lim_{v \to 0} \frac{\nor{D(v) - (f(x+v)-f(x)) + (f(x+v)-f(x)) - D'(v)}}{\nor{v}} \\
%	&\leq \lim_{v \to 0} \frac{\nor{f(x+v)-f(x) - D(v)}}{\nor{v}} + \lim_{v \to 0} \frac{\nor{f(x+v)-f(x) - D'(v)}}{\nor{v}} \\
%	&= 0.
%	\end{align*}

Como $D$ e $D'$ são funções lineares, vale que $D(0) = 0 = D'(0)$; resta mostrar que, para todo $v \in E \setminus \{0\}$, $D(v) = D'(v)$. Seja $v \in E \setminus \{0\}$. Então $\nor{v} \neq 0$ e, para todo $t \in \R$, como $D$ e $D'$ são lineares vale que $D(tv) = tD(v)$ e $D'(tv) = tD'(v)$. Ainda, como $\lim_{t \to 0} tv = 0$, segue do limite calculado acima que
%	\begin{align*}
%	0 &= \lim_{tv \to 0} \frac{\nor{D(tv) - D'(tv)}}{\nor{tv}} \\
%		&= \lim_{t \to 0} \frac{\abs{t}\nor{D(v) - D'(v)}}{\abs{t} \nor{v}} \\
%		&= \frac{\nor{D(v) - D'(v)}}{\nor{v}},
%	\end{align*}
	\begin{align*}
	\nor{D(v) - D'(v)} &= \nor{v} \frac{\nor{D(v) - D'(v)}}{\nor{v}} \\
		&= \nor{v} \lim_{t \to 0} \frac{\abs{t}\nor{D(v) - D'(v)}}{\abs{t} \nor{v}} \\
		&= \nor{v} \lim_{t \to 0} \frac{\nor{D(tv) - D'(tv)}}{\nor{tv}} \\
%		&= \nor{v} \lim_{v \to 0} \frac{\nor{D(v) - D'(v)}}{\nor{v}} \\
		&= 0.
	\end{align*}
o que implica $D(v) = D'(v)$. Portanto $D=D'$.
\end{proof}

\begin{definition}[Diferencial]
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$ uma função diferenciável em $X$. Para todo $x \in X$, a \emph{diferencial de $f$ em $x$} é a única função linear contínua
	\begin{equation*}
	\fun{\D f|_x}{E}{E'}
	\end{equation*}
que satisfaz
	\begin{equation*}
	\lim_{v \to 0} \frac{f(x+v) - f(x) - \D f|_x(v)}{\nor{v}} = 0.
	\end{equation*}
A \emph{diferencial} de $f$ é a função
	\begin{align*}
	\func{\D f}{X}{\toplin(\bm E, \bm E')}{x}{\D f|_x}.
	\end{align*}
\end{definition}

Como comentado anteriormente, a definição de diferenciabilidade pode ser entendida como uma generalização da continuidade, mas para uma ordem superior de aproximação. A seguir, mostramos que se uma função é diferenciável --- ou seja, pode ser aproximada dessa forma superior --- então ela é contínua ---pode ser aproximada da forma inferior.

\begin{proposition}[Diferenciabilidade implica continuidade]
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$ uma função diferenciável em $X$. Então $f$ é contínua em $X$.
\end{proposition}
\begin{proof}
Seja $x \in X$. Como $\D f|_x$ é linear e contínua, $\lim_{v \to 0} \D f|_x(v) = 0$, portanto segue que
	\begin{align*}
	\lim_{v \to 0} (f(x+v) - f(x)) &= \lim_{v \to 0} (f(x+v) - f(x) - \D f|_x(v)) \\
		&= \lim_{v \to 0} \nor{v}\frac{f(x+v) - f(x) - \D f|_x(v)}{\nor{v}} \\
		&= 0.
	\qedhere
	\end{align*}
%Seja $x \in X$. Como $\D f|_x$ é linear e contínua, para todo $v \in E$ vale $\nor{\D f|_x(v)} \leq \nor{\D f|_x}\nor{v}$, portanto segue que
%	\begin{align*}
%	\lim_{v \to 0} \nor{f(x+v) - f(x)} &= \lim_{v \to 0} \nor{v}\frac{\nor{f(x+v) - f(x)}}{\nor{v}} \\
%		&= \lim_{v \to 0} \nor{v}\frac{\nor{f(x+v) - f(x) - \D f|_x(v) + \D f|_x(v)}}{\nor{v}} \\
%		&\leq \lim_{v \to 0} \nor{v}\frac{\nor{f(x+v) - f(x) - \D f|_x(v)}}{\nor{v}} + \nor{v}\frac{\D f|_x(v)}{\nor{v}} \\
%		&\leq \lim_{v \to 0} \nor{v}\frac{\nor{f(x+v) - f(x) - \D f|_x(v)}}{\nor{v}} + \nor{v}\frac{\nor{\D f|_x}\nor{v}}{\nor{v}} \\
%		&= 0.
%	\end{align*}
\end{proof}

\subsubsection{Operações com funções diferenciáveis}

A partir da estrutura algébrica dos espaços vetoriais (ou álgebras) dos espaços normados $\bm E$ e $\bm E'$, podem-se induzir operações entre funções desses espaços, como a adição de funções, a multiplicação de função por escalar e, no caso do espaço imagem ser uma álgebra, a multiplicação de funções. Quando realizamos essas operações entre funções diferenciáveis, as funções resultantes ainda serão diferenciáveis e a expressão de sua diferencial em termos das diferenciais das funções usadas na operação são muito simples. Essas propriedades são de fato análogas a propriedades de uma derivação em uma álgebra (ou anel): são lineares e satisfazem uma regra do produto, ou regra de derivação. No entanto, para que a diferencial seja de fato uma derivação, algumas restrições devem ser feitas; as propriedades a seguir podem portanto ser compreendidas como casos mais gerais das propriedades de uma derivação, pois são pontuais.

\begin{proposition}[Propriedades de derivação]
\label{prop:diferencial.propriedades}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto e $X \subseteq A$.
	\begin{enumerate}
	\item Para todas funções $\fun{f,f'}{A}{E'}$ diferenciáveis em $X$, a função
		\begin{equation*}
		\fun{f+f'}{A}{E'}
		\end{equation*}
	é diferenciável em $X$ e, para todo $x \in X$,
		\begin{equation*}
		\D (f+f')|_x = \D f|_x + \D f'|_x;
		\end{equation*}
	\item Para todo $c \in \R$ e toda função $\fun{f}{A}{E'}$ diferenciável em $X$, a função
		\begin{equation*}
		\fun{c f}{A}{E'}
		\end{equation*}
	é diferenciável em $X$ e, para todo $x \in X$,
		\begin{equation*}
		\D (c f)|_x = c\D f|_x;
		\end{equation*}
	\item Se $\bm E'$ é uma álgebra normada, para todas funções $\fun{f,f'}{A}{E'}$ diferenciáveis em $X$, a função
		\begin{equation*}
		\fun{f f'}{A}{E'}
		\end{equation*}
	é diferenciável em $X$ e, para todo $x \in X$ e todo $v \in E$,
		\begin{equation*}
		\D (f f')|_x(v) = \D f|_x(v)f'(x) + f(x)\D f'|_x(v);
		\end{equation*}
	\item Toda função constante $\fun{f}{A}{E'}$ é diferenciável e, para todo $x \in A$,
		\begin{equation*}
		\D f|_x = 0;
		\end{equation*}
	\item Toda função linear $\fun{l}{E}{E'}$ é diferenciável e, para todo $x \in E$,
		\begin{equation*}
		\D l|_x = l.
		\end{equation*}
	\end{enumerate}
\end{proposition}
\begin{proof}
Exercício.

\begin{comment}

	\begin{enumerate}
	\item Para todo $t \in X$,
		\begin{align*}
		\der (\gamma+\gamma')(t) &= \lim_{t \to 0} \frac{(\gamma+\gamma')(t+t')-(\gamma+\gamma')(t)}{t'} \\
			&= \lim_{t' \to 0} \frac{\gamma(t+t') + \gamma'(t+t') - \gamma(t) - \gamma'(t)}{t'} \\
			&= \lim_{t' \to 0} \frac{\gamma(t+t') - \gamma(t)}{t} + \lim_{t' \to 0} \frac{\gamma'(t+t') - \gamma'(t)}{t'} \\
			&= \der \gamma(t) + \der \gamma'(t).
		\end{align*}

	\item Para todo $t \in X$,
		\begin{align*}
		\der (c \gamma)(t) &= \lim_{t' \to 0} \frac{(c \gamma)(t+t')-(c \gamma)(t)}{t'} \\
			&= \lim_{t' \to 0} \frac{c \gamma(t+t') - c \gamma(t)}{t'} \\
			&= c\lim_{t' \to 0} \frac{\gamma(t+t') - \gamma(t)}{t'} \\
			&= c\der \gamma(t).
		\end{align*}

	\item Para todo $t \in X$, da continuidade do produto da álgebra e da continuidade de $\gamma'$ em $t$ segue que
		\begin{align*}
		\der (\gamma \gamma')(t) &= \lim_{t' \to 0} \frac{(\gamma \gamma')(t+t') - (\gamma \gamma')(t)}{t'} \\
			&= \lim_{t' \to 0} \frac{\gamma(t+t')\gamma'(t+t') - \gamma(t)\gamma'(t)}{t'} \\
			&= \lim_{t' \to 0} \frac{\gamma(t+t')\gamma'(t+t') - \gamma(t)\gamma'(t+t') + \gamma(t)\gamma'(t+t') - \gamma(t)\gamma'(t)}{t'} \\
			&= \lim_{t' \to 0} \frac{\gamma(t+t')\gamma'(t+t') - \gamma(t)\gamma'(t+t')}{t'} \\
			&+ \lim_{t' \to 0} \frac{\gamma(t)\gamma'(t+t') - \gamma(t)\gamma'(t)}{t'} \\
			&= \left( \lim_{t' \to 0} \frac{\gamma(t+t') - \gamma(t)}{t'} \right) \left( \lim_{t' \to 0} \gamma'(t+t') \right) \\
			&+ \lim_{t' \to 0} \gamma(t) \left( \lim_{t' \to 0} \frac{\gamma'(t+t') - \gamma'(t)}{t'} \right) \\
			&= \der \gamma(t) \gamma'(t) + \gamma(t) \der \gamma'(t).
		\qedhere
		\end{align*}
	\end{enumerate}

\end{comment}

\end{proof}

Além das operações entre funções diferenciáveis provenientes da estrutura algébrica dos espaços vetoriais (ou álgebras) em questão, uma operação possível entre funções diferenciáveis é a composição. Como é de se esperar, a composição de funções diferenciáveis é diferenciável e a expressão de sua diferencial em termos das diferenciais da funções envolvidas na composição é conhecida como a \textit{regra da cadeia}, pois as diferenciais são `encadeadas', calculadas uma em seguida da outra e compostas. Essa regra é uma das fórmulas mais úteis na teoria de diferenciação.

\begin{proposition}[Diferenciabilidade da composição ou Regra da cadeia]
\label{prop:diferenciabilidade.composicao}
Sejam $\bm E$, $\bm E'$ e $\bm E''$ espaços normados, $A \subseteq E$ e $A' \subseteq E'$ abertos, $X \subseteq A$, $\fun{f}{A}{E'}$ diferenciável em $X$ tal que $f(A) \subseteq A'$ e $\fun{f}{A'}{E''}$ diferenciável em $f(X)$. A função composta $\fun{f' \circ f}{A}{E''}$ é diferenciável em $X$ e, para todo $x \in X$,
	\begin{equation*}
	\D(f' \circ f)|_x = \D f'|_{f(x)} \circ \D f|_x.
	\end{equation*}
\end{proposition}
\begin{proof} Seja $x \in X$. Definamos, para todo $v \in E$,
	\begin{align*}
	r(v) &:= f(x+v) - f(x) - \D f|_x(v), \\
	r'(v) &:= f'(f(x)+v) - f'(f(x)) - \D f'|_{f(x)}(v), \\
	r''(v) &:= (f' \circ f)(x+v) - (f' \circ f)(x) - \D f'|_{f(x)} \circ \D f|_x(v),
	\end{align*}
de modo que as diferenciabilidades de $f$ em $x$ e de $f'$ em $f(x)$ equivalem a
	\begin{equation*}
	\lim_{v \conv 0} \frac{r(v)}{\nor{v}} = \lim_{v \conv 0} \frac{r'(v)}{\nor{v}} = 0
	\end{equation*}
e, como $\fun{\D f'|_{f(x)} \circ \D f|_x}{E}{E''}$ é linear e contínua, o limite
	\begin{equation*}
	\lim_{v \conv 0} \frac{r''(v)}{\nor{v}} = 0
	\end{equation*}
implica a diferenciabilidade de $f' \circ f$ em $x$. Calculemos esse limite.

Calculando $(f' \circ f)(x+v)$, obtemos
	\begin{align*}
	(f' \circ f)(x+v) &= f'(f(x+v)) \\
		&= f'(f(x)+\D f|_x(v) + r(v)) \\
		&= f'(f(x)) + \D f'|_{f(x)} (\D f|_x(v) + r(v)) + r'(\D f|_x(v) + r(v)) \\
		&= (f' \circ f)(x) + \D f'|_{f(x)} \circ \D f|_x(v) + \D f'|_{f(x)}(r(v)) \\
		&\quad + r'(\D f|_x(v) + r(v)),
	\end{align*}
portanto
	\begin{align*}
	r''(v) &= (f' \circ f)(x+v) - (f' \circ f)(x) - \D f'|_{f(x)} \circ \D f|_x(v) \\
		&= \D f'|_{f(x)}(r(v)) + r'(\D f|_x(v) + r(v)).
	\end{align*}
e
	\begin{equation*}
	\lim_{v \conv 0} \frac{r''(v)}{\nor{v}} = \lim_{v \conv 0} \frac{\D f'|_{f(x)}(r(v)) + r'(\D f|_x(v) + r(v))}{\nor{v}}.
	\end{equation*}

A primeira parcela do limite é $0$, pois da linearidade e continuidade de $\D f|_x$ segue que
	\begin{equation*}
	\lim_{v \conv 0} \frac{\D f'|_{f(x)} (r(v))}{\nor{v}} = \lim_{v \conv 0} \D f'|_{f(x)} \left( \frac{r(v)}{\nor{v}} \right) = \D f'|_{f(x)} \left( \lim_{v \conv 0} \frac{r(v)}{\nor{v}} \right) = 0.
	\end{equation*}
A segunda parcela do limite também é $0$, pois como $\lim_{v \conv 0} \D f|_x(v) + r(v) = 0$ e $\D f|_x \left( \frac{v}{\nor{v}} \right)$ é limitado, segue que
	\begin{align*}
	\lim_{v \conv 0} \frac{r'(\D f|_x(v) + r(v))}{\nor{v}} &= \lim_{v \conv 0} \frac{r'(\D f|_x(v) + r(v))}{\nor{\D f|_x(v) + r(v)}} \frac{\nor{\D f|_x(v) + r(v)}}{\nor{v}}\\
		&= \lim_{v \conv 0} \frac{r'(\D f|_x(v) + r(v))}{\nor{\D f|_x(v) + r(v)}} \nor{\D f|_x \left( \frac{v}{\nor{v}} \right) + \frac{r(v)}{\nor{v}}} \\
		&= 0.
	\end{align*}

Segue então que
	\begin{equation*}
	\lim_{v \conv 0} \frac{(f' \circ f)(x+v) - (f' \circ f)(x) - \D f'|_{f(x)} \circ \D f|_x(v)}{\nor{v}} = 0,
	\end{equation*}
e concluímos que $f' \circ f$ é diferenciável em $x$ e $\D f'|_{f(x)} \circ \D f|_x$ é sua diferencial em $x$.
\end{proof}

\begin{proposition}[Restrição de contradomínio]
\label{prop:restricao.imagem.diferencial}
Sejam $\bm E$ e $\bm E'$ espaços normados, $\bm S' \subseteq \bm E'$ subespaço fechado, $A \subseteq E$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$ uma função diferenciável em $X$ tal que $f(A) \subseteq S'$. Então $\fun{f}{A}{S'}$ é diferenciável em $X$.
\end{proposition}
% Não sei se esse argumento é válido quando os espaços não são completos, mas no livro do Coleman tem outro argumento na proposição 2.8.
%\begin{proof}
%Como $S'$ é fechado, $\fun{\proj_{S'}}{E'}{S}$ é linear e contínua, logo segue da regra da cadeia que $\proj_{S'} \circ f$ é diferenciável em $X$ e, para todo $x \in X$,
%	\begin{equation*}
%	\D (\proj_{S'} \circ f)|_x = \proj_{S'} \circ \D f|_x = \D f|_x.
%	\end{equation*}
%\end{proof}

% Seria legal também tentar achar uma proposição sobre restrição de domínio, provavelmente seria um subconjunto aberto.
\begin{proof}
Exercício.
\end{proof}

\subsubsection{Diferenciabilidade contínua}

Como diferenciabilidade implica continuidade, se $f$ é diferenciável então $f$ é contínua, ou seja, $f \in \Cont(\bm A, \bm E)$. O espaço $\toplin(\bm E, \bm E')$ das funções lineares contínuas de $\bm E$ para $\bm E'$ é um espaço normado e então podemos nos perguntar se a diferencial $\fun{\D f}{A}{\toplin(\bm E, \bm E')}$ de $f$ é também contínua. Isso nem sempre vale.
% Na seção sobre a diferenciabilidade parcial de uma função, usamos o conceito de $\Cont^1$-diferenciabilidade para achar condições necessárias e suficientes para a diferenciabilidade de uma função. Nesta seção, generalizaremos o conceito de diferenciabilidade contínua para outras ordens.

A seguir, quando falamos de uma vizinhança de um conjunto $X$, queremos dizer um conjunto $V$ tal que $X \subseteq \Int{V}$, o que equivale a unirmos vizinhanças de cada ponto $x \in X$.

\begin{definition}[Diferenciabilidade contínua]
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto e $X \subseteq A$. Uma função de $A$ para $E'$ \emph{$\Cont^1$-diferenciável} (ou \emph{continuamente diferenciável}) \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$ tal que, para alguma vizinhança $V \subseteq A$ de $X$, $f$ é $m$-diferenciável em $V$ e sua diferencial $\fun{\D f}{V}{\toplin(\bm E, \bm E')}$ é contínua em $X$.

Uma função \emph{$\Cont^1$-diferenciável} (ou \emph{continuamente diferenciável}) de $A$ para $E'$ é uma função $\fun{f}{A}{E'}$ $\Cont^1$-diferenciável em $A$ e o conjunto dessas funções é denotado $\Cont^1(\bm A,\bm E')$.
\end{definition}


\begin{exercise}
\label{prop:diferencial.continua.propriedades}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto e $X \subseteq A$.
	\begin{enumerate}
	\item Para todas funções $\fun{f,f'}{A}{E'}$ $\Cont^1$-diferenciáveis em $X$, a função $\fun{f+f'}{A}{E'}$ é $\Cont^1$-diferenciável em $X$;
	\item Para todo $c \in \R$ e toda função $\fun{f}{A}{E'}$ $\Cont^1$-diferenciável em $X$, a função $\fun{c f}{A}{E'}$ é $\Cont^1$-diferenciável em $X$;
	\item Se $\bm E'$ é uma álgebra normada, para todas funções $\fun{f,f'}{A}{E'}$ $\Cont^1$-diferenciáveis em $X$, a função $\fun{f f'}{A}{E'}$ é $\Cont^1$-diferenciável em $X$;
	\item Toda função constante $\fun{f}{A}{E'}$ é $\Cont^1$-diferenciável;
	\item Toda função linear $\fun{l}{E}{E'}$ é $\Cont^1$-diferenciável.
	\end{enumerate}
\end{exercise}

\begin{proposition}[Diferenciabilidade contínua da composição]
\label{prop:diferenciabilidade.continua.composicao}
Sejam $\bm E$, $\bm E'$ e $\bm E'$ espaços normados, $A \subseteq E$ e $A' \subseteq E'$ abertos, $X \subseteq A$, $\fun{f}{A}{E'}$ $\Cont^1$-diferenciável em $X$ tal que $f(A) \subseteq A'$ e $\fun{f}{A'}{E''}$ $\Cont^1$-diferenciável em $f(X)$. A função composta $\fun{f' \circ f}{A}{E''}$ é $\Cont^1$-diferenciável em $X$.
\end{proposition}
\begin{proof}
Segue de \ref{prop:diferenciabilidade.composicao} e do fato de que composição de funções contínuas é contínua.
\end{proof}


\subsection{Derivabilidade}

\subsubsection{Derivada de uma trajetória}

Para a definição de derivada, definiremos antes o conceito de uma trajetória em um espaço normado. A ideia é formalizar as propriedades do movimento de uma partícula ou objeto em um espaço que seja parametrizado pelo tempo. Aqui, definiremos uma trajetória simplesmente como uma função de um intervalo real, que representará o parâmetro temporal, para um espaço normado, que representará o espaço. Em geral, espera-se que a trajetória de uma partícula seja de certa forma suave, ou ao menos contínua, mas por simplicidade de notação não imporemos nenhuma condição sobre a função, para que a partir de definições adicionais sobre a continuidade e derivabilidade de uma tal trajetória possamos obter condições adequadas para tais trajetórias. Na prática, quase todas trajetórias que considerarmos serão contínuas ou mesmo deriváveis.

\begin{definition}
Sejam $\bm E$ um espaço normado. Uma \emph{trajetória em $E$} é uma função $\fun{\gamma}{I}{E}$ de um intervalo aberto $I \subseteq \R$ para $E$.
\end{definition}

Na literatura matemática, o termo \textit{curva} às vezes é denomina o que aqui chamamos de trajetória, em geral impondo a condição de continuidade, e outras vezes denomina o conjunto imagem de uma trajetória que seja bem comportada. Aqui, reservaremos o nome \textit{curva} para variedades $1$-dimensionais, que serão definidas mais adiante; em particular, o conjunto imagem de uma trajetória suficientemente bem comportada é uma curva. Um outro termo também usado na literatura é \textit{curva parametrizada}.

O conceito de derivada de uma trajetória vem de sua interpretação física. A derivada em um tempo $t \in I$ da trajetória é a `taxa de variação instantânea' ou a \emph{velocidade} do objeto que se move conforme a trajetória. Esse é o conceito usado na definição de derivada de funções reais e se estende facilmente para o caso de espaços normados.

\begin{definition}[Derivabilidade]
Sejam $\bm E$ um espaço normado, $I \subseteq \R$ um intervalo aberto e $X \subseteq I$. Uma trajetória de $I$ para $E$ \emph{derivável em $X$} (ou \emph{derivável em $t$} para $X=\{t\}$) é uma trajetória $\fun{\gamma}{I}{E}$ tal que, para todo $t \in X$, algum $v \in E$ satisfaz
	\begin{equation*}
	v = \lim_{\delta \to 0} \frac{\gamma(t+\delta)-\gamma(t)}{\delta}.
	\end{equation*}
Nesse caso, a \emph{derivada de $\gamma$ em $t$} é o vetor
	\begin{equation*}
	\dot{\gamma} (t) := \lim_{\delta \to 0} \frac{\gamma(t+\delta)-\gamma(t)}{\delta}.
	\end{equation*}
Caso seja necessário explicitar a operação de derivação, denota-se
	\begin{equation*}
	\der \gamma(t) := \dot{\gamma} (t);
	\end{equation*}
caso seja necessário explicitar a variável da função $\gamma$, denota-se
	\begin{equation*}
	\der_{t'} \gamma(t')|_{t'=t} := \der \gamma(t) = \dot \gamma(t).
	\end{equation*}
Uma trajetória \emph{derivável} de $I$ para $E$ é uma trajetória $\fun{\gamma}{I}{E}$ derivável em $I$. Nesse caso, a \emph{derivada} de $f$ é a trajetória
	\begin{align*}
	\func{\der \gamma = \dot \gamma}{I}{E}{t}{\dot \gamma(t)}.
	\end{align*}
\end{definition}

Mais geralmente, pode-se definir derivabilidade inferior e superior de uma trajetória em um ponto através de limites superior e inferior, já que o domínio de uma trajetória é um subconjunto de $\R$. Não abordaremos essas definições mais gerais aqui, mas elas podem ser conferidas em \cite{liv:Cartan-DifferentialCalculus}.

\begin{proposition}[Derivabilidade implica continuidade]
Sejam $\bm E$ um espaço normado, $I \subseteq \R$ um intervalo aberto, $X \subseteq I$ e $\fun{\gamma}{I}{E}$ uma trajetória derivável em $X$. Então $\gamma$ é contínua em $X$.
\end{proposition}
\begin{proof}
Basta notar que, para todo $t \in X$,
	\begin{align*}
	\lim_{\delta \to 0} (\gamma(t+\delta)-\gamma(t)) &= \lim_{\delta \to 0} \delta\frac{\gamma(t+\delta)-\gamma(t)}{\delta} \\
%		&= \left( \lim_{\delta \to 0} \delta \right) \left( \lim_{\delta \to 0}\frac{\gamma(t+\delta)-\gamma(t)}{\delta} \right) \\
		&= 0\dot \gamma(t) \\
		&= 0,
	\end{align*}
portanto $\lim_{\delta \to 0} \gamma(t+\delta) = \gamma(t)$, o que mostra que $\gamma$ é contínua em $t$.
\end{proof}

\subsubsection{Operaões entre trajetórias deriváveis}

\begin{proposition}[Propriedades de derivação]
\label{prop:derivada.propriedades}
Sejam $\bm E$ um espaço normado, $I \subseteq \R$ um intervalo aberto e $X \subseteq I$.
	\begin{enumerate}
	\item Para todas trajetórias $\fun{\gamma,\gamma'}{I}{E}$ deriváveis em $X$, a trajetória $\fun{\gamma+\gamma'}{I}{E}$ é derivável em $X$ e, para todo $t \in X$,
		\begin{equation*}
		\der (\gamma+\gamma')(t) = \der \gamma(t) + \der \gamma'(t);
		\end{equation*}
	\item Para todo $c \in \R$ e toda trajetória $\fun{\gamma}{I}{E}$ derivável em $X$, a trajetória $\fun{c \gamma}{I}{E}$ é derivável em $X$ e, para todo $t \in X$,
		\begin{equation*}
		\der (c \gamma)(t) = c\der \gamma(t);
		\end{equation*}
	\item Se $\bm E$ é uma álgebra normada, para todas trajetórias $\fun{\gamma,\gamma'}{I}{E}$ deriváveis em $X$, a trajetória $\fun{\gamma \gamma'}{I}{E}$ é derivável em $X$ e, para todo $t \in X$,
		\begin{equation*}
		\der (\gamma \gamma')(t) = \der \gamma(t)\gamma'(t) + \gamma(t)\der \gamma'(t).
		\end{equation*}
	\end{enumerate}
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item Para todo $t \in X$,
		\begin{align*}
		\der (\gamma+\gamma')(t) &= \lim_{t \to 0} \frac{(\gamma+\gamma')(t+\delta)-(\gamma+\gamma')(t)}{\delta} \\
			&= \lim_{\delta \to 0} \frac{\gamma(t+\delta) + \gamma'(t+\delta) - \gamma(t) - \gamma'(t)}{\delta} \\
			&= \lim_{\delta \to 0} \frac{\gamma(t+\delta) - \gamma(t)}{t} + \lim_{\delta \to 0} \frac{\gamma'(t+\delta) - \gamma'(t)}{\delta} \\
			&= \der \gamma(t) + \der \gamma'(t).
		\end{align*}

	\item Para todo $t \in X$,
		\begin{align*}
		\der (c \gamma)(t) &= \lim_{\delta \to 0} \frac{(c \gamma)(t+\delta)-(c \gamma)(t)}{\delta} \\
			&= \lim_{\delta \to 0} \frac{c \gamma(t+\delta) - c \gamma(t)}{\delta} \\
			&= c\lim_{\delta \to 0} \frac{\gamma(t+\delta) - \gamma(t)}{\delta} \\
			&= c\der \gamma(t).
		\end{align*}

	\item Para todo $t \in X$, da continuidade do produto da álgebra e da continuidade de $\gamma'$ em $t$ segue que
		\begin{align*}
		\der (\gamma \gamma')(t) &= \lim_{\delta \to 0} \frac{(\gamma \gamma')(t+\delta) - (\gamma \gamma')(t)}{\delta} \\
			&= \lim_{\delta \to 0} \frac{\gamma(t+\delta)\gamma'(t+\delta) - \gamma(t)\gamma'(t)}{\delta} \\
			&= \lim_{\delta \to 0} \frac{\gamma(t+\delta)\gamma'(t+\delta) - \gamma(t)\gamma'(t+\delta) + \gamma(t)\gamma'(t+\delta) - \gamma(t)\gamma'(t)}{\delta} \\
			&= \lim_{\delta \to 0} \frac{\gamma(t+\delta)\gamma'(t+\delta) - \gamma(t)\gamma'(t+\delta)}{\delta} \\
			&+ \lim_{\delta \to 0} \frac{\gamma(t)\gamma'(t+\delta) - \gamma(t)\gamma'(t)}{\delta} \\
			&= \left( \lim_{\delta \to 0} \frac{\gamma(t+\delta) - \gamma(t)}{\delta} \right) \left( \lim_{\delta \to 0} \gamma'(t+\delta) \right) \\
			&+ \lim_{\delta \to 0} \gamma(t) \left( \lim_{\delta \to 0} \frac{\gamma'(t+\delta) - \gamma'(t)}{\delta} \right) \\
			&= \der \gamma(t) \gamma'(t) + \gamma(t) \der \gamma'(t).
		\qedhere
		\end{align*}
	\end{enumerate}
\end{proof}

\begin{exercise}
Se $\fun{p}{\R}{\R}$ é uma função polinomial dada por $p(x) = \sum_{i=0}^n c_ix^i$, então $\dot{p}(x) = \sum_{i=0}^{n-1} ic_ix^{i-1}$.
\end{exercise}

\subsubsection{Diferenciabilidade e derivabilidade}

A proposição a seguir mostra que os conceitos de diferenciabilidade e derivabilidade coincidem para trajetórias. Mais à frente, definiremos as derivadas direcionais de uma função entre espaços normados, que estendem o conceito de derivação de trajetórias para essas funções. Nesse caso, nem toda função derivável em todas as direções será será diferenciável, mas a recíproca ainda valerá.

\begin{proposition}
\label{prop:diferenciabilidade.derivabilidade}
Sejam $\bm E$ um espaço normado, $I \subseteq \R$ aberto e $X \subseteq I$. Uma função $\fun{\gamma}{I}{E}$ é diferenciável em $X$ se, e somente se, é derivável em $X$. Nesse caso, para todo $t \in X$ vale $\nor{\D \gamma|_t} = \nor{\dot \gamma(t)}$ e, para todo $\delta \in \R$,
	\begin{equation*}
	\D \gamma|_t(\delta) = \delta\dot \gamma(t).
	\end{equation*}
\end{proposition}
\begin{proof}
	\begin{itemize}
	\item ($\Rightarrow$) Suponhamos que $\gamma$ é diferenciável e seja $t \in X$. Então
		\begin{align*}
		\lim_{\delta \to 0} \nor{\frac{\gamma(t+\delta) - \gamma(t)}{\delta} - \D \gamma|_t(1)} &= \lim_{\delta \to 0} \nor{\frac{\gamma(t+\delta) - \gamma(t) - \delta\D \gamma|_t(1)}{\delta}} \\
			&= \lim_{\delta \to 0} \frac{\nor{\gamma(t+\delta) - \gamma(t) - \D \gamma|_t(\delta)}}{\abs{\delta}} \\
			&= 0,
		\end{align*}
	o que mostra que $\D \gamma|_t(1)$ é a derivada de $\gamma$ em $t$.

	\item ($\Leftarrow$) Suponhamos que $\gamma$ é derivável e seja $t \in X$. Defina
		\begin{align*}
		\func{D}{\R}{E}{\delta}{\delta \dot \gamma(t)}.
		\end{align*}
	A função $D$ é claramente linear e contínua. Da derivabilidade de $\gamma$ em $t$ segue que
		\begin{align*}
		\lim_{\delta \to 0} \frac{\nor{\gamma(t+\delta) - \gamma(t) - D(\delta)}}{\abs{\delta}} &= \lim_{\delta \to 0} \nor{\frac{\gamma(t+\delta) - \gamma(t) - \delta \dot \gamma(t)}{\delta}} \\
			&= \lim_{\delta \to 0} \nor{\frac{\gamma(t+\delta) - \gamma(t)}{\delta} - \dot \gamma(t)} \\
			&= 0,
		\end{align*}
	o que mostra que $D$ é a diferencial de $\gamma$ em $t$.
	\end{itemize}
No caso em que $\gamma$ é diferenciável, para todos $t \in X$ e $\delta \in \R$ vale
	\begin{equation*}
	\D \gamma|_t(\delta) = \delta\dot \gamma(t)
	\end{equation*}
e portanto
	\begin{equation*}
	\nor{\D \gamma|_t} = \sup_{\delta \in \R \setminus \{0\}} \frac{\nor{\D \gamma|_t(\delta)}}{\abs{\delta}} = \sup_{\delta \in \R \setminus \{0\}} \frac{\nor{\delta \dot \gamma(t)}}{\nor{\delta}} = \sup_{\delta \in \R \setminus \{0\}} \frac{\abs{\delta}\nor{\dot \gamma(t)}}{\nor{\delta}} = \nor{\dot \gamma(t)}.
	\qedhere
	\end{equation*}
\end{proof}

Note que as proposições sobre derivabilidade implicar continuidade e propriedades de derivação demonstradas nesta seção seguem diretamente como corolário dessa caracterização da derivada de uma trajetória pela diferencial e das respectivas propriedades da diferencial, mas elas foram demonstradas independentemente para motivar o conceito de derivada.

\subsection{Derivabilidade direcional}

Antes de definirmos a derivada direcional, definiremos o fluxo em um espaço normado $E$ por um vetor $v \in E$. Essa ferramenta a princípio parece trivial, mas o benefício de introduzir a ideia de um fluxo é que quando os conceitos de derivação forem generalizados para variedades o uso do fluxo, que não será trivial como neste caso, será essencial.

\subsubsection{Fluxo linear}

\begin{definition}
Sejam $\bm E$ um espaço normado e $v \in E$. O \emph{fluxo de $v$} em $\bm E$ é a função
	\begin{align*}
	\func{\flux{}{v}}{\R}{\Cont(\bm E,\bm E)}{t}{
		\begin{aligned}[t]
		\func{\flux{(t)}{v}}{E}{E}{x}{\flux{(t)}{v}(x) := x+tv}.
		\end{aligned}
	}
	\end{align*}
Para todo $x \in E$, a \emph{trajetória} de $\flux{}{v}$ baseada em $x$ é a trajetória
	\begin{align*}
	\func{\flux{(\var)}{v}_{x}}{\R}{E}{t}{\flux{(t)}{v}(x)}.
	\end{align*}
\end{definition}

O fluxo de $v$ também pode ser visto como uma função
	\begin{align*}
	\func{\flux{}{v}}{\R \times E}{E}{(t,x)}{\flux{(t)}{v}(x) = x+tv}.
	\end{align*}
Esse ponto de vista será importante na generalização dos fluxos. Dado $x \in E$, denotaremos a derivada da trajetória $\flux{(\var)}{v}_{x}$ em $t \in \R$ por
	\begin{equation*}
	\flux[\dot]{(t)}{v}_{x} := \der \flux{(t)}{v}_{x} = \lim_{\delta \to 0} \frac{\flux{(t+\delta)}{v}_{x} - \flux{(t)}{v}_{x}}{\delta}.
	\end{equation*}

Ressaltamos na proposição seguinte as principais propriedades do fluxo.

\begin{proposition}
Seja $\bm E$ um espaço normado.
	\begin{enumerate}
	\item Para todo $v \in E$ e todos $t,t' \in \R$,
		\begin{equation*}
		\flux{(t)}{t'v} = \flux{(tt')}{v};
		\end{equation*}
	\item Para todo $v \in E$,
		\begin{equation*}
		\flux{(0)}{v} = \Id;
		\end{equation*}
	\item Para todo $v \in E$ e todos $t,t' \in \R$,
		\begin{equation*}
		\flux{(t+t')}{v} = \flux{(t)}{v} \circ \flux{(t')}{v};
		\end{equation*}
	\item Para todo $v \in E$, todo $x \in E$ e todo $t \in \R$,
		\begin{equation*}
		\flux[\dot]{(t)}{v}_{x} = v;
		\end{equation*}
	\item Para todos $v,v' \in E$ e todo $t \in \R$,
		\begin{equation*}
		\flux{(t)}{(v+v')} = \flux{(t)}{v} \circ \flux{(t)}{v'}.
		\end{equation*}
	\end{enumerate}
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item Para todo $x \in E$,
		\begin{equation*}
		\flux{(t)}{(t'v)}(x) = x + t(t'v) = x + (tt')v = \flux{(tt')}{v}(x).
		\end{equation*}

	\item Para todo $x \in E$,
		\begin{equation*}
		\flux{(0)}{v}(x) = x + 0v = x = \Id(x).
		\end{equation*}

	\item Para todo $x \in E$,
		\begin{equation*}
		\flux{(t+t')}{v}(x) = x + (t + t')v = (x + tv) + t'v = \flux{(t)}{v} \circ \flux{(t')}{v}(x).
		\end{equation*}

	\item Para todo $x \in E$,
		\begin{align*}
		\flux[\dot]{(t)}{v}_{x} &= \lim_{\delta \to 0} \frac{\flux{(t+\delta)}{v}_{x} - \flux{(t)}{v}_{x}}{\delta} \\
			&= \lim_{\delta \to 0} \frac{x + (t + \delta)v - (x + tv)}{\delta} \\
			&= \lim_{\delta \to 0} \frac{\delta v}{\delta} \\
			&= v.
		\end{align*}

	\item Para todo $x \in E$ e todo $t \in \R$,
		\begin{align*}
		\flux{t}{(v+v')}(x) &= \flux{t}{(v'+v)}(x) \\
			&= x + t(v'+v) \\
			&= x + tv' + tv \\
			&= \flux{t}{v}(x+tv') \\
			&= \flux{t}{v}(\flux{t}{v'}(x)) \\
			&= \flux{t}{v} \circ \flux{t}{v} (x),
		\end{align*}
	o que mostra que $\flux{t}{(v+v')} = \flux{t}{v} \circ \flux{t}{v}$.
	\qedhere
	\end{enumerate}
\end{proof}

A primeira proposição esclarece uma possível ambiguidade de notação e serve como justificativa para a escolha de notação de fluxo. Como para todo $v \in E$ e todos $t,t' \in \R$ vale
	\begin{equation*}
	\flux{(t)}{(t'v)} = \flux{(tt')}{v},
	\end{equation*}
então a notação $\flux{tt'}{v}$ não é ambígua e podemos em geral denotar
	\begin{equation*}
	\flux{t}{v} := \flux{(t)}{v}.
	\end{equation*}
A segunda e a terceira proposições são de fato a propriedade de um fluxo. Elas significam que $\flux{}{v}$ é um homomorfismo de grupos de $\R$ para $\Cont(\bm E, \bm E)$, o que mostra que na verdade temos
	\begin{align*}
	\func{\flux{}{v}}{\R}{\Homeo(\bm E)}{t}{\flux{t}{v}}
	\end{align*}

Consideremos espaços normados $\bm E$ e $\bm E'$, $A \subseteq E$ um aberto, $v \in E$ e $x \in A$. Como $A$ é aberto, para algum $r \in \intaa{0}{\infty}$ vale que $\bola{x}{r} \subseteq A$, o que implica que, para todo $t \in \intaa{-r}{r}$, $x + tv \in \bola{x}{r}$ se, e somente $\nor{(x+tv)-x}<r$; como
	\begin{equation*}
	\abs{t}\nor{v} = \nor{tv} = \nor{(x+tv)-x}<r,
	\end{equation*}
isso equivale a $t \in \intaa{-r \nor{v}\inv}{r \nor{v}\inv}$. Tomando $\varepsilon := r \nor{v}\inv$, para toda função $\fun{f}{A}{E'}$ a função
	\begin{align*}
	\func{f \circ \flux{(\var)}{v}(x)}{\intaa{-\varepsilon}{\varepsilon}}{E'}{t}{f \circ \flux{t}{v}(x) = f(x+tv)}
	\end{align*}
está bem definida.

%Dado $x \in A$, definimos o intervalo aberto máximo de $x$ em $A$ de fluxo de $v$ por
%	\begin{equation*}
%	I_x := \bigcup \set{\intaa{\varepsilon}{\varepsilon'}}{\varepsilon,\varepsilon' \in \R \land \forall_{t \in \intaa{\varepsilon}{\varepsilon'}} x+tv \in A}.
%	\end{equation*}
%Domínio de fluxo
%	\begin{equation*}
%	D
%	\end{equation*}

\subsubsection{Derivada direcional}

\begin{comment}

\begin{definition}
Sejam $(\bm E,\nor{\var})$ um espaço normado, $A \subseteq E$ um aberto, $v \in E$ e $x \in A$. Uma função de $A$ para $\R$ \emph{derivável em $x$ na direção $v$} é uma função $\fun{f}{A}{\R}$ tal que existe o limite
	\begin{equation*}
	\lim_{t \to 0} \frac{f(x+tv)-f(x)}{t}.
	\end{equation*}
Nesse caso, a \emph{derivada direcional de $f$ em $x$ na direção $v$} é
	\begin{equation*}
	\dir{v} f(x) := \lim_{t \to 0} \frac{f(x+tv)-f(x)}{t}.
	\end{equation*}
\end{definition}

\end{comment}

\begin{definition}[Derivabilidade direcional]
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $v \in E$ e $X \subseteq A$. Uma função de $A$ para $E'$ \emph{derivável em $X$ na direção $v$} (ou \emph{derivável em $x$ na direção $v$} para $X=\{x\}$) é uma função $\fun{f}{A}{E'}$ tal que, para todo $x \in X$, a trajetória
	\begin{align*}
	\func{f \circ \flux{(\var)}{v}_{x}}{\intaa{-\varepsilon}{\varepsilon}}{E'}{t}{f \circ \flux{t}{v}(x) = f(x+tv)}
	\end{align*}
é derivável em $0$.

Nesse caso, para todo $x \in X$, a \emph{derivada direcional de $f$ em $x$ na direção $v$} é
	\begin{equation*}
	\dir{v} f(x) := \der_{t}( f \circ \flux{(t)}{v}(x))|_{t=0} = \lim_{t \to 0} \frac{f(x+tv)-f(x)}{t}.
	\end{equation*}
\end{definition}

Listamos a seguir algumas das propriedades da derivada direcional.

\begin{proposition}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $v \in E$ e $x \in A$.
	\begin{enumerate}
	\item Para todas funções $\fun{f,f'}{A}{E'}$ deriváveis em $x$ na direção $v$, a função $\fun{f+f'}{A}{E'}$ é derivável em $x$ na direção $v$ e
		\begin{equation*}
		\dir{v} (f+f')(x) = \dir{v} f(x) + \dir{v} f'(x);
		\end{equation*}
	\item Para todo $c \in \R$ e toda função $\fun{f}{A}{E'}$ derivável em $x$ na direção $v$, a função $\fun{cf}{A}{E'}$ é derivável em $x$ na direção $v$ e
		\begin{equation*}
		\dir{v} (cf)(x) = c\dir{v} f(x);
		\end{equation*}
	\item Para todas funções $\fun{f,f'}{A}{\R}$ deriváveis em $x$ na direção $v$, a função $\fun{ff'}{A}{\R}$ é derivável em $x$ na direção $v$ e
		\begin{equation*}
		\dir{v} (ff')(x) = \dir{v} f(x) f'(x) + f(x) \dir{v} f'(x);
		\end{equation*}
	\item Para todo $c \in \R$ e toda função $\fun{f}{A}{E'}$ derivável em $x$ na direção $v$, a função $\fun{f}{A}{E'}$ é derivável em $x$ na direção $cv$ e
		\begin{equation*}
		\dir{cv} f(x) = c\dir{v} f(x).
		\end{equation*}
	\end{enumerate}
\end{proposition}
\begin{proof}
	\begin{enumerate}
	\item Segue direto de \ref{prop:derivada.propriedades}.
%		\begin{align*}
%		\dir{v} (f+f')(x) &= \lim_{t \to 0} \frac{(f+f')(x+tv)-(f+f')(x)}{t} \\
%			&= \lim_{t \to 0} \frac{f(x+tv) + f'(x+tv) - f(x) - f'(x)}{t} \\
%			&= \lim_{t \to 0} \frac{f(x+tv) - f(x)}{t} + \lim_{t \to 0} \frac{f'(x+tv) - f'(x)}{t} \\
%			&= \dir{v} f(x) + \dir{v} f'(x).
%		\end{align*}

	\item Segue direto de \ref{prop:derivada.propriedades}.
%		\begin{align*}
%		\dir{v} (cf)(x) &= \lim_{t \to 0} \frac{(cf)(x+tv)-(cf)(x)}{t} \\
%			&= \lim_{t \to 0} \frac{cf(x+tv) - cf(x)}{t} \\
%			&= c\lim_{t \to 0} \frac{f(x+tv) - f(x)}{t} \\
%			&= c\dir{v} f(x).
%		\end{align*}

	\item Segue direto de \ref{prop:derivada.propriedades}.
%		\begin{align*}
%		\dir{v} (ff')(x) &= \lim_{t \to 0} \frac{(ff')(x+tv) - (ff')(x)}{t} \%\
%			&= \lim_{t \to 0} \frac{f(x+tv)f'(x+tv) - f(x)f'(x)}{t} \\
%			&= \dir{v} f(x) f'(x) + f(x) \dir{v} f'(x).
%		\end{align*}

	\item Se $c=0$, então
		\begin{equation*}
		\dir{0v} f(x) = \lim_{t \to 0} \frac{f(x+t0v) - f(x)}{t} = \lim_{t \to 0} \frac{f(x) - f(x)}{t} = 0 = 0\dir{v} f(x).
		\end{equation*}

	Se $c \neq 0$, como $\lim_{t \to 0} ct = 0$, tomando $t' := ct$ segue que
		\begin{align*}
		\dir{cv} f(x) &= \lim_{t \to 0} \frac{f(x+tcv) - f(x)}{t} \\
			&= \lim_{t' \to 0} \frac{f(x+t'v) - f(x)}{(t' \div c)} \\
			&= c\lim_{t' \to 0} \frac{f(x+t'v) - f(x)}{t'} \\
			&= c\dir{v} f(x).
		\qedhere
		\end{align*}
	\end{enumerate}
\end{proof}



\begin{proposition}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$ uma função diferenciável em $X$. Para todo $v \in E$, $f$ é derivável em $X$ na direção $v$ e, para todo $x \in X$,
	\begin{equation*}
	\dir{v} f(x) = \D f|_x(v).
	\end{equation*}
\end{proposition}
\begin{proof}
Seja $x \in X$. Da diferenciabilidade de $f$ em $x$ segue que, como $\lim_{t \to 0} tv = 0$,
	\begin{align*}
	\lim_{t \to 0} \frac{f(x+tv) - f(x)}{t} &= \lim_{t \to 0} \frac{f(x+tv) - f(x)}{t} - \D f|_x(v) + \D f|_x(v) \\
		&= \lim_{t \to 0} \frac{f(x+tv) - f(x) - \D f|_x(tv)}{t} + \D f|_x(v) \\
		&= \D f|_x(v),
	\end{align*}
o que mostra que $f$ é derivável em $x$ na direção $v$ e $\dir{v} f(x) = \D f|_x(v)$.
\end{proof}

Em particular, no caso de $E = \R^d$, cuja base canônica é $(\ii_k)_{k \in [d]}$ e cuja base canônica dual é $(\ii_k\dual)_{k \in [d]}$, vale
	\begin{equation*}
	\D f|_x(v) = \D f|_x \left( \sum_{k \in [d]} v_k \ii_k \right) = \sum_{k \in [d]} v_k \D f|_x(\ii_k) = \sum_{k \in [d]} v_k \dir{\ii_k} f(x) = \sum_{k \in [d]} \dir{\ii_k} f(x)\ii_k\dual(v),
	\end{equation*}
portanto
	\begin{equation*}
	\D f|_x = \sum_{k \in [d]} \dir{\ii_k} f(x) \ii_k\dual.
	\end{equation*}


\subsection{Extremos locais e pontos críticos}

\subsubsection{Campos escalares e pontos extremos locais}

Definimos aqui uma nomenclatura para um tipo específico de função entre espaços normados, aquelas que tem como contradomínio o corpo dos números reais. Elas são chamadas de campos escalares.

\begin{definition}
Sejam $\bm E$ um espaço normado e $X \subseteq E$ um conjunto. Um \emph{campo escalar} em $X$ é uma função $\fun{f}{X}{\R}$.
\end{definition}

Os campos escalares são objetos que formalizam a ideia de função densidade, campo de energia potencial, entre outros conceitos físicos relevantes. Mais à frente, definiremos outros objetos que recebem também o nome de `campos', os `campos tensoriais', e os campos escalares aqui definidos são casos especiais desses campos.

No contexto físico, uma propriedade importante dessas funções é se elas têm pontos de máximo e mínimo: pontos em que elas atingem valores reais máximos ou mínimos da sua imagem.

\begin{definition}[Ponto extremo]
Sejam $\bm E$ um espaço normado, $X \subseteq E$ um conjunto e $\fun{f}{X}{\R}$ um campo escalar.
	\begin{itemize}
	\item Um \emph{ponto de máximo} de $f$ é um ponto $x \in X$ tal que, para todo $x' \in X$,
		\begin{equation*}
		f(x') \leq f(x).
		\end{equation*}
	\item Um \emph{ponto de mínimo} de $f$ é um ponto $x \in X$ tal que, para todo $x' \in X$,
		\begin{equation*}
		f(x) \leq f(x').
		\end{equation*}
	\end{itemize}
Um \emph{ponto extremo} de $f$ é um ponto é um ponto de máximo ou de mínimo de $f$.
\end{definition}

Mais geralmente, podem-se considerar pontos que têm localmente essa propriedades, como definidos a seguir.

\begin{comment}
\begin{definition}[Ponto extremo local]
Sejam $\bm E$ um espaço normado, $X \subseteq E$ um conjunto e $\fun{f}{X}{\R}$ um campo escalar.
	\begin{itemize}
	\item Um \emph{ponto de máximo local} de $f$ é um ponto $x \in X$ tal que, para alguma vizinhança $V \subseteq E$ de $x$, $f$ satisfaz que, para todo $x' \in V \cap X$,
		\begin{equation*}
		f(x') \leq f(x).
		\end{equation*}
	\item Um \emph{ponto de mínimo local} de $f$ é um ponto $x \in X$ tal que, para alguma vizinhança $V \subseteq E$ de $x$, $f$ satisfaz que, para todo $x' \in V \cap X$,
		\begin{equation*}
		f(x) \leq f(x').
		\end{equation*}
	\end{itemize}
Um \emph{ponto extremo local} de $f$ é um ponto é um ponto de máximo local ou de mínimo local de $f$.
\end{definition}
\end{comment}

\begin{definition}[Ponto extremo local]
Sejam $\bm E$ um espaço normado, $X \subseteq E$ um conjunto e $\fun{f}{X}{\R}$ um campo escalar.
	\begin{itemize}
	\item Um \emph{ponto de máximo local} de $f$ é um ponto $x \in X$ tal que, para alguma vizinhança $V \subseteq E$ de $x$, $x$ é ponto de máximo de $f|_{V \cap X}$;
	\item Um \emph{ponto de mínimo local} de $f$ é um ponto $x \in X$ tal que, para alguma vizinhança $V \subseteq E$ de $x$, $x$ é ponto de mínimo de $f|_{V \cap X}$.
	\end{itemize}
Um \emph{ponto extremo local} de $f$ é um ponto é um ponto de máximo local ou de mínimo local de $f$.
\end{definition}

Quando $K \subseteq E$ é compacto, uma função contínua $\fun{f}{K}{\R}$ tem pontos de máximo e mínimo: como $f$ é contínua, sua imagem é compacta, portanto fechada e limitada, o que implica que o supremo e o ínfimo da imagem pertencem à imagem. Esse resultado, que depende somente da continuidade da função e das propriedades de completude de $\R$, não nos permite achar os pontos de máximo e mínimo, somente afirmar sua existência. Usando diferenciação, podem-se estudar algumas características desses pontos que facilitam encontrá-los localmente.

\begin{comment}
Lembremos que o $d$-simplexo unitário (ou simplexo unitário $d$-dimensional) real é o conjunto
	\begin{align*}
	\Sx^d &= \set{x \in \R_{\geq}^{d+1}}{\sum_{k \in [d+1]} x_k = 1} \\
		&= \set{x \in \R_{\geq}^{d+1}}{\nor{x}_1 = 1}.
	\end{align*}
ou seja, os pontos $x = (x_0,\ldots,x_d) \in \R^{d+1}$ tais que, para todo $k \in [d+1]$, $x_k \geq 0$ e satisfazendo $\sum_{k \in [d+1]} x_k = 1$.

Dados um espaço normado $\bm E$ e $v_0, \ldots, v_d \in E$ tais que $\{v_1 - v_0,\ldots, v_d-v_0\}$ é linearmente independente, o simplexo gerado por esses vetores é o conjunto
	\begin{equation*}
	\Sxger[d]{v_0, \ldots, v_d} = \set{\sum_{k \in [d+1]} x_k v_k = 1}{x \in \Sx^d}
	\end{equation*}
e o interior desse simplexo é
	\begin{equation*}
	\Sxgera[d]{v_0, \ldots, v_d} = \set{\sum_{k \in [d+1]} x_k v_k = 1}{x \in \Sx^d}.
	\end{equation*}

Em particular, o $1$-simplexo é o conjunto $\simp^1 = \set{(1-t,t)}{t \in \intff{0}{1}}$ e dados $v,v' \in E$,
	\begin{equation*}
	\Sxger{v,v'} = \set{(1-t)v + tv'}{t \in \intff{0}{1}}
	\end{equation*}
e o interior desse simplexo é
	\begin{equation*}
	\Sxgera{v,v'} = \set{(1-t)v + tv'}{t \in \intaa{0}{1}}.
	\end{equation*}
\end{comment}

Para a proposição seguinte, usaremos o conceito de conjunto convexo.% e de $1$-simplexo.
Lembremos que% o $1$-simplexo unitário é o conjunto $\simp^1 = \set{(1-t,t)}{t \in \intff{0}{1}}$ e
, dados $x,x' \in E$, o $1$-simplexo (ou intervalo) de vértices $x,x'$ é o conjunto
	\begin{equation*}
	\Sxger{x,x'} = \set{(1-t)x + tx'}{t \in \intff{0}{1}}
	\end{equation*}
e o interior desse simplexo é
	\begin{equation*}
	\Sxgera{x,x'} = \set{(1-t)x + tx'}{t \in \intaa{0}{1}}.
	\end{equation*}
Ainda, um conjunto convexo em $E$ é um conjunto $X \subseteq E$ que, para todos $x,x' \in X$, satisfaz que $\Sxger{x,x'} \subseteq X$.

\begin{proposition}
\label{prop:extremo.local.diferencial}
Sejam $\bm E$ um espaço normado, $A \subseteq E$ aberto, $X \subseteq A$ convexo, $x \in X$ e $\fun{f}{A}{\R}$ um campo escalar diferenciável em $x$.
	\begin{itemize}
		\item Se $x$ é ponto de máximo local de $\fun{f|_X}{X}{\R}$, então, para todo $x' \in X$,
%			\begin{equation*}
%			\D f|_x(x'-x) \leq 0;
%			\end{equation*}
			\begin{equation*}
			\D f|_x(x') \leq \D f|_x(x);
			\end{equation*}
		\item Se $x$ é ponto de mínimo local de $\fun{f|_X}{X}{\R}$, então, para todo $x' \in X$,
%			\begin{equation*}
%			\D f|_x(x'-x) \geq 0.
%			\end{equation*}
			\begin{equation*}
			\D f|_x(x) \leq \D f|_x(x').
			\end{equation*}
	\end{itemize}
\end{proposition}
\begin{proof}
O caso em que $x$ é ponto de mínimo local de $f|_X$ segue do caso em que $x$ ponto de máximo local de $-f|_X$, portanto demonstraremos  só o caso em que $x$ é máximo local.

Sejam $x$ um ponto de máximo local, $V \subseteq E$ uma vizinhança convexa de $x$ tal que $x$ é ponto de máximo em $V \cap X$, $t \in \intaa{0}{1}$ e $x' \in V \cap X$. O teorema é evidente para $x'=x$, portanto consideramos $x' \neq x$. Como $V \cap X$ é convexo, vale que $x + t(x'-x) = (1-t)x + tx' \in V \cap X$; como $f$ é diferenciável em $x$, definimos o resto
	\begin{equation*}
	r(v) := f(x + v) - f(x) - \D f|_x(v)
	\end{equation*}
e vale que $\lim_{v \to 0} \frac{r(v)}{\nor{v}} = 0$ e
	\begin{equation*}
	\D f|_x(v) + r(v) = f(x+v) - f(x).
	\end{equation*}
Para $v=t(x'-x)$,
	\begin{align*}
	r(t(x'-x)) &= f(x + t(x'-x)) - f(x) - \D f|_x(t(x'-x)) \\
		&= f(x + t(x'-x)) - f(x) - t\D f|_x(x'-x),
	\end{align*}
portanto, como $x$ é ponto de máximo local
	\begin{equation*}
	\D f|_x(x'-x) + \frac{r(t(x'-x))}{t} = \frac{f(x + t(x'-x)) - f(x)}{t} \leq 0.
	\end{equation*}
Assim segue que
	\begin{align*}
	\D f|_x(x'-x) &= \D f|_x(x'-x) + \nor{x'-x}\lim_{t \to 0} \frac{\abs{t}}{t}\frac{r(t(x'-x))}{\nor{t(x'-x)}} \\
		&= \D f|_x(x'-x) + \lim_{t \to 0} \nor{x'-x}\frac{r(t(x'-x))}{t\nor{x'-x}} \\
		&= \lim_{t \to 0} \left( \D f|_x(x'-x) + \frac{r(t(x'-x))}{t} \right) \\
		&\leq 0
	\end{align*}
e da linearidade de $\D f|_x$ resulta $\D f|_x(x') \leq \D f|_x(x)$.
\end{proof}

Vale ressaltar que a desigualdade $\D f|_x(x') \leq \D f|_x(x)$ da proposição é equivalente à desigualdade
	\begin{equation*}
	\D f|_x(x'-x) \leq 0,
	\end{equation*}
que foi a obtida durante a demonstração.

Para a proposição a seguir, lembremos que um subespaço afim de $S \subseteq \bm E$ pode ser escrito como $S = s+V$ para algum $s \in S$ e $V \subseteq E$ é um subespaço linear, e escrevemos $V = \vec{S}$.

\begin{proposition}
\label{prop:extremo.afim.critico}
Sejam $\bm E$ um espaço normado, $A \subseteq E$ aberto, $S \subseteq E$ um subespaço afim% tal que $A \cap S \neq \emptyset$
, $x \in S \cap A$ e $\fun{f}{A}{\R}$ um campo escalar diferenciável em $x$. Se $x$ é um ponto de extremo local de $f|_S$, então, para todo $v \in \vec{S}$,
	\begin{equation*}
	\D f|_x(v) = 0.
	\end{equation*}
\end{proposition}
\begin{proof}
O caso em que $x$ é ponto de mínimo local de $f|_X$ segue do caso em que $x$ ponto de máximo local de $-f|_X$, portanto demonstraremos só o caso em que $x$ é máximo local.

Seja $v \in \vec{S}$ e suponhamos que $\D f|_x(v) \neq 0$. Então $\D f|_x(v) > 0$ ou $\D f|_x(v) < 0$. No primeiro caso, defina $v':=-v$ e, no segundo caso, $v':=v$, de modo que em ambos os casos $\D f|_x(v') < 0$. Seja $r \in \intaa{0}{\infty}$ tal que $\bola{x}{r} \subseteq A$ e $X := \bola{x}{r} \cap S$. Como $\bola{x}{r}$ e $S$ são convexos, então $X$ é convexo. Disso segue que, para algum $t \in \intaa{0}{\infty}$, vale $x-tv' \in X$ e então segue de \ref{prop:extremo.local.diferencial} que
	\begin{equation*}
	-t\D f|_x(v') = \D f|_x((x-tv') - x) \leq 0,
	\end{equation*}
portanto $\D f|_x(v') \geq 0$, o que contradiz $\D f|_x(v') < 0$. Assim concluímos que $\D f|_x (v) = 0$.
\end{proof}

\subsubsection{Pontos críticos}

Definimos aqui o conceito de ponto crítico de campos escalares. Esse conceito será posteriormente generalizado para quaisquer funções entre espaços normados, mas no momento usaremos esse caso específico.

\begin{definition}
Sejam $\bm E$ um espaço normado, $A \subseteq E$ aberto e $\fun{f}{A}{\R}$ um campo escalar. Um \emph{ponto crítico} de $f$ é um ponto $x \in A$ tal que $f$ é diferenciável em $x$ e $\D f|_x = 0$.
\end{definition}

\begin{proposition}
\label{prop:extremo.critico}
Sejam $\bm E$ um espaço normado, $A \subseteq E$ aberto, $x \in A$ e $\fun{f}{A}{\R}$ um campo escalar diferenciável em $x$. Se $x$ é um ponto de extremo local de $f$, então $x$ é um ponto crítico de $f$.
\end{proposition}
\begin{proof}
Segue direto de \ref{prop:extremo.afim.critico} para $S = E$.
\end{proof}

No entanto, nem todo ponto crítico é um ponto de extremo local. Consideremos por exemplo a função
	\begin{align*}
	\func{f}{\R}{\R}{x}{x^3}
	\end{align*}
que é diferenciável e cuja derivada é
	\begin{align*}
	\func{\der f}{\R}{\R}{x}{3x^2}.
	\end{align*}
O ponto $0 \in \R$ é um ponto crítico, pois $\der f(0) = 3 \times 0^2 = 0$, mas não é um ponto de extremo local pois, para todo $x>0$, vale $f(x)>0$ e, para todo $x<0$, vale $f(x)<0$. Esse ponto é o que se chama de ponto de sela, que definiremos mais adiante.

\begin{proposition}
\label{prop:compacto.critico}
Sejam $\bm E$ um espaço normado, $K \subseteq E$ compacto tal que $\Int{K} \neq \emptyset$ e $\fun{f}{K}{\R}$ um campo escalar contínuo que é diferenciável em $\Int{K}$. Se $f$ é constante em $\fro{K}$%, então algum $m \in \Int{K}$ é ponto crítico de $f$ em $\Int{K}$.
, então $f$ tem ponto crítico em $\Int{K}$.
\end{proposition}
\begin{proof}
Seja $c \in \R$ o valor de $f$ em $\fro{K}$. Se $f$ é constante, então para todo $x \in \Int{K}$ vale $\D f|_x = 0$, logo todo ponto de $\Int{K}$ é crítico. Se $f$ não é constante, seja $x \in K$ tal que $f(x) \neq c$. Como $K \setminus \fro{K} = \Int{K}$, isso implica que $x \in Int{K}$. Como $K$ é compacto e $f$ é contínua, $f$ tem ponto de mínimo e de máximo, que em particular são pontos de mínimo e máximo locais. Se $f(x) > c$, seja $m \in K$ o ponto de máximo de $f$. Nesse caso $m \in \Int{K}$, pois $f(m) \geq f(x) > c$, e como $f$ é diferenciável em $\Int{K}$ segue de \ref{prop:extremo.critico} que $m$ é ponto crítico de $f$ em $\Int{K}$. Se $f(x) < c$, seja $m \in K$ o ponto de mínimo de $f$. Nesse caso $m \in \Int{K}$, pois $f(m) \leq f(x) < c$, e como $f$ é diferenciável em $\Int{K}$ segue de \ref{prop:extremo.critico} que $m$ é ponto crítico de $f$ em $\Int{K}$.
\end{proof}

\subsection{Valor médio}

\subsubsection{Valor médio para campos escalares}

A proposição a seguir é uma generalização direta do teorema do valor médio para funções de um intervalo compacto real para o corpo dos números reais.

% NOTA: Acho que essa é a versão mais geral que engloba todos os casos, e em particular o caso no corpo real.
\begin{proposition}[Valor médio em campos escalares]
\label{prop:valor.medio.campo.escalar}
Sejam $\bm E$ um espaço normado, $C \subseteq E$ um conjunto, $\fun{f}{C}{\R}$ um campo escalar e $x,x' \in C$ tais que $x \neq x'$, $\Sxger{x,x'} \subseteq C$ e $f$ é contínuo em $\Sxger{x,x'}$ e diferenciável em $\Sxgera{x,x'}$. Então, para algum $m \in \Sxgera{x,x'}$,
	\begin{equation*}
	f(x') - f(x) = \D f|_m(x'-x).
	\end{equation*}
\end{proposition}
%\begin{proposition}[Valor médio em campos escalares]
%\label{prop:valor.medio.campo.escalar}
%Sejam $\bm E$ um espaço normado, $C \subseteq E$ um conjunto, $X \subseteq C$ convexo e $\fun{f}{C}{\R}$ um campo escalar contínuo em $X$ e diferenciável em $\Int{X}$. Para todos $x,x' \in X$ tais que $x \neq x'$, algum $m \in \Sxgera{x,x'}$ satisfaz
%	\begin{equation*}
%	f(x') - f(x) = \D f|_m(x'-x).
%	\end{equation*}
%\end{proposition}
%
%\begin{proposition}[Valor médio em campos escalares]
%\label{prop:valor.medio.campo.escalar}
%Sejam $\bm E$ um espaço normado, $K \subseteq E$ compacto tal que $\Int{K} \neq \emptyset$ e $\fun{f}{K}{\R}$ um campo escalar contínuo que é diferenciável em $\Int{K}$. Para todos $x,x' \in \fro{K}$ tais que $x \neq x'$ e $\Sxgera{x,x'} \subseteq \Int{K}$, algum $m \in \Sxgera{x,x'}$ satisfaz
%	\begin{equation*}
%	f(x') - f(x) = \D f|_m(x'-x).
%	\end{equation*}
%\end{proposition}
\begin{proof}
A trajetória
	\begin{align*}
	\func{\gamma}{\intff{0}{1}}{\Sxger{x,x'}}{t}{x + t(x'-x)}.
	\end{align*}
é contínua em $\intff{0}{1}$, diferenciável em $\intaa{0}{1}$, para todo $t \in \intaa{0}{1}$, $\dot \gamma(t) = x'-x$.

Definamos o campo escalar
	\begin{align*}
	\func{f'}{\intff{0}{1}}{\R}{t}{f \circ \gamma(t) - (f(x') - f(x))t}.
	\end{align*}
Esse campo $f'$ é contínuo porque é a soma de $f \circ \gamma$, que é composição de funções contínuas, com um múltiplo da identidade, que também é contínuo. Analogamente, o campo escalar $f'$ é diferenciável em $\intaa{0}{1}$, pois $\gamma$ é diferenciável em $\intaa{0}{1}$ e, para todo $t \in \intaa{0}{1}$, $\gamma(t) \in \Sxgera{x,x'}$, logo $f$ é diferenciável em $\gamma(t)$, o que implica que a composta $f \circ \gamma$ é diferenciável em $\intaa{0}{1}$. Segue da regra da cadeia que
	\begin{align*}
	\der f'(t) &= \D f'|_t(1) \\
		&= \D (f \circ \gamma)|_t(1) - (f(x') - f(x)) \\
		&= \D f|_{\gamma(t)}(\der \gamma(t)) - (f(x') - f(x)) \\
		&= \D f|_{\gamma(t)}(x'-x) - (f(x') - f(x)).
	\end{align*}

Além disso, como $\gamma(0) = x$ e $\gamma(1) = x'$,
	\begin{equation*}
	f'(1) = f(x') - (f(x') - f(x))1 = f(x) - (f(x') - f(x))0 = f'(0),
	\end{equation*}
o que mostra que $f'$ é constante em $\fro{\intff{0}{1}} = \{0,1\}$.
Como $\intff{0}{1}$ é compacto, segue de \ref{prop:compacto.critico} que $f'$ tem um ponto crítico $t_m \in \intaa{0}{1}$; ou seja, esse ponto satisfaz
	\begin{equation*}
	\der f'(t_m) = \D f'|_{t_m}(1) = 0.
	\end{equation*}

Segue que
	\begin{equation*}
	0 = \der f'(t_m) = \D f|_{\gamma(t_m)}(x'-x) - (f(x') - f(x))
	\end{equation*}
e, definindo $m := \gamma(t_m) \in \Sxgera{x,x'}$, conclui-se que
	\begin{equation*}
	f(x') - f(x) = \D f|_m(x'-x).
	\qedhere
	\end{equation*}
\end{proof}

\begin{comment}
Uma versão alternativa dessa proposição (que de fato é um corolário) também é útil e será enunciada a seguir, mas a demonstração será deixada como exercício.

%\begin{exercise}
%\label{prop:valor.medio.campo.escalar.convexo}
%Sejam $\bm E$ um espaço normado, $A \subseteq E$ um aberto, $X \subseteq A$ convexo e $\fun{f}{A}{\R}$ um campo escalar diferenciável em $X$. Para todos $x,x' \in X$ tais que $x \neq x'$, algum $m \in \Sxgera{x,x'}$ satisfaz
%	\begin{equation*}
%	f(x') - f(x) = \D f|_m(x'-x).
%	\end{equation*}
%\end{exercise}

\begin{exercise}
\label{prop:valor.medio.campo.escalar.alternativo}
Sejam $\bm E$ um espaço normado, $A \subseteq E$ um aberto e $\fun{f}{A}{\R}$ um campo escalar diferenciável. Para todos $x,x' \in A$ tais que $x \neq x'$ e $\Sxger{x,x'} \subseteq A$, algum $m \in \Sxgera{x,x'}$ satisfaz
	\begin{equation*}
	f(x') - f(x) = \D f|_m(x'-x).
	\end{equation*}
\end{exercise}

\end{comment}

%NOTA: Não vejo necessidade de provar essa proposição, sendo que a versão mais geral está provada logo à frente.
\begin{comment}

Em espaços normados, conjuntos conexos são conexos por caminhos e em particular todos pontos do conjunto podem ser conectados por um caminho poligonal. Usaremos esse fato na seguinte proposição.

\begin{proposition}
\label{prop:campo.diferenciavel.constante}
Sejam $\bm E$ um espaço normado, $A \subseteq E$ aberto e conexo e $\fun{f}{A}{\R}$ um campo escalar diferenciável. %Se, para todo $x \in A$, $\D f|_x = 0$, então $f$ é constante.
Se $\D f = 0$, então $f$ é constante.
\end{proposition}
\begin{proof}
Sejam $v,v' \in A$. Como $A$ é conexo, alguma trajetória poligonal $\fun{\gamma}{\intff{0}{1}}{A}$ conecta $v$ a $v'$; ou seja, $\gamma(0)=v$, $\gamma(1)=v'$ e alguma $n$-partição por intervalos $(t_k)_{k \in [n+1]} \in \R^{n+1}$ satisfaz, para todo $k \in [n]$, que $\gamma|_{\intff{t_k}{t_{k+1}}}$ é afim e $\gamma(\intff{t_k}{t_{k+1}}) = \Sxger{\gamma(t_k),\gamma(t_{k+1})}$. Assim, como para todo $x \in A$ vale $\D f|_x = 0$, então segue de \ref{prop:valor.medio.campo.escalar} que, para todo $k \in [n]$ vale
	\begin{equation*}
	f(\gamma(t_{k+1})) - f(\gamma(t_k)) = 0.
	\end{equation*}
Por indução em $n$, obtemos que $f(\gamma(t_0)) = f(\gamma(t_n))$; ou seja,
	\begin{equation*}
	f(v) = f(\gamma(0)) = f(\gamma(t_0)) = f(\gamma(t_n)) = f(\gamma(1)) = f(v'),
	\end{equation*}
o que mostra que $f$ é constante.
\end{proof}

\end{comment}

\subsubsection{Majoração de trajetória}

%Alguns resultados nesta seção não serão demonstrados mas as demonstrações podem ser achadas em \cite{liv:Coleman-CalculusNormedVectorSpaces}.

A proposição \ref{prop:valor.medio.campo.escalar} não pode ser generalizada para qualquer função entre espaços normados. Em especial, nem mesmo para trajetórias ela é válida. Consideremos por exemplo a trajetória
	\begin{align*}
	\func{f}{t}{\R^2}{t}{(\cos(t), \sin(t))}
	\end{align*}
em $\R^2$, que é diferenciável. Sua derivada é
	\begin{align*}
	\func{\dot f}{t}{\R^2}{t}{(-\sin(t), \cos(t))}.
	\end{align*}
Vale\footnote{
	A constante $\tau \in \R$ aqui é o período de $\cos$ e $\sin$.
}
$f(0) = (1,0) = f(\tau)$, logo $f(\tau) - f(0) = 0$, mas não existe $t \in \intaa{0}{\tau}$ tal que $\dot f(t) = 0$. No entanto, podemos obter um tipo de desigualdade do valor médio, que descreveremos a seguir.

A proposição a seguir será a ferramenta para demonstrar várias proposições relacionadas ao teorema do valor médio.

\begin{proposition}[Majoração de trajetória]
\label{prop:majoracao.trajetoria}
%\label{prop:superlema.valor.medio}
Sejam $I=\intff{a}{a'} \subseteq \R$ um intervalo compacto, $\bm E$ um espaço normado e $\fun{\gamma}{I}{E}$ e $\fun{f}{I}{\R}$ trajetórias contínuas que são diferenciáveis em $\Int{I}$. Se, para todo $t \in \Int{I}$, $\nor{\dot \gamma(t)} \leq \dot f(t)$, então
	\begin{equation*}
	\nor{\gamma(a') - \gamma(a)} \leq f(a') - f(a).
	\end{equation*}
\end{proposition}
\begin{proof}
Seja $\varepsilon \in \intaa{0}{\infty}$ e $I_\varepsilon$ o conjunto dos $x \in I = \intff{a}{a'}$ tais que, para todos $x' \in \intff{a}{x}$, vale
	\begin{equation*}
	\nor{\gamma(x') - \gamma(a)} \leq f(x') - f(a) + \varepsilon(x'-a).
	\end{equation*}
Primeiro notemos que $I_\varepsilon \neq \emptyset$ porque $a \in I_\varepsilon$. Agora, para todo $x \in I_\varepsilon$, se $x' \in \intff{a}{x}$ então por definição $x' \in I_\varepsilon$, portanto $I_\varepsilon$ é um intervalo. Seja $s_\varepsilon := \sup I_\varepsilon$ o supremo desse intervalo. Mostremos que $s_\varepsilon \in I_\varepsilon$. Se $s_\varepsilon = a$, está provado, Caso contrário, seja $(x_n)_{n \in \infty}$ uma sequência em $\intaa{a}{s_\varepsilon}$ tal que $\lim_{n \to \infty} x_n = s_\varepsilon$. Como $\gamma$ e $f$ são contínuas, segue que
	\begin{align*}
	\nor{\gamma(s_\varepsilon) - \gamma(a)} &= \nor{\gamma(\lim_{x \to \infty} x_n) - \gamma(a)} \\
		&= \lim_{x \to \infty} \nor{\gamma(x_n) - \gamma(a)} \\
		&\leq \lim_{x \to \infty} f(x_n) - f(a) + \varepsilon(x'-a) \\
		&\leq f(\lim_{x \to \infty} x_n) - f(a) + \varepsilon(x'-a) \\
		&\leq f(s_\varepsilon) - f(a) + \varepsilon(x'-a),
	\end{align*}
o que mostra que $s_\varepsilon \in I_\varepsilon$. Mostraremos agora que $s_\varepsilon = a'$. Suponhamos por absurdo que valesse $s_\varepsilon < a'$. Pela hipótese das derivadas, seguiria que, para algum $\delta \in \intaa{0}{a'-s_\varepsilon}$, valeria para todo $x \in \intaa{s_\varepsilon}{s_\varepsilon+\delta}$ que
	\begin{equation*}
	\nor{\frac{\gamma(x) - \gamma(s_\varepsilon)}{x - s_\varepsilon}} \leq \frac{f(x) - f(s_\varepsilon)}{x - s_\varepsilon} + \varepsilon,
	\end{equation*}
portanto, como $\nor{x-c} = x - c$, seguiria que
	\begin{equation*}
	\nor{\gamma(x) - \gamma(s_\varepsilon)} \leq f(x) - f(s_\varepsilon) + \varepsilon(x - s_\varepsilon).
	\end{equation*}
Assim, a desigualdade triangular implicaria que
	\begin{align*}
	\nor{\gamma(x) - \gamma(a)} &\leq \nor{\gamma(x) - \gamma(s_\varepsilon)} + \nor{\gamma(s_\varepsilon) - \gamma(a)} \\
	&\leq f(x) - f(s_\varepsilon) + \varepsilon(x - s_\varepsilon) + f(s_\varepsilon) - f(a) + \varepsilon(s_\varepsilon - a) \\
	&= f(x) - f(a) + \varepsilon(x - a),
	\end{align*}
logo que $x \in I_\varepsilon$, o que contradiria $s_\varepsilon$ ser supremo. Conclui-se então que $s_\varepsilon = a'$, logo que $I_\varepsilon = I$. Como isso vale para todo $\varepsilon$, segue que
	\begin{equation*}
	\nor{\gamma(a') - \gamma(a)} \leq f(a') - f(a).
	\qedhere
	\end{equation*}
\end{proof}

Essa proposição tem algumas formulações um pouco mais gerais que não abordaremos aqui. Em vez da condição ser entre as derivadas de $\gamma$ e $f$, poderíamos considerar as derivadas à esquerda ou à direita definidas com limites inferior ou superior, respectivamente. Além disso, poderíamos considerar que as trajetórias são deriváveis em um conjunto co-contável, ou seja, derivável em todo ponto a menos de um conjunto contável de pontos. Essas generalizações podem ser conferidas em \cite{liv:Cartan-DifferentialCalculus}.

A proposição \ref{prop:majoracao.trajetoria} tem várias consequências importantes. A primeira é o caso (degenerado) em que $E = \{0\}$, que implica que $f$ é crescente. A recíproca também é válida.

\begin{proposition}[Derivada positiva equivale a crescente]
\label{prop:derivada.positiva.crescente}
Sejam $I \subseteq \R$ um intervalo e $\fun{f}{I}{\R}$ uma função contínua que é diferenciável em $\Int{I}$. Então $\dot f \geq 0$ se, e somente se, $f$ é crescente.
\end{proposition}
\begin{proof}
\begin{itemize}
\item ($\Rightarrow$) Suponhamos que $\dot f \geq 0$. Para todos $x,x' \in I$, $\intff{x}{x'}$ é um intervalo compacto. Definimos $E=\{0\}$ e $\funclin{\gamma}{\intff{x}{x'}}{E}{t}{0}$. Como é constante, a trajetória $\gamma$ é contínua em $\intff{x}{x'}$, diferenciável em $\intaa{x}{x'}$ e, para todo $t \in \Int{I}$, vale $\dot \gamma(t) = 0$. Portanto $\nor{\dot \gamma(t)} = 0 \leq \dot f(t)$ e segue de \ref{prop:majoracao.trajetoria} que
	\begin{equation*}
	0 = \nor{\gamma(x') - \gamma(x)} \leq f(x') - f(x),
	\end{equation*}
o que mostra que $f(x) \leq f(x')$, logo que $f$ é crescente.

\item ($\Rightarrow$) Suponhamos que $f$ é crescente e seja $t \in \Int{I}$. Para todo $\delta \in \intfa{0}{\infty}$, vale $f(t+\delta) \geq f(t)$, logo
	\begin{equation*}
	0 \leq \frac{f(t+\delta) - f(t)}{\delta}.
	\end{equation*}
Como $f$ é diferenciável, segue que $\dot f(t) \geq 0$.
\end{itemize}
\end{proof}

Uma outra consequência é que se a derivada de uma trajetória é limitada (por uma constante), então a trajetória é controlada (pela mesma constante).

\begin{proposition}[Controle diferencial de trajetória]
\label{prop:derivada.limitada.trajetoria.controlada}
Sejam $I \subseteq \R$ um intervalo, $\bm E$ um espaço normado e $\fun{\gamma}{I}{E}$ uma trajetória contínua que é diferenciável em $\Int{I}$. Se $\dot \gamma$ é limitada por alguma constante $c \in \R$ (para todo $t \in \Int{I}$, $\nor{\dot \gamma(t)} \leq c$), então $\gamma$ é controlada e sua distorção satisfaz $\distor{\gamma} \leq c$; isto é, para todos $x,x' \in I$,
	\begin{equation*}
	\nor{\gamma(x') - \gamma(x)} \leq c\nor{x' - x}.
	\end{equation*}
\end{proposition}
\begin{proof}
Sejam $x,x' \in I$. Se $x=x'$, a desigualdade segue trivialmente. Se $x \neq x'$, consideremos o caso $x < x'$ e o intervalo compacto $\intff{x}{x'}$, a restrição $\gamma|_{\intff{x}{x'}}$ e a função $\funclin{f}{\intff{x}{x'}}{\R}{t}{ct}$. Como é um múltiplo da identidade, a função $f$ é contínua em $\intff{x}{x'}$, diferenciável em $\intaa{x}{x'}$ e, para todo $t \in \intaa{x}{x'}$, vale $\dot f(t) = c$. Portanto $\nor{\dot \gamma(t)} \leq c = \dot f(t)$ e segue de \ref{prop:majoracao.trajetoria} que
	\begin{equation*}
	\nor{\gamma(x') - \gamma(x)} \leq f(x') - f(x) = c(x' - x) = c \nor{x' - x}.
	\end{equation*}
Por fim, caso $x' < x$, o resultado segue trivialmente do caso anterior.
\end{proof}

\subsubsection{Desigualdade do valor médio e consequências}

Consideramos agora o caso de uma função entre espaços normados quaisquer. A seguinte proposição é uma alternativa à proposição \ref{prop:valor.medio.campo.escalar} e é conhecida como \textit{desigualdade do valor médio}; algumas versões levemente diferentes também existem e recebem o mesmo nome.

\begin{proposition}[Desigualdade do valor médio]
\label{prop:desigualdade.valor.medio}
Sejam $\bm E$ e $\bm E'$ espaços normados, $C \subseteq E$ um conjunto, $\fun{f}{C}{E'}$ uma função e $x,x' \in C$ tais que $\Sxger{x,x'} \subseteq C$, $f$ é contínua em $\Sxger{x,x'}$ e diferenciável em $\Sxgera{x,x'}$. Então
	\begin{equation*}
	\nor{f(x') - f(x)} \leq \sup_{m \in \Sxgera{x,x'}} \nor{\D f|_m} \nor{x'-x}.
	\end{equation*}
\end{proposition}
\begin{proof}
Se $\sup_{m \in \Sxgera{x,x'}} \nor{\D f|_m} = \infty$, a desigualdade de enunciado vale trivialmente. Suponhamos então que $\sup_{m \in \Sxgera{x,x'}} \nor{\D f|_m} < \infty$. A trajetória
	\begin{align*}
	\func{\gamma}{\intff{0}{\infty}}{\Sxger{x,x'}}{t}{x + t(x'-x)}
	\end{align*}
é contínua em $\intff{0}{1}$, diferenciável em $\intaa{0}{1}$ e, para todo $t \in \intaa{0}{1}$, vale $\dot \gamma(t) = x' - x$. Disso segue que $f \circ \gamma$ é contínua em $\intff{0}{1}$, diferenciável em $\intaa{0}{1}$ e, para todo $t \in \intaa{0}{1}$, segue da regra da cadeia que
	\begin{equation*}
	\der (f \circ \gamma)(t) = \D f_{\gamma(t)}(\dot \gamma(t)) = \D f|_{\gamma(t)}(x'-x).
	\end{equation*}

Isso implica que
	\begin{equation*}
	\nor{\der (f \circ \gamma)(t)} \leq \sup_{m \in \Sxgera{x,x'}} \nor{\D f|_m} \nor{x'-x}
	\end{equation*}
e, como $\gamma(0) = x$ e $\gamma(1) = x'$, segue de \ref{prop:derivada.limitada.trajetoria.controlada} que
	\begin{align*}
	\nor{f(x') - f(x)} &= \nor{f(\gamma(1)) - f(\gamma(0))} \\
		&\leq \sup_{m \in \Sxgera{x,x'}} \nor{\D f|_m} \nor{x'-x} (1-0) \\
		&= \sup_{m \in \Sxgera{x,x'}} \nor{\D f|_m} \nor{x'-x}.
		\qedhere
	\end{align*}
\end{proof}

Um corolário imediato é uma versão multidimensional de \ref{prop:derivada.limitada.trajetoria.controlada}.

\begin{proposition}[Controle diferencial de função]
\label{prop:diferencial.limitada.funcao.controlada}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto convexo e $\fun{f}{A}{E'}$ uma função diferenciável. Se, para algum $c \in \intfa{0}{\infty}$, todo $x \in A$ satisfaz $\nor{\D f|_x} \leq c$, então $f$ é controlada e sua distorção satisfaz $\nor{f} \leq c$; isto é, para todos $x,x' \in A$,
	\begin{equation*}
	\nor{f(x') - f(x)} \leq c \nor{x'-x}.
	\end{equation*}
\end{proposition}
\begin{proof}
Sejam $x,x' \in A$. Como $A$ é convexo, $\Sxger{x,x'} \subseteq A$; como $f$ é diferenciável, é contínua em $\Sxger{x,x'}$ e diferenciável em $\Sxgera{x,x'}$. Pela hipótese da norma da diferencial, segue de \ref{prop:desigualdade.valor.medio} que
	\begin{equation*}
	\nor{f(x') - f(x)} \leq \sup_{m \in \Sxgera{x,x'}} \nor{\D f|_m} \nor{x'-x} \leq c\nor{x'-x}.
	\qedhere
	\end{equation*}
\end{proof}

Um outro corolário importante da desigualdade do valor médio é o seguinte, que será usado adiante na demonstração de uma condição suficiente para diferenciabilidade de uma função em um ponto em termos de suas diferenciais parciais.

\begin{proposition}
\label{prop:diferencial.limitada.funcao.controlada.corolario}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto convexo, $\fun{f}{A}{E'}$ uma função diferenciável e $\fun{T}{E}{E'}$ um função linear contínua. Se, para algum $\varepsilon \in \intaa{0}{\infty}$, todo $x \in A$ satisfaz $\nor{\D f|_x - T} \leq \varepsilon$, então, para todos $x \in A$ e $v \in E$ tal que $x+v \in A$,
%	\begin{equation*}
%	\nor{f(x') - f(x) - T(x'-x)} \leq \varepsilon \nor{x'-x}.
%	\end{equation*}
	\begin{equation*}
	\nor{f(x+v) - f(x) - T(v)} \leq \varepsilon \nor{v}.
	\end{equation*}
\end{proposition}
\begin{proof}
%Segue direto de \ref{prop:diferencial.limitada.funcao.controlada} para $f' := f - T$.
Definamos $f' := f - T$. Então $f'$ é diferenciável em $A$, pois é soma de funções diferenciáveis, e, para todo $x \in A$,
	\begin{equation*}
	\D f'|_x = \D f|_x - T.
	\end{equation*}
%Ainda, vale que, para todos $x,x' \in A$,
%	\begin{equation*}
%	f'(x') - f(x) = f(x') - T(x') - f(x) + T(x) = f(x') - f(x) - T(x'-x),
%	\end{equation*}
Portanto $\nor{\D f'|_x} \leq \varepsilon$ e então segue de \ref{prop:diferencial.limitada.funcao.controlada} que, para todos $x \in A$ e $v \in E$ tal que $x+v \in A$,
%	\begin{align*}
%	\nor{f(x') - f(x) - T(x'-x)} &\leq \varepsilon \nor{x'-x}.
%	\end{align*}
	\begin{align*}
	\nor{f(x+v) - f(x) - T(v)} &= \nor{f(x+v) - f(x) - T(x+v) + T(x)} \\
		&= \nor{f'(x+v) - f'(x)} \\
		&= \varepsilon \nor{v}.
	\qedhere
	\end{align*}
\end{proof}

\subsubsection{Diferencial nula}

Por fim, uma consequência importante da desigualdade do valor médio é que uma função com diferencial zero é constante em cada componente conexa. Enunciaremos o caso em que $f$ é definida em um conjunto conexo, pois a generalização para cada componente conexa é evidente. Essa proposição é um recíproca da propriedade de que se $f$ é constante, sua diferencial é $0$.

\begin{proposition}
\label{prop:diferencial.zero.constante}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto conexo não vazio e $\fun{f}{A}{E'}$ uma função diferenciável. Se $\D f = 0$, então $f$ é constante.
\end{proposition}
\begin{proof}
Sejam $x \in A$ e $r \in \intaa{0}{\infty}$ tal que $\bola{x}{r}\subseteq A$. Como $\bola{x}{r}$ é convexa e, para todo $x' \in \bola{x}{r}$, $\nor{\D f|_{x'}} = 0$, segue de \ref{prop:diferencial.limitada.funcao.controlada} que, para todos $x',x'' \in \bola{x}{r}$,
	\begin{equation*}
	\nor{f(x'') - f(x')} \leq 0 \nor{x''-x'} = 0,
	\end{equation*}
portanto $f(x') = f(x'')$, o que mostra que $f$ é constante em $\bola{x}{r}$, logo que $f$ é localmente constante. Como $A$ é um espaço topológico não vazio e conexo e $E'$ é um espaço topológico separado, segue de \ref{prop:separado.localmente.constante} que $f$ é constante.
\end{proof}
\begin{comment}
\begin{proof}
Sejam $x,x' \in A$. Como $A$ é conexo, então $x$ e $x'$ são conectados por alguma trajetória poligonal $\fun{\gamma}{\intff{0}{1}}{A}$. Assim, $\gamma(0)=x$, $\gamma(1)=x'$ e alguma $n$-partição por intervalos $(t_k)_{k \in [n+1]} \in \R^{n+1}$ satisfaz, para todo $k \in [n]$, que $\gamma|_{\intff{t_k}{t_{k+1}}}$ é afim e $\gamma(\intff{t_k}{t_{k+1}}) = \Sxger{\gamma(t_k),\gamma(t_{k+1})}$.

Para todo $k \in [n]$, como $\D f = 0$, segue de \ref{prop:desigualdade.valor.medio} que
	\begin{equation*}
	\nor{f(\gamma(t_{k+1})) - f(\gamma(t_k))} \leq \sup_{y \in \Sxger{x,x'}} \nor{\D f|_y} \nor{x'-x} = 0.
	\end{equation*}
Por indução em $n$, obtemos que $f(\gamma(t_0)) = f(\gamma(t_n))$; ou seja,
	\begin{equation*}
	f(x) = f(\gamma(0)) = f(\gamma(t_0)) = f(\gamma(t_n)) = f(\gamma(1)) = f(x'),
	\end{equation*}
o que mostra que $f$ é constante.
\end{proof}
\end{comment}



\subsection{Diferenciabilidade parcial}

Nessa seção estudaremos a diferenciabilidade de funções entre produtos de espaços normados. Lembremos que dados $\bm E_0, \ldots, \bm E_{n-1}$ espaços normados, o produto $\bm E_0 \times \ldots \times \bm E_{n-1}$ é um espaço normado com qualquer uma das normas $p$, e essas normas são todas equivalentes. No que segue, usaremos qualquer uma dessas normas.

\subsubsection{Contradomínio produto}

Primeiro, estudamos o caso mais simples em que o contradomínio de uma função é um produto de espaços normados. Relembremos alguma notações relacionadas á projeção canônica e ressaltemos alguns resultados.

Sejam $\bm E'_0, \ldots, \bm E'_{n-1}$ espaços normados e $k \in [n]$. A \emph{projeção} de $E'_0 \times \cdots \times E'_{n-1}$ sobre $E'_k$ é a função
	\begin{align*}
	\func{\proj_k}{E'_0 \times \cdots \times E'_{n-1}}{E'_k}{(x_0,\ldots,v_{n-1})}{v_k}.
	\end{align*}
A projeção $\proj_k$ é linear e contínua. Como $\proj_k$ é linear, sua diferencial, para todo $x \in E'_0 \times \cdots \times E'_{n-1}$, é
	\begin{equation*}
	\D \proj_k|_x = \proj_k.
	\end{equation*}

Sejam $\bm E$ um espaço normado, $A \subseteq E$ um aberto e $\fun{f}{A}{\bm E'_0 \times \ldots \times \bm E'_{n-1}}$ uma função. Definimos a função coordenada $f_k := \fun{\proj_k \circ f}{A}{E'_k}$. A função $f$ pode ser escrita como
	\begin{align*}
	\func{f}{A}{E'_0 \times \cdots \times E'_{n-1}}{x}{(f_0(x), \ldots, f_{n-1}(x))}.
	\end{align*}

\begin{proposition}
\label{prop:diferenciabilidade.componentes}
Sejam $\bm E$ e $\bm E'_0, \ldots, \bm E'_{n-1}$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'_0 \times \cdots \times E'_{n-1}}$ uma função. Então $f$ é diferenciável em $X$ se, e somente se, para todo $k \in [n]$, $\fun{f_k}{A}{E'_k}$ é diferenciável em $X$. Nesse caso, para todo $x \in X$,
	\begin{equation*}
	\D f|_x = (\D f_0|_x, \ldots, \D f_{n-1}|_x) = \sum_{k \in [n]} \inclu_k \circ \D f_k|_x.
	\end{equation*}
\end{proposition}
\begin{proof}
	\begin{itemize}
%	\item ($\Rightarrow$) Suponhamos que $f$ é diferenciável em $X$ e seja $x \in X$. Para todo $k \in [n]$, defina
%		\begin{equation*}
%		D_k := \fun{\proj_k \circ \D f|_x}{E}{E'_k},
%		\end{equation*}
%	em que $\fun{\proj_k}{E'_0 \times \cdots \times E'_{n-1}}{E'_k}$ é a projeção canônica. As funções $D_k$ são claramente diferenciáveis e contínuas. Da diferenciabilidade de $f$ segue que
%		\begin{align*}
%		0 &= \lim_{v \to 0} \frac{f(x+v) - f(x) - \D f|_x(v)}{\nor{v}} \\
%			&= \lim_{v \to 0} \frac{(f_k(x+v))_{k \in [n]} - (f_k(x))_{k \in [n]} - (D_k(v))_{k \in [n]}}{\nor{v}} \\
%			&= \left( \lim_{v \to 0} \frac{f_k(x+v) - f_k(x) - D_k(v)}{\nor{v}} \right)_{k \in [n]}.
%		\end{align*}
%	Portanto, para todo $k \in [n]$,
%		\begin{equation*}
%		\lim_{v \to 0} \frac{f_k(x+v) - f_k(x) - D_k(v)}{\nor{v}} = 0,
%		\end{equation*}
%	o que mostra que, $\fun{f_k}{A}{E_k}$ é diferenciável em $x$ e sua diferencial é
%		\begin{equation*}
%		\D f_k|_x = \proj_k \circ \D f|_x.
%		\end{equation*}

	\item ($\Rightarrow$) Suponhamos que $f$ é diferenciável em $X$ e sejam $k \in [n]$ e $x \in X$. Como $f$ é diferenciável em $x$ e $\proj_k$ é diferenciável em $f(x)$, então $f_k := \proj_k \circ f$ é diferenciável em $x$ e
		\begin{equation*}
		\D f_k|_x = \D (\proj_k \circ f)|_x = \D \proj_k|_{f(x)} \circ \D f|_x = \proj_k \circ \D f|_x.
		\end{equation*}

	\item ($\Leftarrow$) Suponhamos que, para todo $k \in [n]$, $\fun{f_k}{A}{E_k}$ é diferenciável em $X$ e seja $x \in X$. Defina
		\begin{align*}
		\func{D}{E}{E'_0 \times \cdots \times E'_{n-1}}{v}{(\D f_0|_x(v), \ldots, \D f_{n-1}|_x(v))}.
		\end{align*}
	Claramente $D$ é linear e contínua. Da diferenciabilidade das $f_k$ em $x$ segue que
		\begin{align*}
		\lim_{v \to 0}& \frac{f(x+v) - f(x) - D(v)}{\nor{v}} \\
			&= \lim_{v \to 0} \frac{(f_k(x+v))_{k \in [n]} - (f_k(x))_{k \in [n]} - (\D f_k|_x(v))_{k \in [n]}}{\nor{v}} \\
			&= \left( \lim_{v \to 0} \frac{f_k(x+v) - f_k(x) - \D f_k|_x(v)}{\nor{v}} \right)_{k \in [n]} \\
			&= 0
		\end{align*}
	o que mostra que $f$ é diferenciável em $x$ e sua diferencial é
		\begin{equation*}
		\D f|_x = (\D f_0|_x, \ldots, \D f_{n-1}|_x).
		\qedhere
		\end{equation*}
	\end{itemize}
\end{proof}

%\begin{definition}[\ensuremath{\Cont^1}-Diferenciabilidade (local)]
%Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto e $X \subseteq A$. Uma função de $A$ para $E'$ \emph{$\Cont^1$-diferenciável em $X$} (ou \emph{continuamente diferenciável em $X$}) é uma função $\fun{f}{A}{E'}$ que, para todo $x \in X$, satisfaz o seguinte: para alguma vizinhança $V \subseteq A$ de $x$, $f$ é diferenciável em $V$ e
%	\begin{align*}
%	\func{\D f}{V}{\toplin(\bm E,\bm E')}{y}{\D f|_y}
%	\end{align*}
%é contínua em $x$.
% TALVEZ DEVA MUDAR A DEFINIÇÃO PARA Df CONTÍNUA EM V.
%\end{definition}


% ADICIONAR UM ANÁLOGO AO TEOREMA ANTERIOR, MAS PARA $\Cont^1$-DIFERENCIABILIDADE.


\subsubsection{Domínio produto}

Para tratar da diferenciabilidade de uma função definida em um subconjunto de um produto de espaços normados, precisamos relembrar noções e notações de espaços e subespaços afins, e definir mais alguns conceitos: a noção de diferenciabilidade parcial e da diferencial parcial de uma função.

Sejam $\bm E_0, \ldots, \bm E_{n-1}$ espaços normados e $k \in [n]$. A \emph{inclusão} de $E_k$ em $E_0 \times \cdots \times E_{n-1}$ é a função
	\begin{align*}
	\func{\inclu_k}{E_k}{E_0 \times \cdots \times E_k \times \cdots \times E_{n-1}}{y}{(0,\ldots,0,\underbrace{y}_k,0,\ldots,0)}.
	\end{align*}
A inclusão $\inclu_k$ é linear e contínua.

Sejam $x \in E_0 \times \cdots \times E_{n-1}$ e $x_{\hat{k}} := (x_0,\ldots,x_{k-1},0,x_{k+1},\ldots,x_{n-1}) \in E_0 \times \cdots \times E_{n-1}$. A \emph{inclusão afim transladada por $x_{\hat{k}}$} de $E_k$ em $E_0 \times \cdots \times E_{n-1}$ é a função $\inclu_{k,x} := x_{\hat{k}} + \iota_k$, dada explicitamente por
	\begin{align*}
	\func{\inclu_{k,x}}{E_k}{E_0 \times \cdots \times E_{n-1}}{y}{x_{\hat{k}}+\inclu_k(y) = (x_0,\ldots,x_{k-1},y,x_{k+1},\ldots,x_{n-1})}.
	\end{align*}
A função $\inclu_{k,x}$ é contínua. A imagem de $\inclu_{k,x}$ é o subespaço afim de $E_0 \times \cdots \times E_{n-1}$
	\begin{equation*}
	\inclu_{k,x}(E_k) = x_{\hat{k}} + \inclu_k(E_k) = \set{(x_0,\ldots,x_{k-1},y,x_{k+1},\ldots,x_{n-1})}{y \in E_k}
	\end{equation*}
e $\inclu_{k,x}(x_k) = x$. Como $\inclu_{k,x}$ é afim, então é diferenciável e sua diferencial é a diferencial da função linear $\inclu_k$, ou seja
	\begin{equation*}
	\D \inclu_{k,x}|_y = \inclu_k.
	\end{equation*}
%Explicitamente, para todo $y \in E_k$ e todo $w \in E_k$,
%	\begin{equation*}
%	\D \inclu_{k,x}|_y(w) = \inclu_k(w) = (0,\ldots,0,w,0,\ldots,0).
%	\end{equation*}

Seja $A \subseteq E_0 \times \cdots \times E_{n-1}$ um aberto e $x \in A$. O conjunto
	\begin{equation*}
	A_{k,x} := {\inclu_{k,x}}\inv(A) = \set{y \in E_k}{(x_0,\ldots,x_{k-1},y,x_{k+1},\ldots,x_{n-1}) \in A}
	\end{equation*}
é aberto em $E_k$, pois $A$ é aberto e $\inclu_{k,x}$ é contínua. Além disso, $x_k \in A_{k,x}$.

Sejam $\bm E'$ um espaço normado e $\fun{f}{A}{E'}$ uma função. Definimos $f_{k,x} := f \circ \inclu_{k,x}$, dada explicitamente por
	\begin{align*}
	\func{f_{k,x}}{A_k}{E'}{y}{f(x_0,\ldots,x_{k-1},y,x_{k+1},\ldots,x_{n-1})}.
	\end{align*}

\begin{definition}[Diferenciabilidade parcial (local)]
Sejam $\bm E_0, \ldots, \bm E_{n-1}$ e $\bm E'$ espaços normados, $A \subseteq E_0 \times \cdots \times E_{n-1}$ um aberto, $X \subseteq A$ e $k \in [n]$. Uma função de $A$ para $E'$ \emph{$k$-parcialmente diferenciável em $X$} é uma função $\fun{f}{A}{E'}$ tal que, para todo $x \in X$, $\fun{f_{k,x}}{A_{k,x}}{E'}$ é diferenciável em $x_k$. A \emph{diferencial $k$-parcial} de $f$ em $x$ é a diferencial
	\begin{equation*}
	\D_k f|_x := \fun{\D f_{k,x}|_{x_k}}{E_k}{E'}.
	\end{equation*}
\end{definition}

\begin{proposition}
\label{prop:diferenciabilidade.diferenciabilidade.parcial}
Sejam $\bm E_0, \ldots, \bm E_{n-1}$ e $\bm E'$ espaços normados, $A \subseteq E_0 \times \cdots \times E_{n-1}$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$ uma função diferenciável em $X$. Para todo $k \in [n]$, $f$ é $k$-parcialmente diferenciável em $X$ e, para todo $x \in X$,
	\begin{equation*}
	\D_k f|_x = \D f|_x \circ \inclu_k.
	\end{equation*}
Para todo $v \in E_0 \times \cdots \times E_{n-1}$,
	\begin{equation*}
	\D f|_x(v) = \sum_{k \in [n]} \D_k f|_x(v_k).
	\end{equation*}
\end{proposition}
\begin{proof}
Sejam $k \in [n]$ $x \in X$. Como $f$ é diferenciável em $x$ e $\inclu_{k,x}$ é diferenciável em $x_k$, segue da regra da cadeia que $f_{k,x} = f \circ \inclu_{k,x}$ é diferenciável em $x$ e que
	\begin{align*}
	\D_k f|_x = \D f_{k,x}|_{x_k} = \D (f \circ \inclu_{k,x})|_x = \D f|_{\inclu_{k,x}(x_k)} \circ \D \inclu_{k,x}|_{x_k} = \D f|_x \circ \inclu_k.
	\end{align*}
Para todo $v \in E_0 \times \cdots \times E_{n-1}$, segue da linearidade de $\D f|_x$ que
	\begin{align*}
	\D f|_x(v) &= \D f|_x(v_0,\ldots,v_{n-1}) \\
		&= \sum_{k \in [n]} \D f|_x(0,\ldots,0,v_k,0,\ldots,0) \\
		&= \sum_{k \in [n]} \D f|_x \circ \inclu_k(v_k) \\
		&= \sum_{k \in [n]} \D_k f|_x(v_k).
		\qedhere
	\end{align*}
\end{proof}

A recíproca, no entanto, não é verdadeira. Algumas funções são parcialmente diferenciáveis sobre todos $E_k$ em um ponto $x$ sem serem diferenciáveis em $x$. Para achar uma recíproca, devemos definir uma propriedade um pouco mais forte de diferenciabilidade parcial, que é chamada de diferenciabilidade contínua parcial.

\begin{definition}[\ensuremath{\Cont^1}-Diferenciabilidade parcial (local)]
%Sejam $\bm E_0, \ldots, \bm E_{n-1}$ e $\bm E'$ espaços normados, $A \subseteq E_0 \times \cdots \times E_{n-1}$ um aberto, $X \subseteq A$ e $k \in [n]$. Uma função de $A$ para $E'$ \emph{$k$-parcialmente continuamente diferenciável em $X$} é uma função $\fun{f}{A}{E'}$ tal que, para todo $x \in X$, $\fun{f_{k,x}}{A_{k,x}}{E'}$ é continuamente diferenciável em $x_k$.

% Acho que a definição acima está errada.

Sejam $\bm E_0, \ldots, \bm E_{n-1}$ e $\bm E'$ espaços normados, $A \subseteq E_0 \times \cdots \times E_{n-1}$ um aberto, $X \subseteq A$ e $k \in [n]$. Uma função de $A$ para $E'$ \emph{$k$-parcialmente $\Cont^1$-diferenciável em $X$} (ou \emph{$k$-parcialmente continuamente diferenciável em $X$}) é uma função $\fun{f}{A}{E'}$ que, para todo $x \in X$, satisfaz seguinte: para alguma vizinhança $V \subseteq A$ de $x$, $f$ é $k$-parcialmente diferenciável em $V$ e
	\begin{align*}
		\func{\D_k f}{V}{\toplin(\bm E_k,\bm E')}{y}{\D f|_y}
		\end{align*}
é contínua em $x$.
\end{definition}

Primeiro mostramos que vale uma versão de \ref{prop:diferenciabilidade.diferenciabilidade.parcial} para $\Cont^1$-diferenciabilidade.

\begin{proposition}
\label{prop:diferenciabilidade.continua.diferenciabilidade.parcial.continua}
Sejam $\bm E_0, \ldots, \bm E_{n-1}$ e $\bm E'$ espaços normados, $A \subseteq E_0 \times \cdots \times E_{n-1}$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$ uma função $\Cont^1$-diferenciável em $X$. Para todo $k \in [n]$, $f$ é $k$-parcialmente $\Cont^1$-diferenciável em $X$.
\end{proposition}
\begin{comment}
\begin{proof}
Sejam $\bm E := \bm E_0 \times \ldots \times \bm E_{n-1}$, $k \in [n]$, $x \in X$ e $V \subseteq A$ uma vizinhança de $x$ em que $f$ é diferenciável e tal que $\D f$ é contínua em $x$. Seja $r \in \intaa{0}{\infty}$ tal que $\bola{x}{r} \subseteq V$. Por \ref{prop:diferenciabilidade.diferenciabilidade.parcial}, para todo $x' \in \bola{x}{r}$ e todo $v_k \in E_k$ vale que $f$ é $k$-parcialmente diferenciável em $x'$ e $\D_k f|_{x'}(v_k) = \D f|_{x'}(\inclu_k(v_k))$. Como $\nor{\inclu_k(v_k)}_{E} = \nor{v_k}_{E_k}$ (em qualquer norma $p$ no produto), da continuidade da diferencial em $V$ segue que
	\begin{align*}
	\nor{(\D_k f|_{x'} - \D_k f|_x)(v_k)}_{E'} &= \nor{(\D f|_{x'} - \D f|_x)(\inclu_k(v_k))}_{E'} \\
		&\leq \nor{\D f|_{x'} - \D f|_x}_{\toplin(E,E')}\nor{\inclu_k(v_k)}_{E} \\
		&= \nor{\D f|_{x'} - \D f|_x}_{\toplin(E,E')}\nor{v_k}_{E_k},
	\end{align*}
portanto
	\begin{equation*}
	\nor{(\D_k f|_{x'} - \D_k f|_x)}_{\toplin(E_k,E')} \leq \nor{\D f|_{x'} - \D f|_x}_{\toplin(E,E')}.
	\end{equation*}
Pela continuidade de $\D f$ em $x$, segue que $\D_k f$ é contínua em $x$.
\end{proof}
\end{comment}
\begin{proof}
Sejam $\bm E := \bm E_0 \times \ldots \times \bm E_{n-1}$, $k \in [n]$, $x \in X$ e $V \subseteq A$ uma vizinhança de $x$ em que $f$ é diferenciável e tal que $\D f$ é contínua em $x$. Por \ref{prop:diferenciabilidade.diferenciabilidade.parcial}, para todo $x' \in V$ vale que $f$ é $k$-parcialmente diferenciável em $x'$ e $\D_k f|_{x'} = \D f|_{x'} \circ \inclu_k$.

Seja $\varepsilon \in \intaa{0}{\infty}$. Como $\D f$ é contínua em $x$, para algum $\delta \in \intaa{0}{\infty}$ vale que, para todo $x' \in \bola{x}{\delta} \cap V$,
	\begin{equation*}
	\nor{\D f|_{x'} - \D f|_x}_{\toplin(E,E')} \leq \varepsilon.
	\end{equation*}
Disso segue que, para todo $k \in [n]$, como $\nor{\inclu_k}_{\toplin(E_k,E)} = 1$ (em qualquer norma $p$ no produto), então
	\begin{align*}
	\nor{\D_k f|_{x'} - \D_k f|_x}_{\toplin(E_k,E')} &= \nor{(\D f|_{x'} - \D f|_x) \circ \inclu_k}_{\toplin(E_k,E')} \\
		&\leq \nor{\D f|_{x'} - \D f|_x}_{\toplin(E,E')}\nor{\inclu_k}_{\toplin(E_k,E)} \\
		&= \nor{\D f|_{x'} - \D f|_x}_{\toplin(E,E')} \\
		& \leq \varepsilon,
	\end{align*}
o que mostra que $\D_k f$ é contínua em $x$.
\end{proof}

\begin{proposition}
\label{prop:diferenciabilidade.parcial.continua.diferenciabilidade.pontual}
Sejam $\bm E_0, \ldots, \bm E_{n-1}$ e $\bm E'$ espaços normados, $A \subseteq E_0 \times \cdots \times E_{n-1}$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$ uma função tal que, para todo $k \in [n]$, é $k$-parcialmente $\Cont^1$-diferenciável em $X$. Então a função $f$ é diferenciável em $X$ e, para todo $x \in X$,
	\begin{equation*}
	\D f|_x = \sum_{k \in [n]} \D_k f|_x \circ \proj_k.
	\end{equation*}
\end{proposition}
\begin{proof}
Sejam $\bm E := \bm E_0, \ldots, \bm E_{n-1}$, $x \in X$ e, para cada $k \in [n]$, $V_k \subseteq A$ uma vizinhança aberta de $x$ na qual $f$ é $k$-parcialmente diferenciável e $\fun{\D_k f}{V_k}{\toplin(\bm E_k, \bm E')}$ é contínua em $x$. Definamos $V := \bigcap_{k \in [n]} V_k$, de modo que $V$ é uma vizinhança aberta de $x$ na qual, para todo $k \in [n]$, $f$ é $k$-parcialmente diferenciável e $\fun{\D_k f}{V}{\toplin(\bm E_k, \bm E')}$ é contínua em $x$.

Seja $\delta' \in \intaa{0}{\infty}$ tal que $\bola{x}{\delta'} \subseteq V$. Para todo $x' \in \bola{x}{\delta'}$, definamos
	\begin{equation*}
	g(x') := f(x') - f(x) - \sum_{k \in [n]} \D_k f|_x(x'_k - x_k)
	\end{equation*}
Mostraremos que $\lim_{x' \to x} \frac{\nor{g(x')}}{\nor{x'-x}} = 0$, o que implica que $f$ é diferenciável em $x$ e $\D f|_x = \sum_{k \in [n]} \D_k f|_x \circ \proj_k$.

Para todo $k \in [n]$, a função $\fun{g}{\bola{x}{\delta'} \subseteq E}{E'}$ é $k$-parcialmente diferenciável em $\bola{x}{\delta'}$. Isso vale porque, para todo $k' \in [n]$,
	\begin{equation*}
	\proj_{k'} \circ \inclu_{k,x'}(y) = \proj_{k'}({x'}_0,\ldots,{x'}_{k-1},y,{x'}_{k+1},\ldots,{x'}_{n-1}) =
		\begin{cases}
		y,			& k = k' \\
		{x'}_{k'},	& k \neq k',
		\end{cases}
	\end{equation*}
logo
	\begin{align*}
	g_{k,x'}(y) &= g(\inclu_{k,x'}(y)) \\
		&= f(\inclu_{k,x'}(y)) - f(x) - \sum_{k' \in [n]} \D_{k'} f|_x(\proj_{k'} \circ \inclu_{k,x'}(y) - x_{k'}) \\
		&= f_{k,x'}(y) - f(x) - \D_k f|_x(y) + \D_k f|_x(x_k) - \sum_{k' \in [n] \setminus \{k\}} \D_{k'} f|_x({x'}_{k'} - x_{k'}),
	\end{align*}
e então, como $- f(x) + \D_k f|_x(x_k) - \sum_{k' \in [n] \setminus \{k\}} \D_{k'} f|_x({x'}_{k'} - x_{k'})$ é constante (com relação a $y$) e $\D_k f|_x$ é linear, segue que
	\begin{equation*}
	\D_k g|_{x'} = \D g_{k,x'}|_{{x'}_k} = \D f_{k,x'}|_{{x'}_k} - \D_k f|_x = \D_k f|_{x'} - \D_k f|_x.
	\end{equation*}

Seja $\varepsilon \in \intaa{0}{\infty}$. Para todo $k \in [n]$, a função $\D_k f$ é contínua em $x$, logo para algum $\delta \in \intaa{0}{\delta'}$ vale que, para todo $x' \in \bola{x}{\delta}$,
	\begin{equation*}
	\nor{\D_k f|_{x'} - \D_k f|_x} < \frac{\varepsilon}{n}.
	\end{equation*}

Seja $v \in E$ tal que $\nor{v} \leq \delta'$ e, para todo $k \in [n]$, $v_{(0)} := (0,\ldots,0)$ e $v_{(k+1)} := (v_0,\ldots,v_k,0,\ldots,0)$. Vale $v_{(n)} = v$, $v_{(k+1)} - v_{(k)} = v_k$ e $\nor{v_{(k)}} \leq \nor{v}$ (para qualquer norma $p$).

Da desigualdade do valor médio (\ref{prop:desigualdade.valor.medio}) segue que, para todo $k \in [n]$,
	\begin{equation*}
	\nor{g_{k,{x'}_{(k)}}(x_k+v_k) - g_{k,{x'}_{(k)}}(x_k)} \leq \sup_{y \in \Sxgera{x_k, x_k+v_k}} \nor{\D g_{k,x'}|_{y}} \nor{x_k + v_k - x_k} \leq \frac{\varepsilon}{n} \nor{v_k}
	\end{equation*}
Como $g(x) = 0$, vale que
	\begin{equation*}
	g(x+v) = \sum_{k \in [n]} g(x+v_{(k+1)}) - g(x+v_{(k)}),
	\end{equation*}
portanto
	\begin{align*}
	\nor{g(x+v)} %&= \nor{\sum_{k \in [n]} g(x+v_{(k+1)}) - g(x+v_{(k)})} \\
		&\leq \sum_{k \in [n]} \nor{g(x+v_{(k+1)}) - g(x+v_{(k)})} \\
		&= \sum_{k \in [n]} \nor{g_{k,{x'}_{(k)}}(x_k+v_k) - g_{k,{x'}_{(k)}}(x_k)} \\
%		&= \sum_{k \in [n]} \sup_{y \in \Sxger{x_k, x_k+v_k}} \nor{\D g_{k,x'}|_{y}} \nor{x_k + v_k - x_k} \\
		&\leq \sum_{k \in [n]} \frac{\varepsilon}{n} \nor{v_k} \\
		& \leq \sum_{k \in [n]} \frac{\varepsilon}{n} \nor{v} \\
		&= \varepsilon \nor{v}.
	\end{align*}

Disso segue que $f$ é diferenciável em $x$ e, para todo $v \in E$,
%	\begin{equation*}
%	\D f|_x = \sum_{k \in [n]} \D_k f|_x \circ \proj_k.
%	\end{equation*}
	\begin{equation*}
	\D f|_x(v) = \sum_{k \in [n]} \D_k f|_x(v_k).
	\qedhere
	\end{equation*}
\end{proof}
\begin{comment}
\begin{proof}[PROVA 2 COM r]
Sejam $\bm E := \bm E_0, \ldots, \bm E_{n-1}$, $x \in X$ e, para cada $k \in [n]$, $V_k \subseteq A$ uma vizinhança aberta de $x$ na qual $f$ é $k$-parcialmente diferenciável e $\fun{\D_k f}{V_k}{\toplin(\bm E_k, \bm E')}$ é contínua em $x$. Definamos $V := \bigcap_{k \in [n]} V_k$, de modo que $V$ é uma vizinhança aberta de $x$ na qual, para todo $k \in [n]$, $f$ é $k$-parcialmente diferenciável e $\fun{\D_k f}{V}{\toplin(\bm E_k, \bm E')}$ é contínua em $x$.

Sejam $x' \in V$ e $\delta' \in \intaa{0}{\infty}$ tal que $\bola{x'}{\delta'} \subseteq V$. Para todo $v \in \bola{0}{\delta'}$, vale $x'+v \in \bola{x'}{\delta'}$, e definimos
	\begin{equation*}
	r(v) := f(x'+v) - f(x') - \sum_{k \in [n]} \D_k f|_{x'}(v_k)
	\end{equation*}
Mostraremos que $\lim_{v \to 0} \frac{\nor{r(v)}}{\nor{v}} = 0$. Como $\sum_{k \in [n]} \D_k f|_{x'} \circ \proj_k$ é linear e contínua, isso implica que $f$ é diferenciável em $x'$ e $\D f|_{x'} = \sum_{k \in [n]} \D_k f|_{x'} \circ \proj_k$.

Primeiro, mostremos que, para todo $k \in [n]$, a função $\fun{r}{\bola{0}{\delta'} \subseteq E}{E'}$ é $k$-parcialmente diferenciável. Para todo $k' \in [n]$, vale
	\begin{equation*}
	\proj_{k'} \circ \inclu_{k,v}(y) = \proj_{k'}({v}_0,\ldots,{v}_{k-1},y,{v}_{k+1},\ldots,{v}_{n-1}) =
		\begin{cases}
		y,			& k = k', \\
		{v}_{k'},	& k \neq k',
		\end{cases}
	\end{equation*}
%	\begin{equation*}
%	\proj_{k'} \circ \inclu_{k,v} =
%		\begin{cases}
%		\Id,	& k = k', \\
%		v_{k'},	& k \neq k',
%		\end{cases}
%	\end{equation*}
logo
	\begin{align*}
	r_{k,v}(y) %&= r(\inclu_{k,v}(y)) \\
		&= f(x'+\inclu_{k,v}(y)) - f(x') - \sum_{k' \in [n]} \D_{k'} f|_{x'}(\proj_{k'} \circ \inclu_{k,v}(y)) \\
		&= f_{k,x'+v}({x'}_k+y) - f(x) - \D_k f|_x(y) - \sum_{k' \in [n] \setminus \{k\}} \D_{k'} f|_x({v}_{k'});
	\end{align*}
%	\begin{equation*}
%	r := f \circ T_{x'} - f(x') - \sum_{k \in [n]} \D_k f|_{x'} \circ \proj_k
%	\end{equation*}
%	\begin{align*}
%	r_{k,v} &= r \circ \iota_{k,v} \\
%		&= f \circ T_{x'} \circ \iota_{k,v} - f(x') - \sum_{k' \in [n]} \D_{k'} f|_{x'} \circ \proj_{k'} \circ \iota_{k,v} \\
%		&= f_{k,x'+v} \circ T_{{x'}_k} - f(x') - \D_k f|_{x'} - \sum_{k' \in [n] \setminus \{k\}} \D_{k'} f|_{x'}(v_{k'}) \circ \iota_{k,v} \\
%	\end{align*}
como $T_{{x'}_k}(y) = {x'}_k + y$ é afim, $\D_k f|_{x'}$ é linear e $-f(x') - \sum_{k' \in [n] \setminus \{k\}} \D_{k'} f|_{x'}(v_{k'})$ é constante (com relação a $y$), segue que
	\begin{equation*}
	\D_k r|_v = \D r_{k,v}|_{v_k} = \D f_{k,x'+v}|_{{x'}_k + v_k} - \D_k f|_{x'} = \D_k f|_{x'+v} - \D_k f|_{x'}.
	\end{equation*}

Agora, mostremos que $f$ é diferenciável em $x'$. Seja $\varepsilon \in \intaa{0}{\infty}$. Para todo $k \in [n]$, a função $\D_k f$ é contínua em $x'$, logo para algum $\delta_k \in \intaa{0}{\delta'}$ vale que, para todo $v \in \bola{0}{\delta_k}$,
	\begin{equation*}
	\nor{\D_k f|_{x'+v} - \D_k f|_{x'}} < \frac{\varepsilon}{n}.
	\end{equation*}
Definamos $\delta := \min_{k \in [k]} \delta_k$. Seja $v \in \bola{0}{\delta}$ e, para todo $k \in [n]$, $v_{(0)} := (0,\ldots,0)$
	\begin{equation*}
	v_{(k+1)} := (v_0,\ldots,v_k,0,\ldots,0).
	\end{equation*}
Vale $v_{(n)} = v$, $v_{(k+1)} - v_{(k)} = v_k$ e $\nor{v_{(k)}} \leq \nor{v}$ (para qualquer norma $p$).

Da desigualdade do valor médio (\ref{prop:desigualdade.valor.medio}) segue que, para todo $k \in [n]$,
	\begin{equation*}
	\nor{r_{k,v_{(k)}}(v_k) - r_{k,v_{(k)}}(0)} \leq \sup_{y \in \Sxger{0, v_k}} \nor{\D r_{k,v_{(k)}}|_{y}} \nor{v_k} \leq \frac{\varepsilon}{n} \nor{v_k}
	\end{equation*}
Como $r(0) = 0$, vale que
	\begin{equation*}
	r(v) = \sum_{k \in [n]} r(v_{(k+1)}) - r(v_{(k)}),
	\end{equation*}
portanto
	\begin{align*}
	\nor{r(v)} &\leq \sum_{k \in [n]} \nor{\sum_{k \in [n]} r(v_{(k+1)}) - r(v_{(k)})} \\
		&= \sum_{k \in [n]} \nor{\sum_{k \in [n]} r(v_{(k+1)}) - r(v_{(k)})} \\
		&\leq \sum_{k \in [n]} \frac{\varepsilon}{n} \nor{v_k} \\
		& \leq \sum_{k \in [n]} \frac{\varepsilon}{n} \nor{v} \\
		&= \varepsilon \nor{v}.
	\end{align*}

Disso segue que $f$ é diferenciável em $x$ e
	\begin{equation*}
	\D f|_x = \sum_{k \in [n]} \D_k f|_x.
	\end{equation*}

\end{proof}
\end{comment}

\begin{proposition}
\label{prop:continuamente.diferenciavel.parcialmente}
Sejam $\bm E_0, \ldots, \bm E_{n-1}$ e $\bm E'$ espaços normados, $A \subseteq E_0 \times \cdots \times E_{n-1}$ um aberto e $\fun{f}{A}{E'}$ uma função. A função $f$ é $\Cont^1$-diferenciável se, e somente se, para todo $k \in [n]$, $f$ é $k$-parcialmente $\Cont^1$-diferenciável. Nesse caso, para todo $x \in A$% e todo $v \in E_0 \times \cdots \times E_{n-1}$
,
%	\begin{equation*}
%	\D f|_x(v) = \sum_{k \in [n]} \D_k f|_x(v_k).
%	\end{equation*}
	\begin{equation*}
	\D f|_x = \sum_{k \in [n]} \D_k f|_x \circ \proj_k.
	\end{equation*}
\end{proposition}
\begin{proof}
A ida segue direto de \ref{prop:diferenciabilidade.continua.diferenciabilidade.parcial.continua}. Para a volta, segue de
de \ref{prop:diferenciabilidade.parcial.continua.diferenciabilidade.pontual} que $f$ é diferenciável e que, para todo $x \in A$,
	\begin{equation*}
	\D f|_x = \sum_{k \in [n]} \D_k f|_x \circ \proj_k.
	\end{equation*}
Seja $\varepsilon \in \intaa{0}{\infty}$. Como para todo $k \in [n]$ as funções $\D_k f$ são contínuas em $x$, algum $\delta_k$ satisfaz que, para todo $x' \in \bola{x}{\delta_k} \cap A$,
	\begin{equation*}
	\nor{\D_k f|_{x'} - \D_k f|_x} \leq \frac{\varepsilon}{n}.
	\end{equation*}
Logo, para $\delta := \inf_{k \in [n]} \delta_k$, segue que, para todo $x' \in \bola{x}{\delta_k} \cap A$,
	\begin{align*}
	\nor{\D f|_{x'} - \D f|_x} &= \nor{\sum_{k \in [n]} (\D_k f|_{x'} - \D_k f|_x) \circ \proj_k} \\
		&\leq \sum_{k \in [n]} \nor{(\D_k f|_{x'} - \D_k f|_x) \circ \proj_k} \\
		&\leq \sum_{k \in [n]} \nor{\D_k f|_{x'} - \D_k f|_x} \nor{\proj_k} \\
		&\leq \sum_{k \in [n]} \nor{\D_k f|_{x'} - \D_k f|_x} \\
		&= \varepsilon,
	\end{align*}
o que mostra que $\D f$ é contínua em $x$.
\end{proof}

Combinando os dois casos, em que
	\begin{equation*}
	\fun{f}{A \subseteq E_0 \times \cdots \times E_{n-1}}{E'_0 \times \cdots \times E'_{n'-1}}
	\end{equation*}
é uma função $\Cont^1$-diferenciável, para todo $x \in A$ vale que
	\begin{equation*}
	\D f|_x = \sum_{(k,k') \in [n] \times [n']} \inclu_{k'} \circ \D_k f_{k'}|_x \circ \proj_k.
	\end{equation*}

No caso em que $\fun{f}{A \subseteq \R^d}{E'}$, as diferenciais parciais estão relacionadas com as derivadas direcionais ao longo de cada vetor da base canônica. A relação é
	\begin{equation*}
	\D_k f|_x(c) = c \dir{\ii_k} f(x).
	\end{equation*}

% Possivelmente acrescentar a regra da cadeia nos casos em que domínio ou contradomínio são espaços produtos.

Uma consequência direta desses resultados é a diferenciabilidade contínua de uma função multilinear.

\begin{proposition}[Diferencial de função multilinear]
Sejam $\bm E_0, \ldots, \bm E_{n-1}$ e $\bm E'$ espaços normados e $\fun{l}{E_0 \times \cdots \times E_{n-1}}{E'}$ uma função $n$-linear. A função $l$ é $\Cont^1$-diferenciável e, para todos $x,v \in E_0 \times \cdots \times E_{n-1}$,
	\begin{equation*}
	\D l|_x(v) = \sum_{k \in [n]} l(x_0,\ldots,x_{k-1},v_k,x_{k+1},\ldots,x_{n-1}).
	\end{equation*}
\end{proposition}
\begin{proof}
Sejam $x \in E_0 \times \cdots \times E_{n-1}$ e $k \in [n]$. Da definição multilinearidade, $\fun{l \circ \inclu_{k,x}}{E_k}{E'}$ é linear, portanto $\Cont^1$-diferenciável e, para todo $w \in E_k$,
	\begin{equation*}
	l \circ \inclu_{k,x}(w) = l(x_0,\ldots,x_{k-1},w,x_{k+1},\ldots,x_{n-1}).
	\end{equation*}

Segue de \ref{prop:continuamente.diferenciavel.parcialmente} que $l$ é $\Cont^1$-diferenciável e
	\begin{equation*}
	\D l|_x(v) = \sum_{k \in [n]} l(x_0,\ldots,x_{k-1},v_k,x_{k+1},\ldots,x_{n-1}).
	\qedhere
	\end{equation*}
\end{proof}







\subsection{Multidiferenciabilidade}

Nesta seção, estudaremos a generalização dos tópicos estudados até agora para diferenciais de ordem superior. Brevemente, definiremos uma função multidiferenciável como uma função que pode ser diferenciada múltiplas vezes no sentido de que sua diferencial é diferenciável (para ordem $2$), a diferencial de sua diferencial é diferenciável (para ordem $3$), e assim por diante. As propriedades de diferenciabilidade relacionadas às operações algébricas, à composição e às diferenciais parciais serão também generalizadas, dessa vez com uma apresentação mais sucinta.

\subsubsection{Multidiferencial e propriedades}

Consideremos espaços normados $\bm E$ e $\bm E'$, um aberto $A \subseteq E$, $X \subseteq A$ e uma função $\fun{f}{A}{E'}$ diferenciável em $X$. Sua diferencial em $X$ é a função
	\begin{align*}
	\func{\D f}{X}{\toplin(\bm E, \bm E')}{x}{\D f|_x}.
	\end{align*}

Lembremos que adotamos a seguinte notação
	\begin{equation*}
	\toplin^{m}(\bm E, \bm E') := \toplin(\bm E, \toplin(\bm E, \cdots \toplin(\bm E, \bm E')\cdots)).
	\end{equation*}
e que denotamos o conjunto das transformações $m$-lineares contínuas de $\bm E$ para $\bm E'$ por
	\begin{equation*}
	\toplin^{(m)}(\bm E, \bm E') := \toplin(\bm E,\cdots, \bm E; \bm E').
	\end{equation*}
Esses dois espaços são isometricamente isomorfos (\ref{prop:isometria.estratificada.multilinear}) e o isomorfismo é dado por
	\begin{equation*}
	\fun{I^{(m)}}{\toplin^m(\bm E, \bm E')}{\toplin^{(m)}(\bm E, \bm E')}.
	\end{equation*}
Além disso, o subespaço das funções $m$-lineares simétricas $\toplin_{S}^{(m)}(\bm E, \bm E')$ é um subespaço fechado de $\toplin^{(m)}(\bm E, \bm E')$.

Se a função $f$ é diferenciável em uma vizinhança aberta $V$ de $X$, podemos considerar a diferenciabilidade de sua diferencial
	\begin{align*}
	\func{\D f}{V}{\toplin(\bm E, \bm E')}{x}{\D f|_x}.
	\end{align*}
Se $\D f$ for diferenciável em $X$, ela admite uma diferencial
	\begin{equation*}
	\fun{\D^2 f := \D (\D f)}{X}{\toplin^2(\bm E, \bm E')}.
	\end{equation*}
Se por sua vez a função $\D^2 f$ estiver definida na vizinhança $V$, então pode-se considerar sua diferencial $\D^3 f := \fun{\D(\D^2 f)}{X}{\toplin^3(\bm E, \bm E')}$ e assim por diante até algum $m \in \N$
	\begin{equation*}
	\D^m f := \fun{\D (\D^{m-1} f)}{X}{\toplin^m(\bm E, \bm E')}.
	\end{equation*}

Definimos a seguir o conceito de multidiferenciabilidade baseado nessa discussão preliminar. No entanto, queremos entender a função $\D^m f|_x \in \toplin^m(\bm E, \bm E')$ como uma função $m$-linear, pois elas têm propriedades melhores. Para isso, usaremos o isomorfismo isométrico $I^{(m)}$.
%\ref{def:multidiferenciabilidade}
\begin{definition}[Multidiferenciabilidade]
\label{def:multidiferenciabilidade}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto e $X \subseteq A$. Para todo $m \in \NN$, definimos indutivamente:
	\begin{enumerate}
	\item Uma função de $A$ para $E'$ \emph{$0$-diferenciável} \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$. Sua \emph{$0$-diferencial composta} é $\D^0 f := \fun{f}{A}{E'}$.

	Uma função \emph{$0$-diferenciável} de $A$ para $E'$ é uma função $\fun{f}{A}{E'}$;

	\item Uma função de $A$ para $E'$ \emph{$m$-diferenciável} \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$ tal que, para alguma vizinhança $V \subseteq A$ de $X$, $f$ é $(m-1)$-diferenciável em $V$ e sua $(m-1)$-diferencial composta $\fun{\D^{m-1} f}{V}{\toplin^{m-1}(\bm E, \bm E')}$ é diferenciável em $X$. Sua \emph{$m$-diferencial composta} é
		\begin{equation*}
		\D^m f := \fun{\D (\D^{m-1} f)}{X}{\toplin^m(\bm E, \bm E')}
		\end{equation*}
%	e, para todo $x \in X$, sua \emph{$m$-diferencial multilinear} em $x$ é a função $m$-linear
%		\begin{equation*}
%		\D^{(m)} f|_x := I^{(m)}(D^m f|_x).
%		\end{equation*}
	e sua \emph{$m$-diferencial multilinear} é
		\begin{equation*}
		\D^{(m)} f := \fun{I^{(m)} \circ (D^m f)}{X}{\toplin^{(m)}(\bm E, \bm E')}.
		\end{equation*}

	Uma função \emph{$m$-diferenciável} de $A$ para $E'$ é uma função $\fun{f}{A}{E'}$ $m$-diferenciável em $A$;

	\item Uma função de $A$ para $E'$ \emph{$\infty$-diferenciável} (ou \emph{suave}) \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$ tal que, para todo $m \in \N$, $f$ é $m$-diferenciável em $X$.

	Uma função \emph{$\infty$-diferenciável} (ou \emph{suave}) de $A$ para $E'$ é uma função $\fun{f}{A}{E'}$ $\infty$-diferenciável em $A$.
	\end{enumerate}
\end{definition}

Denominamos a função $\D^m f$ de $m$-diferencial composta de $f$ e a função $\D^{(m)} f$ de $m$-diferencial multilinear, mas essa nomenclatura não é padrão. Em geral, $\D^{(m)} f$ é considerada a $m$-diferencial e a função não recebe nome, mas preferimos enfatizar que elas estão relacionadas, embora sejam distintas, e ter como nos referirmos a cada uma delas. A proposição a seguir mostra que a diferenciabilidade de $\D^m f$ é equivalente à diferenciabilidade de $\D^{(m)} f$.

% A proposição valeria para $m=0$ se definíssemos $(-1)$-diferenciável como sendo sinônimo de função.
\begin{proposition}[Equivalência das multidiferenciais]
\label{prop:multidiferencial.multilinear}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$ uma função e $m \in \N \setminus \{0\}$. A função $f$ é $m$-diferenciável em $X$ se, e somente se, para alguma vizinhança $V$ de $X$, $f$ é $(m-1)$-diferenciável em $V$ e sua $(m-1)$-diferencial multilinear $\D^{(m-1)} f$ é diferenciável em $X$. Nesse caso, para todo $x \in X$ e todos $v_0, \ldots, v_{m-1} \in E$,
	\begin{equation*}
	\D (\D^{(m-1)} f)|_x (v_0)(v_1,\ldots, v_{m-1}) = \D^{(m)} f|_x(v_0,\ldots, v_{m-1}).
	\end{equation*}
\end{proposition}
\begin{proof}
Para $m=1$ é direto. Consideremos $m \geq 2$.
	\begin{itemize}
	\item ($\Rightarrow$) Suponhamos que $f$ é $m$-diferenciável em $X$ e seja $V$ uma vizinhança de $X$ em que $f$ é $(m-1)$-diferenciável e tal que $\fun{\D^{m-1} f}{V}{\toplin^{m-1}(\bm E, \bm E')}$ é diferenciável em $X$. Como para todo $x' \in V$ vale que $\D^{(m-1)} f|_{x'} = I^{(m-1)} \circ \D^{m-1} f|_{x'}$, então $\D^{(m-1)} f = I^{(m-1)} \circ \D^{m-1} f$ e segue da linearidade e continuidade de $I^{(m)}$ que $\D^{(m-1)} f$ é diferenciável em $X$ e, pela regra da cadeia, para todo $x \in X$,
		\begin{equation*}
		\D (\D^{(m-1)} f)|_x = \D (I^{(m-1)} \circ \D^{m-1} f)|_x = I^{(m-1)} \circ \D^m f|_x.
		\end{equation*}

	\item ($\Leftarrow$) Suponhamos que, para alguma vizinhança $V$ de $X$, $f$ é $(m-1)$-diferenciável em $V$ e $\D^{(m-1)} f$ é diferenciável em $X$. Para todo $x' \in V$, vale que $\D^{m-1} f|_{x'} = (I^{(m)})\inv \circ \D^{(m-1)} f|_{x'}$, portanto $\D^{m-1} f = (I^{(m)})\inv \circ \D^{(m-1)} f$ e segue da linearidade e continuidade de $(I^{(m)})\inv$ que $\D^{m-1} f$ é diferenciável em $X$ e, pela regra da cadeia, para todo $x \in X$,
		\begin{equation*}
		\D^m f|_x = \D (\D^{m-1} f)|_x = \D ((I^{(m)})\inv \circ \D^{(m-1)} f)|_x = (I^{(m)})\inv \circ \D(\D^{(m-1)} f)|_x.
		\end{equation*}
	\end{itemize}

Assim, concluímos que, caso $f$ seja $m$-diferenciável em $X$, vale que, para todo $x \in X$ e todos $v_0, \ldots, v_{m-1} \in E$,
	\begin{align*}
	\D (\D^{(m-1)} f)|_x(v_0) (v_1, \ldots, v_{m-1}) &= I^{(m-1)} \circ \D^m f|_x (v_0) (v_1, \ldots, v_{m-1}) \\
		&= I^{(m)} \circ \D^m f|_x (v_0, v_1, \ldots, v_{m-1}) \\
		&= \D^{(m)} f|_x (v_0, v_1, \ldots, v_{m-1}).
		\qedhere
	\end{align*}
\end{proof}

\begin{exercise}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$ uma função, $m \in \N \setminus \{0\}$ e $k \in [m]$. A função $f$ é $m$-diferenciável em $X$ se, e somente se, para alguma vizinhança $V$ de $X$, $f$ é $k$-diferenciável em $V$ e $\fun{\D^{(k)} f}{V}{\toplin^{(k)}(\bm E, \bm E')}$ é $m-k$-diferenciável em $X$. Nesse caso, para todo $x \in X$,
	\begin{equation*}
	\D^{(m-k)}\D^{(k)} f|_x = \D^{(m)} f|_x.
	\end{equation*}

\end{exercise}


Além de ser multilinear, a multidiferencial $\D^{(m)} f|_x$ é simétrica, mais um dos motivos pelos quais ela é mais vantajosa em aplicações. Demonstraremos isso a seguir, primeiro para o caso $m=2$, então para o caso geral.

\begin{proposition}[Simetria da multidiferencial]
\label{prop:multidiferencial.simetrica}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$ e $\fun{f}{A}{E'}$ uma função $m$-diferenciável em $X$. Para todo $x \in X$, a função $m$-linear $\fun{\D^{(m)} f|_x}{E \times \cdots \times E}{E'}$ é simétrica.
\end{proposition}
\begin{proof}
Seja $x \in X$. Demostraremos a proposição por indução em $m$. Os casos $m=0$ e $m=1$ são triviais. Consideramos o caso $m=2$. Seja $V \subseteq A$ uma vizinhança de $x$ tal que $f$ é diferenciável em $V$ e $\fun{\D f}{V}{\toplin(\bm E, \bm E')}$ é diferenciável em $x$.

Sejam $v_0, v_1 \in E$. Se $v_0 = 0$ ou $v_1 = 0$, então
	\begin{equation*}
	\D^{(2)} f|_x(v_0,v_1) = 0 = \D^{(2)} f|_x(v_1,v_0).
	\end{equation*}
Consideremos $v_0 \neq 0$ e $v_1 \neq 0$.

Seja $\varepsilon \in \intaa{0}{\infty}$. Como $f$ é $2$-diferenciável em $x$, para algum $\delta \in \intaa{0}{\infty}$ vale que $\bola{x}{\delta} \subseteq V$ e, para todo $x' \in \bola{x}{\delta}$,
	\begin{align*}
	\nor{\D f|_{x'} - \D f|_x - \D^2 f|_x (x'-x)} &\leq \frac{\varepsilon}{2^4\nor{v_0}\nor{v_1}} \nor{x'-x}.
	\end{align*}

Sejam $v,v' \in E$ tais que $x+v, x+v', x+v+v' \in \bola{x}{\delta}$. Definimos
	\begin{equation*}
	r(v,v') = f(x+v+v') - f(x+v) - f(x+v') + f(x) - \D^{(2)} f(v,v')
	\end{equation*}
e então segue que
	\begin{align*}
	\D^{(2)} f|_x(v,v') - \D^{(2)} f|_x(v',v) &= \D^{(2)} f|_x(v,v') \\
		&\quad - f(x+v+v') + f(x+v) + f(x+v') - f(x) \\
		&\quad + f(x+v'+v) - f(x+v') - f(x+v) + f(x) \\
		&\quad - \D^{(2)} f|_x(v',v) \\
		&= -r(v,v') + r(v',v),
	\end{align*}
portanto
	\begin{equation*}
	\nor{\D^{(2)} f|_x(v,v') - \D^{(2)} f|_x(v',v)} \leq \nor{r(v,v')} + \nor{r(v',v)}.
	\end{equation*}

Agora, como $f$ é diferenciável em $V$, definimos
	\begin{align*}
	r'(v') := f(x+v+v') - f(x+v') - \D f|_{x+v}(v') + \D f|_x(v').
	\end{align*}
Como $f$ é $2$-diferenciável em $x$, segue de \ref{prop:multidiferencial.multilinear} que $\D^{(2)} f|_x(v,v') = \D^2 f|_x(v)(v')$, logo
	\begin{align*}
	r(v,v') &= f(x+v+v') - f(x+v') - \D f|_{x+v}(v') + \D f|_x(v') \\
		&\quad - (f(x+v) - f(x)) \\
		&\quad + (\D f|_{x+v} - \D f|_x - \D^2 f|_x(v))(v') \\
		&= r'(v') - r'(0) + (\D f|_{x+v} - \D f|_x - \D^2 f|_x(v))(v'),
	\end{align*}
portanto
	\begin{equation*}
	\nor{r(v,v')} \leq \nor{r'(v') - r'(0)} + \nor{\D f|_{x+v} - \D f|_x - \D^2 f|_x(v)}\nor{v'}.
	\end{equation*}
Como $\bola{0}{\delta}$ é convexa, segue da desigualdade do valor médio (\ref{prop:desigualdade.valor.medio}) que
	\begin{equation*}
	\nor{r'(v') - r'(0)} \leq \sup_{t \in \intaa{0}{1}} \nor{\D r'|_{tv'}} \nor{v'}.
	\end{equation*}
Mas $r'$ é diferenciável, pois é soma de funções diferenciáveis, e vale que
	\begin{align*}
	\D r'|_{v'} &= \D f_{x+v+v'} - \D f|_{x+v} - \D f|_{x+v'} + \D f|_x \\
		&= \D f_{x+v+v'} - \D f|_x - \D^2 f|_x (v+v') \\
		&\quad - (\D f|_{x+v} - \D f|_x - \D^2 f|_x (v)) \\
		&\quad - (\D f|_{x+v'} - \D f|_x - \D^2 f|_x (v'));
	\end{align*}
como $v$ e $v'$ são tais que $x+v, x+v', x+v+v' \in \bola{x}{\delta}$, segue da $2$-diferenciabilidade de $f$ que
	\begin{align*}
	\nor{\D r'|_{v'}} &\leq \nor{\D f_{x+v+v'} - \D f|_x - \D^2 f|_x (v+v')} \\
		&\quad + \nor{\D f|_{x+v} - \D f|_x - \D^2 f|_x (v)} \\
		&\quad + \nor{\D f|_{x+v'} - \D f|_x - \D^2 f|_x (v')} \\
		&\leq \frac{\varepsilon}{2^4\nor{v_0}\nor{v_1}} (\nor{v+v'} + \nor{v} + \nor{v'}) \\
		&\leq \frac{\varepsilon}{2^3\nor{v_0}\nor{v_1}} (\nor{v} + \nor{v'}).
	\end{align*}
Para $t \in \intaa{0}{1}$, vale $\nor{tv'} \leq \nor{v'}$, o que implica que
	\begin{align*}
	\nor{r'(v') - r'(0)} &\leq \sup_{t \in \intaa{0}{1}} \nor{\D r'|_{tv'}} \nor{v'} \\
		&\leq \frac{\varepsilon}{2^3\nor{v_0}\nor{v_1}} (\nor{v} + \nor{tv'})\nor{v'} \\
		&\leq \frac{\varepsilon}{2^3\nor{v_0}\nor{v_1}} (\nor{v} + \nor{v'})\nor{v'}.
	\end{align*}
Disso segue que
	\begin{align*}
	\nor{r(v,v')} &\leq \nor{r'(v') - r'(0)} + \nor{\D f|_{x+v} - \D f|_x - \D^2 f|_x(v)}\nor{v'} \\
		&\leq \frac{\varepsilon}{2^3\nor{v_0}\nor{v_1}} (\nor{v} + \nor{v'})\nor{v'} + \frac{\varepsilon}{2^4\nor{v_0}\nor{v_1}} \nor{v}\nor{v'} \\
		&= \frac{\varepsilon}{2^4\nor{v_0}\nor{v_1}} \left(3\nor{v}\nor{v'} + 2\nor{v'}^2 \right) \\
		&\leq \frac{\varepsilon}{2^4\nor{v_0}\nor{v_1}} \left( 2\nor{v}^2 + 4\nor{v}\nor{v'} + 2\nor{v'}^2 \right) \\
		&= \frac{\varepsilon}{2^3\nor{v_0}\nor{v_1}} (\nor{v} + \nor{v'})^2.
	\end{align*}

Assim, obtém-se
	\begin{align*}
	\nor{\D^{(2)} f|_x(v,v') - \D^{(2)} f|_x(v',v)} &\leq \frac{\varepsilon}{2^3\nor{v_0}\nor{v_1}} (\nor{v} + \nor{v'})^2 \\
		&\quad + \frac{\varepsilon}{2^3\nor{v_0}\nor{v_1}} (\nor{v'} + \nor{v})^2 \\
		& = \frac{\varepsilon}{2^2\nor{v_0}\nor{v_1}} (\nor{v} + \nor{v'})^2.
	\end{align*}

Finalmente, sejam $c \in \intaa{0}{\delta}$ e $v := \frac{c}{2}\frac{v_0}{\nor{v_0}}, v' := \frac{c}{2}\frac{v_0}{\nor{v_0}}$, de modo que
	\begin{equation*}
	\nor{v} = \nor{v'} = \frac{c}{2},
	\end{equation*}
logo $x+v, x+v',x+v+v' \in \bola{x}{\delta}$. Da bilinearidade de $\D^{(2)} f|_x$, segue que
	\begin{align*}
		\D^{(2)} f|_x(v_0,v_1) &= \D^{(2)} f|_x \left( \frac{2\nor{v_0}}{c} v, \frac{2\nor{v_1}}{c} v' \right) = \frac{2^2\nor{v_0}\nor{v_1}}{c^2} \D^{(2)} f|_x(v,v'), \\
		\D^{(2)} f|_x(v_1,v_0) &= \D^{(2)} f|_x \left( \frac{2\nor{v_1}}{c} v', \frac{2\nor{v_0}}{c} v \right) = \frac{2^2\nor{v_1}\nor{v_0}}{c^2} \D^{(2)} f|_x(v',v),
	\end{align*}
portanto
	\begin{align*}
	\nor{\D^{(2)} f|_x(v_0,v_1) - \D^{(2)} f|_x(v_1,v_0)} &= \frac{2^2\nor{v_0}\nor{v_1}}{c^2}\nor{\D^{(2)} f|_x(v,v') - \D^{(2)} f|_x(v',v)} \\
		&\leq \frac{2^2\nor{v_0}\nor{v_1}}{c^2} \frac{\varepsilon}{2^2\nor{v_0}\nor{v_1}} (\nor{v} + \nor{v'})^2 \\
		&\leq \frac{\varepsilon}{c^2} \left( \frac{c}{2} + \frac{c}{2} \right)^2 \\
		&\leq \varepsilon,
	\end{align*}
o que implica que $\D^{(2)} f|_x(v_0,v_1) = \D^{(2)} f|_x(v_1,v_0)$.

Agora, consideramos o caso em que $m>2$. Suponhamos que $f$ é $m$-diferenciável em $x$ e que toda função $(m-1)$-diferenciável tem $(m-1)$-diferencial simétrica. Seja $V \subseteq A$ uma vizinhança convexa de $x$ tal que $f$ é $(m-1)$-diferenciável em $V$ e $\fun{\D^{(m-1)} f}{V}{\toplin(\bm E, \bm E')}$ é diferenciável em $x$.

Por hipótese de indução, $\D^{(m-1)} f|_x$ é uma função $(m-1)$-linear simétrica. Como $\toplin_{S}^{(m-1)}(\bm E, \bm E')$ é um subespaço fechado de $\toplin^{(m-1)}(\bm E, \bm E')$ e $(I^{(m-1)})\inv$ é isomorfismo isométrico, então
	\begin{equation*}
	S' := (I^{(m-1)})\inv(\toplin_{S}^{(m-1)}(\bm E, \bm E'))
	\end{equation*}
é subespaço fechado de $\toplin^{m-1}(\bm E, \bm E')$, portanto segue de \ref{prop:restricao.imagem.diferencial} que $\fun{\D^{m-1} f}{V}{S'}$ é diferenciável e $\D^m f|_x = \D (\D^{m-1} f)|_x$ tem imagem em $S'$, ou seja, para todo $v \in E$ a função $\D (\D^{m-1} f)|_x(v) \in S'$, o que implica que $I^{(m-1)}(\D (\D^{m-1} f)|_x(v))$ é $(m-1)$-linear simétrica. Assim, segue de \ref{prop:multidiferencial.multilinear} que a função $m$-linear $\D^{(m)} f|_x$ é simétrica nas entradas $1, \ldots, m-1$; ou seja, para todos $v, v'_0, \ldots, v'_{m-2} \in E$ toda permutação $\fun{\sigma'}{[m-1]}{[m-1]}$,
	\begin{equation*}
	\D^{(m)} f|_x (v, v'_{\sigma(0)} \ldots, v'_{\sigma(m-2)}) = \D^{(m)} f|_x (v, v'_0 \ldots, v'_{m-2}).
	\end{equation*}

Para obter simetria em todas as entradas, consideremos a função $\D^{m-2} f$. Vale que $\D^2(\D^{m-2} f)|_x = \D^m f|_x$ e que $\D^2(\D^{m-2} f)|_x \in \toplin^2(\bm E, \toplin^{m-2}(\bm E, \bm E')) = \toplin^m(\bm E, \bm E')$. Pelo caso base para $m=2$, vale que, para todos $v,v' \in E$,
	\begin{equation*}
	\D^{(2)}(\D^{m-2} f)|_x (v, v') = \D^{(2)}(\D^{m-2} f)|_x (v, v'),
	\end{equation*}
portanto, para todos $v, v', v''_0, \ldots, v''_{m-3} \in E$,
	\begin{equation*}
	\D^{(m)} f|_x (v, v', v''_0, \ldots, v''_{m-3}) = \D^{(m)} f|_x (v', v, v''_0, \ldots, v''_{m-3}).
	\end{equation*}

Finalmente, sejam $v_0, \ldots, v_{m-1} \in E$ e $\fun{\sigma}{[m]}{[m]}$ uma permutação. Se $\sigma(0) = 0$, então $\sigma|_{\{1,\ldots,m-1\}}$ é uma permutação de $\{1,\ldots,m-1\}$, portanto
	\begin{align*}
	\D^{(m)} f|_x (v_{\sigma(0)}, v_{\sigma(1)}, \ldots, v_{\sigma(m-1)}) &= \D^{(m)} f|_x (v_0, v_{\sigma(1)}, \ldots, v_{\sigma(m-1)}) \\
		&= \D^{(m)} f|_x (v_0, v_1 \ldots, v_{m-1}).
	\end{align*}

Se $\sigma(0) \neq 0$, seja $k_0 \in \{1, \ldots, m-1\}$ tal que $\sigma(k_0) = 0$. Podemos permutar as entradas $v_{\sigma(1)}$ e $v_{\sigma(k_0)} = v_0$, então as entradas $v_{\sigma(0)}$ com $v_{\sigma(k_0)} = v_0$, e por fim as restantes entradas $v_{\sigma(k)}$ para $k \in [m] \setminus \{k_0\}$, e obtemos
	\begin{align*}
	\D^{(m)} f|_x (v_{\sigma(0)}, v_{\sigma(1)}, \ldots, v_{\sigma(m-1)}) &= \D^{(m)} f|_x (v_{\sigma(0)}, v_{\sigma(1)}, \ldots, v_{\sigma(k_0)}, \ldots, v_{\sigma(m-1)}) \\
		&= \D^{(m)} f|_x (v_{\sigma(0)}, v_{\sigma(1)}, \ldots, v_0, \ldots, v_{\sigma(m-1)}) \\
		&= \D^{(m)} f|_x (v_{\sigma(0)}, v_0, \ldots, v_{\sigma(1)}, \ldots, v_{\sigma(m-1)}) \\
		&= \D^{(m)} f|_x (v_0, v_{\sigma(0)}, \ldots, v_{\sigma(1)}, \ldots, v_{\sigma(m-1)}) \\
		&= \D^{(m)} f|_x (v_0, v_1, \ldots, v_{m-1}).
		\qedhere
	\end{align*}
\end{proof}

Assim como em \ref{prop:diferencial.propriedades}, também podemos demonstrar que adição, ação por escalar e (no caso de uma álgebra normada como contradomínio) multiplicação de funções preservam a multidiferenciabilidade das funções.

\begin{exercise}
\label{prop:multidiferencial.propriedades}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$ e $m \in \NN$.
	\begin{enumerate}
	\item Para todas funções $\fun{f,f'}{A}{E'}$ $m$-diferenciáveis em $X$, a função
		\begin{equation*}
		\fun{f+f'}{A}{E'}
		\end{equation*}
	é $m$-diferenciável em $X$;
	\item Para todo $c \in \R$ e toda função $\fun{f}{A}{E'}$ $m$-diferenciável em $X$, a função
		\begin{equation*}
		\fun{c f}{A}{E'}
		\end{equation*}
	é $m$-diferenciável em $X$;
	\item Se $\bm E'$ é uma álgebra normada, para todas funções $\fun{f,f'}{A}{E'}$ $m$-diferenciáveis em $X$, a função
		\begin{equation*}
		\fun{f f'}{A}{E'}
		\end{equation*}
	é $m$-diferenciável em $X$;
	\item Toda função constante $\fun{f}{A}{E'}$ é $m$-diferenciável;
	\item Toda função linear $\fun{l}{E}{E'}$ é $m$-diferenciável;
	\item Toda função $n$-multilinear $\fun{l}{E_0 \times \cdots \times E_{n-1}}{E'}$ é $m$-diferenciável.
	\end{enumerate}
\end{exercise}

Assim como no caso da diferencial (\ref{prop:diferenciabilidade.composicao}), a composição de funções multidiferenciáveis também é multidiferenciável. A seguir, provamos esse resultado, mas não exibiremos uma expressão análoga à da regra da cadeia para multidiferenciais; tal expressão fica a cargo do leitor.

\begin{proposition}[Multidiferenciabilidade da composição]
\label{prop:multidiferenciabilidade.composicao}
Sejam $\bm E$, $\bm E'$ e $\bm E'$ espaços normados, $m \in \N \setminus \{0\}$, $A \subseteq E$ e $A' \subseteq E'$ abertos, $X \subseteq A$, $\fun{f}{A}{E'}$ $m$-diferenciável em $X$ tal que $f(A) \subseteq A'$ e $\fun{f}{A'}{E''}$ $m$-diferenciável em $f(X)$. A função composta $\fun{f' \circ f}{A}{E''}$ é $m$-diferenciável em $X$.% e, para todo $x \in X$,
%	\begin{equation*}
%	\D^2(f' \circ f)|_x = \D f'|_{f(x)} \circ \D^2 f|_x + \D^2 f'|_{f(x)} \circ \D f|_x \circ \D f|_x.
%	\end{equation*}
%	\begin{equation*}
%	\D^{(2)}(f' \circ f)|_x = \D f'|_{f(x)} \circ \D^{(2)} f|_x + \D^{(2)} f'|_{f(x)} \circ (\D f|_x, \D f|_x).
%	\end{equation*}
\end{proposition}
\begin{proof}
Mostraremos por indução em $m$. Seja $x \in X$. Para $m=1$, segue direto de \ref{prop:diferenciabilidade.composicao}. Suponhamos que a proposição vale para $m \geq 2$ e mostremos que vale também para $m+1$. Como $f$ e $f'$ são diferenciáveis, da regra da cadeia segue que
	\begin{equation*}
	\D(f' \circ f)|_x = \D f'|_{f(x)} \circ \D f|_x.
	\end{equation*}

Para mostrar que $f' \circ f$ é $(m+1)$-diferenciável, mostraremos que sua diuferencial $\D(f' \circ f)$ é $m$-diferenciável. Note que $\D(f' \circ f)$ é composição de duas funções. A primeira é a composição de funções
	\begin{align*}
	\func{\circ}{\toplin(E',E'') \times \toplin(E,E')}{\toplin(E,E'')}{(l',l)}{l' \circ l},
	\end{align*}
que é função bilinear, logo $\infty$-diferenciável e portanto $m$-diferenciável; a segunda é a função
	\begin{align*}
	\func{g}{X}{\toplin(E',E'') \times \toplin(E,E')}{x}{(\D f'|_{f(x)}, \D f|_x)}.
	\end{align*}
A função $f$ é $(m+1)$-diferenciável por hipótese, logo $m$-diferebciável; a função $\D f'$ é $m$-diferenciável pois por hipótese $f'$ é $(m+1)$-diferenciável. Assim, por hipótese de indução, a primeira componente de $g$, que é a composição $\D f' \circ f$, é $m$-diferenciável. A segunda componente de $g$ é a função $\D f$, que é $m$-diferenciável pois por hipótese $f$ é $(m+1)$-diferenciável. Assim segue que a função $g$ é $m$-diferenciável, pois cada uma de suas componentes é $m$-diferenciável.

Agora, novamente pela hipótese de indução, a diferencial $\D(f' \circ f)$ é $m$-diferenciável, pois é composição de duas funções $m$-diferenciáveis, e portanto $f' \circ f$ é $(m+1)$-diferenciável.
\end{proof}

\subsubsection{Multidiferenciabilidade contínua}

Assim como no caso da continuidade da diferencial, a multidiferencial de uma função $f$ nem sempre é contínua. Nesta seção, generalizaremos o conceito de diferenciabilidade contínua para multidiferenciabilidade.

\begin{comment}
\begin{definition}[Multidiferenciabilidade contínua]
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto e $X \subseteq A$. Para todo $m \in \NN$, definimos indutivamente:
	\begin{enumerate}
	\item Uma função de $A$ para $E'$ \emph{$\Cont^0$-diferenciável} (ou \emph{continuamente $0$-diferenciável}) \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$ contínua em $X$.

	Uma função de $A$ para $E'$ \emph{$\Cont^0$-diferenciável} (ou \emph{continuamente $0$-diferenciável}) é uma função contínua $\fun{f}{A}{E'}$ e o conjunto dessas funções é denotado $\Cont^0(\bm A,\bm E') := \Cont(\bm A,\bm E')$.

	\item Uma função de $A$ para $E'$ \emph{$\Cont^m$-diferenciável} (ou \emph{continuamente $m$-diferenciável}) \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$ tal que, para alguma vizinhança $V \subseteq A$ de $X$, $f$ é diferenciável em $V$ e sua diferencial $\fun{\D f}{V}{\toplin(\bm E, \bm E')}$ é $\Cont^{m-1}$-diferenciável em $X$.

%	Uma função de $A$ para $E'$ \emph{$\Cont^m$-diferenciável} (ou $m$-\emph{continuamente diferenciável}) \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$ tal que, para todo $x \in X$, vale o seguinte: para alguma vizinhança $V_x \subseteq A$ de $x$, $f$ é diferenciável em $V_x$ e sua diferencial $\fun{\D f}{V_x}{\toplin(\bm E, \bm E')}$ é $\Cont^{m-1}$-diferenciável em $x$.

	Uma função \emph{$\Cont^m$-diferenciável} (ou \emph{continuamente $m$-diferenciável}) de $A$ para $E'$ é uma função $\fun{f}{A}{E'}$ $\Cont^m$-diferenciável em $A$ e o conjunto dessas funções é denotado $\Cont^m(\bm A,\bm E')$.

	\item Uma função de $A$ para $E'$ \emph{$\Cont^\infty$-diferenciável} (ou \emph{continuamente $\infty$-diferenciável} ou \emph{suave}) \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$ tal que, para todo $m \in \N$, $f$ é $\Cont^{m}$-diferenciável em $X$.

	Uma função \emph{$\Cont^\infty$-diferenciável} (ou \emph{continuamente $\infty$-diferenciável} ou \emph{suave}) de $A$ para $E'$ é uma função $\fun{f}{A}{E'}$ $\Cont^{\infty}$-diferenciável em $A$ e o conjunto dessas funções é denotado $\Cont^\infty(\bm A,\bm E')$.
	\end{enumerate}
\end{definition}
\end{comment}

\begin{definition}[Multidiferenciabilidade contínua]
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto e $X \subseteq A$. Para todo $m \in \NN$, definimos indutivamente:
	\begin{enumerate}
	\item Uma função de $A$ para $E'$ \emph{$\Cont^0$-diferenciável} (ou \emph{continuamente $0$-diferenciável}) \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$ contínua em $X$.

	Uma função \emph{$\Cont^0$-diferenciável} (ou \emph{continuamente $0$-diferenciável}) de $A$ para $E'$ é uma função contínua $\fun{f}{A}{E'}$ e o conjunto dessas funções é denotado $\Cont^0(\bm A,\bm E') := \Cont(\bm A,\bm E')$;

	\item Uma função de $A$ para $E'$ \emph{$\Cont^m$-diferenciável} (ou \emph{continuamente $m$-diferenciável}) \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$ tal que, para alguma vizinhança $V \subseteq A$ de $X$, $f$ é $m$-diferenciável em $V$ e %sua diferencial $m$-composta
	$\fun{\D^m f}{V}{\toplin^m(\bm E, \bm E')}$ é contínua em $X$.

	Uma função \emph{$\Cont^m$-diferenciável} (ou \emph{continuamente $m$-diferenciável}) de $A$ para $E'$ é uma função $\fun{f}{A}{E'}$ $\Cont^m$-diferenciável em $A$ e o conjunto dessas funções é denotado $\Cont^m(\bm A,\bm E')$;

	\item Uma função de $A$ para $E'$ \emph{$\Cont^\infty$-diferenciável} (ou \emph{continuamente $\infty$-diferenciável} ou \emph{suave}) \emph{em $X$} (ou \emph{em $x$} para $X = \{x\}$) é uma função $\fun{f}{A}{E'}$ tal que, para todo $m \in \N$, $f$ é $\Cont^{m}$-diferenciável em $X$.

	Uma função \emph{$\Cont^\infty$-diferenciável} (ou \emph{continuamente $\infty$-diferenciável} ou \emph{suave}) de $A$ para $E'$ é uma função $\fun{f}{A}{E'}$ $\Cont^{\infty}$-diferenciável em $A$ e o conjunto dessas funções é denotado $\Cont^\infty(\bm A,\bm E')$.
	\end{enumerate}
\end{definition}

%Por \ref{prop:diferenciabilidade.derivabilidade}, a notação $\Cont^m(\bm A,\bm E')$ não é ambígua no caso $A = I \subseteq \R$.
Para todo $m \in \N$, a diferencial é uma função
	\begin{align*}
	\func{\D}{\Cont^{m}(\bm A, \bm E')}{\Cont^{m-1}(\bm A, \bm E)}{f}{\D f}
	\end{align*}
e, quando nos restringimos a $\Cont^\infty(\bm A, \bm E')$,
	\begin{align*}
	\func{\D}{\Cont^\infty(\bm A, \bm E')}{\Cont^\infty(\bm A, \bm E)}{f}{\D f}.
	\end{align*}

O espaço $\Cont^\infty(\bm A, \bm E')$ é um espaço linear sobre $\R$ e \ref{prop:diferencial.propriedades} mostra que $\D$ é uma função linear em $\Cont^\infty(\bm A, \bm E')$. No entanto, ela nem sempre é contínua. No caso em que $\bm E'$ é uma álgebra, também por \ref{prop:diferencial.propriedades} concluímos que $\D$ é uma derivação em $\Cont^\infty(\bm A, \bm E')$. Em especial, para $E' = \R$, $\D$ é uma derivação em $\Cont^\infty(\bm A, \R)$. Essa perspectiva será importante no estudo da derivada exterior de formas, abordado mais à frente.

\begin{exercise}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$, $\fun{f}{A}{E'}$ uma função e $m \in \N$. Então $f$ é $\Cont^m$-diferenciável em $X$ se, e somente se, para todo $k \in [m]$, $f$ é $\Cont^k$-diferenciável em $X$ e $\D^k f$ é $\Cont^{m-k}$-diferenciável em $X$.
\end{exercise}


\begin{exercise}
\label{prop:multidiferencial.continua.propriedades}
Sejam $\bm E$ e $\bm E'$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$ e $m \in \NN$.
	\begin{enumerate}
	\item Para todas funções $\fun{f,f'}{A}{E'}$ $\Cont^m$-diferenciáveis em $X$, a função $\fun{f+f'}{A}{E'}$ é $\Cont^m$-diferenciável em $X$;
	\item Para todo $c \in \R$ e toda função $\fun{f}{A}{E'}$ $\Cont^m$-diferenciável em $X$, a função $\fun{c f}{A}{E'}$ é $\Cont^m$-diferenciável em $X$;
	\item Se $\bm E'$ é uma álgebra normada, para todas funções $\fun{f,f'}{A}{E'}$ $\Cont^m$-diferenciáveis em $X$, a função $\fun{f f'}{A}{E'}$ é $\Cont^m$-diferenciável em $X$;
	\item Toda função constante $\fun{f}{A}{E'}$ é $\Cont^m$-diferenciável;
	\item Toda função linear $\fun{l}{E}{E'}$ é $\Cont^m$-diferenciável;
	\item Toda função $n$-multilinear $\fun{l}{E_0 \times \cdots \times E_{n-1}}{E'}$ é $\Cont^m$-diferenciável.
	\end{enumerate}
\end{exercise}

\begin{comment}






\begin{proposition}
Sejam $\bm E$, $\bm E'_0$, $\bm E'_1$ e $\bm E''$ espaços normados, $A \subseteq E$ um aberto, $X \subseteq A$, $m \in \N$, $\fun{f_0}{A}{E'_0}$ e $\fun{f_1}{A}{E'_1}$ funções $\Cont^m$-diferenciáveis em $X$ e $\fun{b}{E'_0 \times E'_1}{E''}$ função bilinear contínua. A função
	\begin{align*}
	\func{b(f,f')}{A}{E''}{x}{b(f(x),f'(x))}
	\end{align*}
é $\Cont^m$-diferenciável em $X$.
\end{proposition}
\begin{proof}
Seja $x \in X$ e definamos $B := b(f,f')$. Provaremos por indução em $m$. Para $m=0$ é direto; consideremos o caso $m=1$. A função $b$ é bilinear e portanto $\Cont^\infty$-diferenciável e a função $(f,g)$ $B$ é composição de $b$ e $(f,f')$ e portanto é diferenciável em $x$ e, para todo $v \in E$,
	\begin{equation*}
	\D B|_x(v) = b(\D f_x(v),f'(x)) + b(f(x), \D f'|_x(v)).
	\end{equation*}

\end{proof}

\end{comment}


\begin{proposition}[Multidiferenciabilidade contínua da composição]
\label{prop:multidiferenciabilidade.continua.composicao}
Sejam $\bm E$, $\bm E'$ e $\bm E'$ espaços normados, $m \in \N \setminus \{0\}$, $A \subseteq E$ e $A' \subseteq E'$ abertos, $X \subseteq A$, $\fun{f}{A}{E'}$ $\Cont^m$-diferenciável em $X$ tal que $f(A) \subseteq A'$ e $\fun{f}{A'}{E''}$ $\Cont^m$-diferenciável em $f(X)$. A função composta $\fun{f' \circ f}{A}{E''}$ é $\Cont^m$-diferenciável em $X$.
\end{proposition}
\begin{proof}
Segue de \ref{prop:multidiferenciabilidade.composicao} e do fato de que composição de funções contínuas é contínua.
% Mostraremos por indução em $m$. Seja $x \in X$. Para $m=1$, segue direto de \ref{prop:diferenciabilidade.composicao}. Suponhamos que a proposição vale para $m \geq 2$ e mostremos que vale também para $m+1$. Como $f$ e $f'$ são diferenciáveis, da regra da cadeia segue que
% 	\begin{equation*}
% 	\D(f' \circ f)|_x = \D f'|_{f(x)} \circ \D f|_x.
% 	\end{equation*}
% 
% Para mostrar que $f' \circ f$ é $(m+1)$-diferenciável, mostraremos que sua diuferencial $\D(f' \circ f)$ é $m$-diferenciável. Note que $\D(f' \circ f)$ é composição de duas funções. A primeira é a composição de funções
% 	\begin{align*}
% 	\func{\circ}{\toplin(E',E'') \times \toplin(E,E')}{\toplin(E,E'')}{(l',l)}{l' \circ l},
% 	\end{align*}
% que é função bilinear, logo $\infty$-diferenciável e portanto $m$-diferenciável; a segunda é a função
% 	\begin{align*}
% 	\func{g}{X}{\toplin(E',E'') \times \toplin(E,E')}{x}{(\D f'|_{f(x)}, \D f|_x)}.
% 	\end{align*}
% A função $f$ é $(m+1)$-diferenciável por hipótese, logo $m$-diferebciável; a função $\D f'$ é $m$-diferenciável pois por hipótese $f'$ é $(m+1)$-diferenciável. Assim, por hipótese de indução, a primeira componente de $g$, que é a composição $\D f' \circ f$, é $m$-diferenciável. A segunda componente de $g$ é a função $\D f$, que é $m$-diferenciável pois por hipótese $f$ é $(m+1)$-diferenciável. Assim segue que a função $g$ é $m$-diferenciável, pois cada uma de suas componentes é $m$-diferenciável.
% 
% Agora, novamente pela hipótese de indução, a diferencial $\D(f' \circ f)$ é $m$-diferenciável, pois é composição de duas funções $m$-diferenciáveis, e portanto $f' \circ f$ é $(m+1)$-diferenciável.
\end{proof}

\subsubsection{Multiderivabilidade}

Da mesma forma que podemos repetidamente diferenciar uma função, podemos repetidamente derivar uma trajetória. A seguir definiremos o conceito de derivadas múltiplas e demonstraremos que ele é equivalente à diferenciação múltipla para trajetórias.

\begin{definition}[Multiderivabilidade]
Sejam $\bm E$ um espaço normado, $I \subseteq E$ um intervalo aberto e $X \subseteq I$. Para todo $m \in \NN$, definimos indutivamente:
	\begin{enumerate}
	\item Uma trajetória de $I$ para $E$ \emph{$0$-derivável} \emph{em $X$} (ou \emph{em $t$} para $X = \{t\}$) é uma trajetória $\fun{\gamma}{I}{E}$. Sua \emph{$0$-derivada} é $\der^0 f := \fun{f}{A}{E'}$.

	Uma trajetória \emph{$0$-derivável} de $I$ para $E$ é uma trajetória $\fun{f}{I}{E}$;

	\item Uma trajetória de $I$ para $E$ \emph{$m$-derivável} \emph{em $X$} (ou \emph{em $t$} para $X = \{t\}$) é uma trajetória $\fun{\gamma}{I}{E}$ tal que, para alguma vizinhança $V \subseteq I$ de $X$, $\gamma$ é $(m-1)$-diferenciável em $V$ e sua $(m-1)$-derivada $\fun{\der^{m-1} f}{V}{E}$ é derivável em $X$. Sua \emph{$m$-derivada} é
		\begin{equation*}
		\der^m f := \fun{\der (\der^{m-1} f)}{X}{E}
		\end{equation*}
	e, para todo $t \in X$, a \emph{$m$-derivada} de $f$ em $x$ é $\der^m f(t)$.

	Uma trajetória \emph{$m$-derivável} de $I$ para $E$ é uma trajetória $\fun{\gamma}{I}{E}$ $m$-derivável em $I$;

	\item Uma trajetória de $I$ para $E$ \emph{$\infty$-derivável} (ou \emph{suave}) \emph{em $X$} (ou \emph{em $t$} para $X = \{t\}$) é uma trajetória $\fun{\gamma}{I}{E}$ tal que, para todo $m \in \N$, $\gamma$ é $m$-derivável em $X$.

	Uma trajetória \emph{$\infty$-derivável} (ou \emph{suave}) de $I$ para $E$ é uma trajetória $\fun{\gamma}{I}{E}$ $\infty$-derivável em $I$.
	\end{enumerate}
\end{definition}

\begin{proposition}
\label{prop:multidiferenciabilidade.multiderivabilidade}
Sejam $\bm E$ um espaço normado, $I \subseteq \R$ aberto, $X \subseteq I$ e $m \in \N \setminus \{0\}$. Uma trajetória $\fun{\gamma}{I}{E}$ é $m$-diferenciável em $X$ se, e somente se, é $m$-derivável em $X$. Nesse caso, para todo $t \in X$, vale $\nor{\D^{(m)} f|_t} = \nor{\der^m f(t)}$ e, para todos $c_0, \ldots, c_{m-1} \in \R$,
	\begin{equation*}
	\D^{(m)} f|_t(c_0, \ldots, c_{m-1}) = c_0 \cdots c_{m-1} \der^m f(t).
	\end{equation*}
\end{proposition}
\begin{proof}
Exercício.
\end{proof}

\subsubsection{Multiderivabilidade contínua}

Como no caso da diferencial, podemos generalizar derivabilidade contínua para multiderivabilidade contínua. Como derivabilidade implica continuidade, se $\gamma$ é derivável então $\gamma$ é contínua, ou seja, $\gamma \in \Cont(\bm I,\bm E)$. Podemos nos perguntar se a derivada $\dot{\gamma}$ de $\gamma$ é também contínua. Isso nem sempre vale, embora seja possível mostrar que uma descontinuidade de uma função derivável sempre é uma descontinuidade essencial e nunca é uma descontinuidade de salto.

\begin{comment}

\begin{definition}[Multiderivabilidade]
Sejam $\bm E$ um espaço normado e $I \subseteq \R$ um intervalo aberto. Para todo $k \in \N$, definimos indutivamente:
	\begin{enumerate}
	\item Uma trajetória $\Cont^0$-\emph{derivável} de $I$ para $E$ é uma trajetória contínua $\fun{\gamma}{I}{E}$ e sua $0$-ésima derivada é $\der^0 \gamma := \gamma$. O conjunto dessas trajetórias é denotado $\Cont^0(\bm I,\bm E) := \Cont(\bm I,\bm E)$.
	\item Uma trajetória $\Cont^k$-\emph{derivável} de $I$ para $E$ é uma trajetória derivável $\fun{\gamma}{I}{E}$ tal que $\fun{\der \gamma}{I}{E}$ é $\Cont^{k-1}$-derivável. Sua $k$-ésima derivada é
		\begin{equation*}
		\der^k \gamma := \der^{k-1} (\der \gamma).
		\end{equation*}
	O conjunto dessas trajetórias é denotado $\Cont^k(\bm I,\bm E)$.
	\item Uma trajetória $\Cont^\infty$-\emph{derivável} (ou \emph{suave}) de $I$ para $E$ é uma trajetória $\fun{\gamma}{I}{E}$ tal que, para todo $k \in \N$, $\gamma$ é $\Cont^{k}$-derivável. O conjunto dessas trajetórias é denotado $\Cont^\infty(\bm I,\bm E)$.
	\end{enumerate}
\end{definition}

\end{comment}

\begin{definition}[Multiderivabilidade contínua]
Sejam $\bm E$ um espaço normado, $I \subseteq \R$ um intervalo aberto e $X \subseteq I$. Para todo $m \in \NN$, definimos indutivamente:
	\begin{enumerate}
	\item Uma trajetória de $I$ para $E$ \emph{$\Cont^0$-derivável} (ou \emph{continuamente $0$-derivável}) em $X$ (ou \emph{em $t$} para $X=\{t\}$) é uma trajetória $\fun{\gamma}{I}{E}$ contínua em $X$ e sua $0$-ésima derivada é $\der^0 \gamma := \gamma$.

	Uma trajetória \emph{$\Cont^0$-derivável} de $I$ para $E$ é uma trajetória contínua $\fun{\gamma}{I}{E}$ e sua $0$-ésima derivada é $\der^0 \gamma := \gamma$. O conjunto dessas trajetórias é denotado $\Cont^0(\bm I,\bm E) := \Cont(\bm I,\bm E)$.

	\item

	Uma trajetória $\Cont^m$-\emph{derivável} de $I$ para $E$ é uma trajetória derivável $\fun{\gamma}{I}{E}$ tal que $\fun{\der \gamma}{I}{E}$ é $\Cont^{m-1}$-derivável. Sua $m$-ésima derivada é
		\begin{equation*}
		\der^m \gamma := \der^{m-1} (\der \gamma).
		\end{equation*}
	O conjunto dessas trajetórias é denotado $\Cont^m(\bm I,\bm E)$;

	\item

	Uma trajetória $\Cont^\infty$-\emph{derivável} (ou \emph{suave}) de $I$ para $E$ é uma trajetória $\fun{\gamma}{I}{E}$ tal que, para todo $m \in \N$, $\gamma$ é $\Cont^{m}$-derivável. O conjunto dessas trajetórias é denotado $\Cont^\infty(\bm I,\bm E)$.
	\end{enumerate}
\end{definition}

Por \ref{prop:multidiferenciabilidade.multiderivabilidade}, a notação $\Cont^m(\bm A,\bm E')$ não é ambígua no caso $A = I \subseteq \R$.












\subsection{Invertibilidade}

Nesta seção, enunciaremos alguns resultados importantes sem prová-los. Demosntrações podem ser encontradas em \cite{liv:Cartan-DifferentialCalculus} ou \cite{liv:Coleman-CalculusNormedVectorSpaces} e são consequências diretas dos resultados das seções anteriores.

\begin{proposition}
Seja $\bm E$ uma álgebra normada completa. A inversão multiplicativa
	\begin{align*}
	\func{/}{E^{/}}{E}{x}{x\inv}
	\end{align*}
é uma função $\Cont^\infty$-diferenciável.
\end{proposition}

\begin{proposition}
Sejam $\bm E$ e $\bm E'$ espaços normados completos e $m \in \N$. A inversão de função
	\begin{align*}
	\func{\inv}{\Isolin(E,E')}{\Isolin(E',E)}{f}{f\inv}
	\end{align*}
é uma função $\Cont^\infty$-diferenciável.
\end{proposition}


\begin{proposition}[Difeomorfismo multidiferenciável]
Sejam $\bm E$ e $\bm E'$ espaços normados completos, $A \subseteq E$ e $A' \subseteq E'$ abertos, $m \in \N$ e $\fun{f}{A}{A'}$ um difeomorfismo $\Cont^m$-diferenciável. A inversa $\fun{f\inv}{A'}{A}$ é $\Cont^m$-diferenciável.
\end{proposition}













\cleardoublepage

%\subsection{Teoremas fundamentais}



\subsection{Campos tensoriais}

\subsubsection{Campos vetoriais}

\begin{definition}
Sejam $\bm E$ um espaço normado e $A \subseteq E$ um aberto. Um \emph{campo vetorial} em $A$ é uma função $\fun{v}{A}{E}$. Para todo $x \in A$, o \emph{vetor tangente a $A$ de $v$ em $x$} é
	\begin{equation*}
	v|_x := v(x).
	\end{equation*}
\end{definition}

\begin{definition}
Sejam $\bm E$ um espaço normado, $A \subseteq E$ um aberto e $\fun{v}{A}{E}$ um campo vetorial em $A$. Uma \emph{trajetória integral} de $v$ é uma trajetória derivável $\fun{\gamma}{I}{A}$ tal que, para todo $t \in I$,
	\begin{equation*}
	\dot \gamma(t) = v|_{\gamma(t)}.
	\end{equation*}
Uma \emph{trajetória integral maximal} de $v$ é uma trajetória integral $\fun{\gamma}{I}{A}$ de $v$ tal que, para todo intervalo aberto $I' \subseteq \R$ tal que $I \subseteq I'$, não existe trajetória integral $\fun{\gamma'}{I'}{A}$ de $v$ tal que, para todo $t \in I$, $\gamma'(t) = \gamma(t)$.
\end{definition}

Em outras palavras, uma trajetória integral é uma solução da equação diferencial ordinária
	\begin{equation*}
	\dot x = v(x).
	\end{equation*}

\begin{proposition}
Sejam $\bm E$ um espaço normado, $A \subseteq E$ um aberto, $\fun{v}{A}{E}$ um campo vetorial em $A$ e $\fun{\gamma}{I}{A}$ uma trajetória integral de $v$. Se $v$ é $\Cont^m$-diferenciável, então $\gamma$ é $\Cont^{m+1}$-diferenciável.
\end{proposition}












%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ANTIGO %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ANTIGO %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ANTIGO %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ANTIGO %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ANTIGO %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ANTIGO %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{comment}

\cleardoublepage
\section{Diferenciação}

Nesta seção, estudaremos o conceito de diferenciação de função em espaços normados de dimensão finita. Praticamente toda a teoria pode ser desenvolvida de modo semelhante para espaços normados completos, sem que se exija a finitude da dimensão. A generalização ficará evidente e portanto nos restringiremos para o caso finito. O espaço normado $\E$ estudado nesta seção será o espaço vetorial normado $\R^d$ sobre $\R$. A base canônica de $\R^d$ será representada pelos vetores $\{e_0, \ldots, e_{d-1}\}$. Um ponto $x \in \R^d$ será representado por $x=(x_0,\ldots,x_{d-1})$, em que $x_i := \proj_i(x)$ e $\fun{\proj_i}{\R^d}{\R}$ a $i$-ésima projeção canônica de $\R^d$ para $\R$, e uma função $\fun{f}{\R^d}{\R^{d'}}$ será também representada por $f=(f_0,\ldots,f_{d'-1})$, de modo que $f_i := \fun{\proj_i \circ f}{\R^d}{\R}$, sendo $\fun{\proj_i}{\R^{d'}}{\R}$. Como todas normas em $\R^d$ são equivalentes, não será feita referência à norma utilizada, apenas será usado o fato de que $\R^d$ é um espaço vetorial normado completo. Se necessário, a norma utilizada será explicitada e, quando não for, a norma usada será $\nor{\cdot}_2$.
%O estudo da diferenciabilidade em espaços de dimensão maior que 1 envolve o uso de funções contínuas e funções lineares, e também de funções de um espaço real em um espaço de funções lineares. Por esse motivo, a notação pode ser confusa. Para simplificar a notação, uma função linear $T$ aplicada a um vetor $v$ será sempre denotada por $T \cdot v$.

Desenvolveremos a seguir a teoria de diferenciabilidade de funções entre espaços reais, e as funções consideradas serão sempre da forma
	\begin{equation*}
	\fun{f}{\R^d}{\R^{d'}},
	\end{equation*}
mas toda teoria poderia ser desenvolvida para funções definidas em abertos de $\R^d$. O tratamento que adotaremos, no entanto, não prejudica a generalidade, pois todas propriedades investigadas podem ser compreendidas localmente.

\subsection{Diferenciabilidade}

A ideia por trás dessa definição de diferenciabilidade é a de que a função $f$ pode ser aproximada em uma vizinhança de um ponto $p$ por seu valor no ponto mais o valor de uma função linear aplicada num vetor $v$ de variação que mede quanto afastou-se do ponto $p$. Ser aproximada, nesse sentido, quer dizer que o erro da aproximação será da ordem da norma do vetor variação $v$, de modo que a razão entre os dois vá a zero quando a variação vai a zero. A definição de função contínua, de fato, pode ser pensada como um caso análogo: a função $f$ numa vizinhança do ponto $p$ pode ser aproximada por seu valor em $p$, e aproximada aqui quer dizer que a norma da diferença vai a zero quando o vetor variação vai a zero. Mais à frente, as $k$-ésimas diferenciais da função $f$ serão definidas analogamente, considerando nesses casos funções multilineares.

\begin{definition}
Sejam $d,d' \in \N$ e $p \in \R^d$. Uma função \emph{diferenciável} em $p$ é uma função $\fun{f}{\R^d}{\R^{d'}}$ tal que existe uma função linear $\fun{D}{\R^d}{\R^{d'}}$ que satisfaz
	\begin{equation*}
	\lim_{v \conv 0} \frac{f(p+v)-f(p)-D(v)}{\nor{v}} = 0.
	\end{equation*}
\end{definition}

É válido notar que são equivalentes a essa condição
	\begin{equation*}
	\lim_{x \conv p} \frac{f(x)-f(p)-D(x-p)}{\nor{x-p}} = 0.
	\end{equation*}
e
	\begin{equation*}
	\lim_{v \conv 0} \frac{\nor{f(p+v)-f(p)-D(v)}}{\nor{v}} = 0.
	\end{equation*}

A transformação linear na definição de uma função diferenciável é única, como mostraremos a seguir, e é denominada a diferencial de função no ponto. Além disso, vale também notar que permitimos $d=0$ na nossa definição, mas que nesse caso simplesmente definimos que todas funções são diferenciáveis e suas diferenciais são nulas.

\begin{proposition}[Unicidade da diferencial]
Sejam $d,d' \in \N$, $p \in \R^d$ e $\fun{f}{\R^d}{\R^{d'}}$ uma função diferenciável em $p$. Existe única função linear $\fun{D}{\R^d}{\R^{d'}}$ que satisfaz
	\begin{equation*}
	\lim_{v \conv 0} \frac{f(p+v)-f(p)-D(v)}{\nor{v}} = 0.
	\end{equation*}
\end{proposition}
\begin{proof}
Sejam $\fun{D,D'}{\R^d}{\R^{d'}}$ duas tais funções lineares. Nesse caso, temos que
	\begin{align*}
	\lim_{v \conv 0} &\frac{D(v) - D'(v)}{\nor{v}} = \\
	&= \lim_{v \conv 0} \frac{D(v) - (f(p+v)-f(p)) + (f(p+v)-f(p)) - D'(v)}{\nor{v}} \\
	& = -\lim_{v \conv 0} \frac{f(p+v)-f(p) - D(v)}{\nor{v}} + \lim_{v \conv 0} \frac{f(p+v)-f(p) - D'(v)}{\nor{v}} \\
	&=0.
	\end{align*}
Como $D$ e $D'$ são funções lineares, sabemos que $D(0) = D'(0)=0$. Para todo $v \in \R^d \setminus \{0\}$, temos que, quando $t \conv 0$, $tv \conv 0$. Ainda, como $D$ e $D'$ são funções lineares, $D(tv) = tD(v)$ e $D'(tv) = tD'(v)$, e segue que
	\begin{align*}
	0 &= \lim_{tv \conv 0} \frac{\nor{D(tv) - D'(tv)}}{\nor{tv}} \\
		&= \lim_{t \conv 0} \frac{\abs{t}\nor{D(v) - D'(v)}}{\abs{t} \nor{v}} \\
		&= \frac{\nor{D(v) - D'(v)}}{\nor{v}},
	\end{align*}
o que implica $D(v) = D'(v)$, pois $\nor{v} \neq 0$. Portanto $D=D'$.
\end{proof}

\begin{definition}[Diferencial]
Sejam $d,d' \in \N$, $p \in \R^d$ e $\fun{f}{\R^d}{\R^{d'}}$ uma função diferenciável em $p$. A \emph{diferencial} de $f$ em $p$ é a única função linear
	\begin{equation*}
	\fun{\D f|_p}{\R^d}{\R^{d'}}
	\end{equation*}
que satisfaz
	\begin{equation*}
	\lim_{v \conv 0} \frac{f(p+v) - f(p) - \D f|_p(v)}{\nor{v}} = 0.
	\end{equation*}
\end{definition}

Podemos ver que, se $f$ é diferenciável, então $\fun{\D f}{\R^d}{\toplin(\R^d,\R^{d'})}$ é uma função que leva $p \in \R^d$ na diferencial $\D f|_p$ de $f$ em $p$. Essa função é a diferencial de $f$.

Mostramos a seguir que diferenciabilidade da função em um ponto implica continuidade da função naquele ponto, e calculamos a diferencial de uma composição de funções diferenciáveis.

\begin{proposition}[Diferenciabilidade implica continuidade]
Sejam $d,d' \in \N$, $p \in \R^d$ e $\fun{f}{\R^d}{\R^{d'}}$ uma função. Se $f$ é diferenciável em $p$, então $f$ é contínua em $p$.
\end{proposition}
\begin{proof}
Se $f$ é diferenciável em $p$, então $\lim_{v \conv 0} \nor{v}\inv(f(p+v)-f(p)-\D f|_p(v)) = 0$. Como $\lim_{v \conv 0} \D|_p (v)= 0$, pois $\D f|_p$ é linear e contínua, segue que
	\begin{align*}
	\lim_{v \conv 0} (f(p+v)-f(p)) &= \lim_{v \conv 0}(f(p+v)-f(p)-\D f|_p(v)) \\
		&= \lim_{v \conv 0}\nor{v} \frac{f(p+v)-f(p)-\D f|_p(v)}{\nor{v}} \\
		&= 0,
	\end{align*}
logo $f$ é contínua em $p$.
\end{proof}

\begin{proposition}[Regra da cadeia]
Sejam $d,d',d'' \in \N$, $p \in \R^d$, $\fun{f}{\R^d}{\R^{d'}}$ diferenciável em $p$ e $\fun{f'}{\R^{d'}}{\R^{d''}}$ diferenciável em $f(p)$. Então $\fun{f' \circ f}{\R^d}{\R^{d''}}$ é diferenciável em $p$ e
	\begin{equation*}
	\D (f' \circ f)|_p = \D f'|_{f(p)} \circ \D f|_p.
	\end{equation*}
\end{proposition}
\begin{proof} Definamos
	\begin{align*}
	r(v) &:= f(p+v) - f(p) - \D f|_p(v) \\
	r'(v) &:= f'(f(p)+v) - f'(f(p)) - \D f'|_{f(p)}(v) \\
	r''(v) &:= (f' \circ f)(p+v) - (f' \circ f)(p) - \D f'|_{f(p)} \circ \D f|_p(v),
	\end{align*}
de modo que as diferenciabilidades de $f$ em $p$ e de $f'$ em $f(p)$ equivalem a
	\begin{equation*}
	\lim_{v \conv 0} \frac{r(v)}{\nor{v}} = \lim_{v \conv 0} \frac{r'(v)}{\nor{v}} = 0
	\end{equation*}
e, como $\fun{\D f'|_{f(p)} \circ \D f|_p}{\R^d}{\R^{d''}}$ é linear, o limite
	\begin{equation*}
	\lim_{v \conv 0} \frac{r''(v)}{\nor{v}} = 0
	\end{equation*}
implica a diferenciabilidade de $f' \circ f$ em $p$. Calculemos esse limite.

Calculando $(f' \circ f)(p+v)$, obtemos
	\begin{align*}
	(f' \circ f)(p+v) &= f'(f(p+v)) \\
		&= f'(f(p)+\D f|_p(v) + r(v)) \\
		&= f'(f(p)) + \D f'|_{f(p)} (\D f|_p(v) + r(v)) + r'(\D f|_p(v) + r(v)) \\
		&= (f' \circ f)(p) + \D f'|_{f(p)} \circ \D f|_p(v) + \D f'|_{f(p)}(r(v)) + r'(\D f|_p(v) + r(v)).
	\end{align*}
portanto
	\begin{align*}
	r''(v) &= (f' \circ f)(p+v) - (f' \circ f)(p) - \D f'|_{f(p)} \circ \D f|_p(v) \\
		&= \D f'|_{f(p)}(r(v)) + r'(\D f|_p(v) + r(v)).
	\end{align*}
e
	\begin{equation*}
	\lim_{v \conv 0} \frac{r''(v)}{\nor{v}} = \lim_{v \conv 0} \frac{\D f'|_{f(p)}(r(v)) + r'(\D f|_p(v) + r(v))}{\nor{v}}.
	\end{equation*}

A primeira parcela do limite é $0$, pois da linearidade e continuidade de $\D f|_p$ segue que
	\begin{equation*}
	\lim_{v \conv 0} \frac{\D f'|_{f(p)} (r(v))}{\nor{v}} = \lim_{v \conv 0} \D f'|_{f(p)} \left( \frac{r(v)}{\nor{v}} \right) = \D f'|_{f(p)} \left( \lim_{v \conv 0} \frac{r(v)}{\nor{v}} \right) = 0.
	\end{equation*}
A segunda parcela do limite também é $0$, pois como $\lim_{v \conv 0} \D f|_p(v) + r(v) = 0$ e $\D f|_p \left( \frac{v}{\nor{v}} \right)$ é limitado, segue que
	\begin{align*}
	\lim_{v \conv 0} \frac{r'(\D f|_p(v) + r(v))}{\nor{v}} &= \lim_{v \conv 0} \frac{r'(\D f|_p(v) + r(v))}{\nor{\D f|_p(v) + r(v)}} \frac{\nor{\D f|_p(v) + r(v)}}{\nor{v}}\\
		&= \lim_{v \conv 0} \frac{r'(\D f|_p(v) + r(v))}{\nor{\D f|_p(v) + r(v)}} \nor{\D f|_p \left( \frac{v}{\nor{v}} \right) + \frac{r(v)}{\nor{v}}} \\
		&= 0.
	\end{align*}

Segue então que
	\begin{equation*}
	\lim_{v \conv 0} \frac{(f' \circ f)(p+v) - (f' \circ f)(p) - \D f'|_{f(p)} \circ \D f|_p(v)}{\nor{v}} = 0,
	\end{equation*}
e concluímos que $f' \circ f$ é diferenciável em $p$ e $\D f'|_{f(p)} \circ \D f|_p$ é sua diferencial em $p$.
\end{proof}

\begin{exercise}
Sejam $d,d' \in \N$, $p \in \R^d$ e $\fun{f,f'}{\R^d}{\R^{d'}}$ diferenciáveis em $p$. Então
	\begin{enumerate}
	\item $\D (f+f')_p = \D f|_p + \D f'|_p$;
	\item Se $d'=1$, $\D (ff')|_p = \D f|_p f'(p) + f(p)\D f'|_p;$
	\item Se, para todo $p \in \R^d$, $f'(p) \neq 0$,
	\begin{equation*}
	\D \left. \left(\frac{f}{f'}\right) \right|_p = \frac{\D f|_p f'(p) - f(p)\D f'|_p}{f'(p)^2}
	\end{equation*}
	\end{enumerate}
\end{exercise}

Para a demonstração a seguir, lembremos que toda função $k$-linear $L$ avaliada em uma soma $p+v$, sendo $p=(p_0,\cdots,p_{k-1})$ e $v=(v_0,\ldots,v_{k-1})$, vale
	\begin{align*}
	L(p+v) &= L(p_0+v_0,\ldots,p_{k-1}+v_{k-1}) \\
			&= \sum_{j=0}^{k-1} \sum_{i \in [k]^{\uparrow j}} L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_j-1},v_{i_j},p_{i_j+1},\ldots,p_{k-1}),
	\end{align*}
em que
	\begin{equation*}
	i \in [k]^{\uparrow j} = \set{(i_0,\cdots,i_{j-1}) \in [k]^j}{i_0 < \cdots < i_{j-1}}
	\end{equation*}
é um multi-índice crescente (cujas entradas pertencem a $[k]$) e cada termo
	\begin{equation*}
	L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_{j-1}-1},v_{i_{j-1}},p_{i_{j-1}+1},\ldots,p_{k-1})
	\end{equation*}
tem $j$ termos de $v$ e $k-j$ termos de $p$.

\begin{proposition}[Diferencial de função multilinear]
Sejam $k,d_0,\ldots,d_{k-1},d' \in \N$, $p=(p_0,\cdots,p_{k-1}) \in \R^{d_0} \times \cdots \times \R^{d_{k-1}}$ e
	\begin{equation*}
	\fun{L}{\R^{d_0} \times \cdots \times \R^{d_{k-1}}}{\R^{d'}}
	\end{equation*}
uma função multilinear. A função $L$ é diferenciável e
%	\begin{align*}
%	\func{\D L|_p}{\R^{d_0} \times \cdots \times \R^{d_{k-1}}}{\R^{d'}}{v}{\sum_{i \in [k]} L(p_0,\ldots,v_i,\ldots,p_{k-1})}.
%	\end{align*}
	\begin{align*}
	\func{\D L|_p}{\R^{d_0} \times \cdots \times \R^{d_{k-1}}}{\R^{d'}}{v=(v_0,\ldots,v_{k-1})}{\sum_{i \in [k]} L(p_0,\ldots,p_{i-1},v_i,p_{i+1},\ldots,p_{k-1})}.
	\end{align*}
\end{proposition}
\begin{proof}
Como $L$ é $k$-linear,
	\begin{align*}
	L(p+v) &= L(p_0+v_0,\ldots,p_{k-1}+v_{k-1}) \\
			&= \sum_{j=0}^{k-1} \sum_{i \in [k]^{\uparrow j}} L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_{j-1}-1},v_{i_{j-1}},p_{i_{j-1}+1},\ldots,p_{k-1}) \\
			&= L(p) + \sum_{i \in [k]} L(p_0,\ldots,p_{i-1},v_i,p_{i+1},\ldots,p_{k-1}) \\
			&\ + \sum_{j=2}^{k-1} \sum_{i \in [k]^{\uparrow j}} L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_{j-1}-1},v_{i_{j-1}},p_{i_{j-1}+1},\ldots,p_{k-1}).
	\end{align*}

Primeiro, denotemos o termo para $j=1$ por
	\begin{equation*}
	D(v) := \sum_{i \in [k]} L(p_0,\ldots,p_{i-1},v_i,p_{i+1},\ldots,p_{k-1})
	\end{equation*}
e notemos que $D$ é linear pois, para todos $c \in \R$ e $v,v' \in \R^{d_0} \times \cdots \times \R^{d_{k-1}}$, segue da multilinearidade de $L$ que
	\begin{align*}
	D(cv+v') &= \sum_{i \in [k]} L(p_0,\ldots,p_{i-1},cv_i+v'_i,p_{i+1},\ldots,p_{k-1}) \\
		&= c\sum_{i \in [k]} L(p_0,\ldots,p_{i-1},v_i,p_{i+1},\ldots,p_{k-1}) + \sum_{i \in [k]} L(p_0,\ldots,p_{i-1},v'_i,p_{i+1},\ldots,p_{k-1}) \\
		&= cD(v)+D(v').
	\end{align*}
Definamos então
	\begin{align*}
	r(v) &:= L(p+v) - L(p) - D(v) \\
		&= \sum_{j=2}^{k-1} \sum_{i \in [k]^{\uparrow j}} L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_{j-1}-1},v_{i_{j-1}},p_{i_{j-1}+1},\ldots,p_{k-1})
	\end{align*}
e mostremos que
	\begin{equation*}
	\lim_{v \to 0} \frac{r(v)}{\nor{v}_{\infty}} = 0.
	\end{equation*}
Para isso usaremos a norma do máximo $\nor{\var}_\infty$ em $\R^{d_0} \times \cdots \times \R^{d_{k-1}}$. Como $L$ é contínua, vale
	\begin{align*}
	\nor{r(v)} &= \nor{\sum_{j=2}^{k-1} \sum_{i \in [k]^{\uparrow j}} L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_{j-1}-1},v_{i_{j-1}},p_{i_{j-1}+1},\ldots,p_{k-1})} \\
		&\leq \sum_{j=2}^{k-1} \sum_{i \in [k]^{\uparrow j}} \nor{L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_{j-1}-1},v_{i_{j-1}},p_{i_{j-1}+1},\ldots,p_{k-1})} \\
		&\leq \sum_{j=2}^{k-1} \sum_{i \in [k]^{\uparrow j}} \nor{L}\nor{p_0}\ldots\nor{p_{i_0-1}}\nor{v_{i_0}}\nor{p_{i_0+1}}\ldots\nor{p_{i_{j-1}-1}}\nor{v_{i_{j-1}}}\nor{p_{i_{j-1}+1}}\ldots\nor{p_{k-1}} \\
		&= \sum_{j=2}^{k-1} \nor{L} \nor{p}_{\infty}^{k-j}\nor{v}_{\infty}^j \\
		&\leq \nor{L} \left( \sum_{j=2}^{k-1} \nor{p}_{\infty}^{k-j}\nor{v}_{\infty}^j \right).
	\end{align*}
A primeira desigualdade segue da subaditividade da norma, a segunda segue da continuidade de $L$, e a terceira segue da definição de norma do máximo. Como $1 \leq j-1 \leq k-1$, então $\lim_{v \to 0} \nor{v}_{\infty}^{j-1} = 0$, logo
	\begin{align*}
	\lim_{v \to 0} \frac{\nor{r(v)}}{\nor{v}_{\infty}} &\leq \lim_{v \to 0} \frac{\nor{L} \left( \sum_{j=2}^{k-1} \nor{p}_{\infty}^{k-j}\nor{v}_{\infty}^j \right)}{\nor{v}_{\infty}} \\
		&= \nor{L} \left( \sum_{j=2}^{k-1} \nor{p}_{\infty}^{k-j}\nor{v}_{\infty}^{j-1} \right) \\
		&= 0.
	\end{align*}
Assim, concluímos que $D = \D L|_p$.
\end{proof}






\subsubsection{Diferenciais de ordem superior}

Nesta seção, estenderemos a ideia de diferenciabilidade de uma função $\fun{f}{\R^d}{\R^{d'}}$ para a noção de $r$-diferenciabilidade da função, em que $r \in \N$ é a ordem de diferenciabilidade, e também a ideia de diferencial para a de $r$-diferencial. Para isso, usaremos funções $k$-multilineares do tipo
	\begin{align*}
	\func{T}{\R^d \times \cdots \times \R^d}{\R^{d'}}{(v_0,\cdots,v_{k-1})}{T(v_0,\cdots,v_{k-1})}.
	\end{align*}
Da álgebra, sabemos que uma função desse tipo pode ser identificada com uma função linear do tipo
	\begin{align*}
	\func{T}{(\R^d)^{\otimes k}}{\R^{d'}}{v_0 \otimes \cdots \otimes v_{k-1}}{T(v_0 \otimes \cdots \otimes v_{k-1})},
	\end{align*}
em que $(\R^d)^{\otimes k}$ é a $k$-ésima potência tensorial de $\R^d$, o produto tensorial de $\R^d$ consigo mesmo $k$ vezes. Nesse contexto, denotaremos um vetor $(v,\ldots,v)$ com $k$ entradas por $v^{\otimes k}$, o que simplificará a notação.

\begin{definition}
Sejam $d,d' \in \N$ e $p \in \R^d$. Uma função \emph{$r$-diferenciável} em $p$ é uma função $\fun{f}{\R^d}{\R^{d'}}$ tal que, para todo $k \in [r+1]$, existe função $k$-linear simétrica
	\begin{equation*}
	\fun{D^{(k)}}{\R^d \times \cdots \times \R^d}{\R^{d'}}
	\end{equation*}
que satisfaz
	\begin{equation*}
	\lim_{v \conv 0} \frac{\displaystyle f(p+v)-f(p)- \sum_{k=1}^r \frac{1}{k!} D^{(k)}(v^{\otimes k})}{\nor{v}^r} = 0.
	\end{equation*}
%Uma função $D^{(k)}$ como acima é uma \emph{diferencial de ordem $k$} (ou \emph{$k$-ésima diferencial}) da $f$ em $p$.
\end{definition}

\begin{proposition}[$r$-Diferenciabilidade implica $(r-1)$-diferenciabilidade]
Sejam $d,d' \in \N$, $p \in \R^d$ e $\fun{f}{\R^d}{\R^{d'}}$ uma função $r$-diferenciável em $p$. Então $f$ é $(r-1)$-diferenciável em $p$.
\end{proposition}
\begin{proof}
Primeiro notemos que, como $D^{(r)}$ é controlada, $\nor{D^{(r)}}$ é finita, logo
	\begin{equation*}
	\lim_{v \conv 0} \frac{D^{(r)}(v^{\otimes r})}{\nor{v}^{r-1}} \leq \lim_{v \conv 0} \frac{\nor{D^{(r)}} \nor{v}^r}{\nor{v}^{r-1}} = \lim_{v \conv 0} \nor{D^{(r)}}\nor{v} = 0.
	\end{equation*}
Portanto segue que
	\begin{align*}
	\lim_{v \conv 0} &\frac{\displaystyle f(p+v)-f(p)- \sum_{k=1}^{r-1} \frac{1}{k!}D^{(k)}(v^{\otimes k})}{\nor{v}^{r-1}} \\
		&= \lim_{v \conv 0} \frac{\displaystyle f(p+v)-f(p)- \sum_{k=1}^{r-1} \frac{1}{k!}D^{(k)}(v^{\otimes k})-\frac{1}{r!}D^{(r)}(v^{\otimes r})}{\nor{v}^{r-1}}\\
		&= \lim_{v \conv 0} \nor{v}\frac{\displaystyle f(p+v)-f(p)- \sum_{k=1}^r \frac{1}{k!}D^{(k)}(v^{\otimes k})}{\nor{v}^r} \\
		&= 0.
		\qedhere
	\end{align*}
\end{proof}

Para a demonstração da unicidade a seguir, usaremos o fato de que se
	\begin{equation*}
	\fun{T,T'}{\R^d \times \cdots \times \R^d}{\R^{d'}}
	\end{equation*}
são funções $r$-lineares simétricas tais que, para todo $v \in \R^d$, $T(v^{\otimes r}) = T'(v^{\otimes r})$, então $T=T'$. Isso segue da multilinearidade e da simetria, basta abrir por linearidade um termo do tipo $T((v_0+\cdots+v_{r-1})^{\otimes r})$ e igualá-lo a $T'((v_0+\cdots+v_{r-1})^{\otimes r})$.

\begin{proposition}[Unicidade da $r$-diferencial]
Sejam $d,d' \in \N$, $p \in \R^d$ e $\fun{f}{\R^d}{\R^{d'}}$ uma função $r$-diferenciável em $p$. Então, para todo $k \in [r+1]$, existe única função $k$-linear simétrica que satisfaz
	\begin{equation*}
	\lim_{v \conv 0} \frac{\displaystyle f(p+v)-f(p)- \sum_{k=1}^r \frac{1}{k!} D^{(k)}(v^{\otimes k})}{\nor{v}^r} = 0.
	\end{equation*}
\end{proposition}
\begin{proof}
Mostraremos por indução em $r$. Para $r=1$, temos a definição de função diferenciável, portanto a diferencial de $f$ em $p$ é única. Para o passo indutivo, suponhamos que toda função $(r-1)$-diferenciável vale que, para todo $k \in [r]$, existe única função $k$-linear simétrica que satisfaz a propriedade do enunciado.

Seja $\fun{f}{\R^d}{\R^{d'}}$ uma função $r$-diferenciável em $p$. Então ela é $(r-1)$-diferenciável em $p$ pela proposição anterior e segue que, para todo $k \in [r]$, existe única função $k$-linear simétrica
	\begin{equation*}
	\fun{D^{(k)}}{\R^d \times \cdots \times \R^d}{\R^{d'}}
	\end{equation*}
que satisfaz
	\begin{equation*}
	\lim_{v \conv 0} \frac{\displaystyle f(p+v)-f(p)- \sum_{k=1}^{r-1} \frac{1}{k!}D^{(k)}(v^{\otimes k})}{\nor{v}^{r-1}} = 0.
	\end{equation*}
Para simplificar a notação, definamos
	\begin{equation*}
	r(v) := f(p+v)-f(p)-\sum_{k=0}^{r-1} \frac{1}{k!}D^{(k)}(v^{\otimes k}).
	\end{equation*}

Sejam $\fun{D,D'}{\R^d \times \R^d}{\R^{d'}}$ funções $r$-lineares simétricas que satisfazem
	\begin{equation*}
	\lim_{v \conv 0} \frac{r(v) - \frac{1}{r!} D(v^{\otimes r})}{\nor{v}^r} = \lim_{v \conv 0} \frac{r(v) - \frac{1}{r!} D'(v^{\otimes r})}{\nor{v}^r} = 0.
	\end{equation*}
Segue que
	\begin{align*}
	&\lim_{v \conv 0} \frac{D(v^{\otimes r}) - D'(v^{\otimes r})}{\nor{v}^r} \\
	\qquad &= r! \lim_{v \conv 0} \frac{\frac{1}{r!} D(v^{\otimes r}) - r(v) + r(v) - \frac{1}{r!} D'(v^{\otimes r})}{\nor{v}^r} \\
	\qquad &= -r!\lim_{v \conv 0} \frac{r(v) - \frac{1}{r!} D(v^{\otimes r})}{\nor{v}^r} + r!\lim_{v \conv 0} \frac{r(v) - \frac{1}{r!} D'(v^{\otimes r})}{\nor{v}^r} \\
	\qquad &= 0.
	\end{align*}
Como $D$ e $D'$ são funções $r$-lineares, sabemos que $D(0^{\otimes r}) = D'(0^{\otimes r}) = 0$. Para $v \in (\R^d)^r \setminus\{0^{\otimes r}\}$, temos que, quando $t \conv 0$, $(tv)^{\otimes r} \conv 0^{\otimes r}$. Ainda, como $D$ e $D'$ são $r$-lineares, $D((tv)^{\otimes r}) = t^r D(v^{\otimes r})$ e $D'((tv)^{\otimes r}) = t^r D'(v^{\otimes r})$, e segue que
	\begin{align*}
	0= &\lim_{tv \conv 0} \frac{\nor{D((tv)^{\otimes r}) - D'((tv)^{\otimes r})}}{\nor{tv}^r} \\
	&= \lim_{t \conv 0} \frac{\abs{t}^r\nor{D(v^{\otimes r}) - D'(v^{\otimes r})}}{\abs{t}^r\nor{v}^r} \\
	&= \frac{\nor{D(v^{\otimes r}) - D'(v^{\otimes r})}}{\nor{v}^r}
	\end{align*}
o que implica $D(v^{\otimes r}) = D'(v^{\otimes r})$, pois $\nor{v} \neq 0$. Como $D$ e $D'$ são simétricas, então $D=D'$.
\end{proof}

\begin{definition}[Multidiferencial]
Sejam $d,d' \in \N$, $p \in \R^d$ e $\fun{f}{\R^d}{\R^{d'}}$ uma função $r$-diferenciável em $p$. Para $k \in [r+1]$, a \emph{diferencial de ordem $k$} (ou \emph{$r$-diferencial}) de $f$ em $p$ é a única função $k$-linear simétrica
	\begin{equation*}
	\fun{\D^k f|_p}{\R^d \times \cdots \times \R^d}{\R^{d'}}
	\end{equation*}
que satisfaz
	\begin{equation*}
	\lim_{v \conv 0} \frac{\displaystyle f(p+v) - f(p) - \sum_{k=0}^r \frac{1}{k!}\D^k f|_p(v^{\otimes k})}{\nor{v}^r} = 0.
	\end{equation*}

Se definimos $\D^0 f|_p := f(p)$, as diferenciais satisfazem
	\begin{equation*}
	\lim_{v \conv 0} \frac{\displaystyle f(p+v) - \sum_{k=0}^r \frac{1}{k!}\D^k f|_p (v^{\otimes k})}{\nor{v}^r} = 0.
	\end{equation*}
O polinômio
	\begin{equation*}
	P(v) = \sum_{k=0}^r \frac{1}{k!}\D^k f|_p (v^{\otimes k})
	\end{equation*}
é o \emph{polinômio diferencial de ordem $r$} de $f$ em $p$.
\end{definition}


%\begin{exercise}[Regra da cadeia iterada]
%Sejam $d,d',d'' \in \N$, $p \in \R^d$, $\fun{f}{\R^d}{\R^{d'}}$ $2$-diferenciável em $p$ e $\fun{f'}{\R^{d'}}{\R^{d''}}$ diferenciável em $f(p)$. Então $\fun{f' \circ f}{\R^d}{\R^{d''}}$ é diferenciável em $p$ e
%	\begin{equation*}
%	\D^2 (f' \circ f)(p,p) = \D^2 f'(f(p),f(p)) \circ \D f(p) + \D f'(f(p)) \circ \D^2 f(p)
%	\end{equation*}
%	\begin{equation*}
%	\D^2 \left. (f' \circ f)\right|_{(p,p)} = \D^2 f'|_{(f(p),f(p))} \circ \D f|_p + \D f'|_{f(p)} \circ \D^2 f|_p.
%	\end{equation*}
%\end{exercise}


Para a demonstração a seguir, lembremos que toda função $k$-linear $L$ avaliada em uma soma $p+v$, sendo $p=(p_0,\cdots,p_{k-1})$ e $v=(v_0,\ldots,v_{k-1})$, vale
	\begin{align*}
	L(p+v) &= L(p_0+v_0,\ldots,p_{k-1}+v_{k-1}) \\
			&= \sum_{j=0}^{k-1} \sum_{i \in [k]^{\uparrow j}} L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_j-1},v_{i_j},p_{i_j+1},\ldots,p_{k-1}),
	\end{align*}
em que $i \in [k]^{\uparrow j}$ é um multi-índice crescente $i=(i_0,\ldots,i_{j-1})$ com $i_0 < \cdots < i_{j-1}$ cujas entradas pertencem a $[k]$ e cada termo
	\begin{equation*}
	L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_j-1},v_{i_j},p_{i_j+1},\ldots,p_{k-1})
	\end{equation*}
tem $j$ termos de $v$ e $k-j$ termos de $p$.

\begin{exercise}[Multidiferencial de função multilinear]
Sejam $k,d_0,\ldots,d_{k-1},d' \in \N$, $p=(p_0,\cdots,p_{k-1}) \in \R^{d_0} \times \cdots \times \R^{d_{k-1}}$ e
	\begin{equation*}
	\fun{L}{\R^{d_0} \times \cdots \times \R^{d_{k-1}}}{\R^{d'}}
	\end{equation*}
uma função multilinear. Para todo $r \in \N$, a função $L$ é $r$-diferenciável e, para todo $v^{\otimes r} \in (\R^{d_0} \times \cdots \times \R^{d_{k-1}})^{\otimes r}$,
	\begin{equation*}
	\D^r L|_p (v^{\otimes r}) = \sum_{i \in [k]^{\uparrow r}} L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_{r-1}-1},v_{i_{r-1}},p_{i_{r-1}+1},\ldots,p_{k-1}).
	\end{equation*}
Em particular, para todo $r > k$, $\D^r L|_p = 0$.
\end{exercise}

Isso nos permite escrever uma função $r$-linear avaliada em uma soma como
	\begin{align*}
	L(p+v) &= \sum_{j=0}^{k-1} \sum_{i \in [k]^{\uparrow j}} L(p_0,\ldots,p_{i_0-1},v_{i_0},p_{i_0+1},\ldots,p_{i_j-1},v_{i_j},p_{i_j+1},\ldots,p_{k-1}) \\
		&= \sum_{j=0}^{k-1} \D^j L|_p (v^{\otimes j}) \\
		&= L(p) + \D L|_p (v) + \cdots + \D^{r-1} L|_p (v,\ldots,v) + L(v).
	\end{align*}



\subsection{Derivadas direcionais e a geometria da diferenciabilidade}

A partir dessa seção, consideraremos funções $\fun{f}{A}{\R^{d'}}$, em que $A \subseteq \R^d$ é um aberto. Toda a discussão feita na seção anterior considerou a diferenciabilidade em pontos do domínio. Agora, consideraremos a diferenciabilidade em conjuntos. A definição de diferenciabilidade da seção anterior pode ser facilmente adaptada para funções $\fun{f}{A}{\R^{d'}}$ pois essa função pode ser definida em $\R^d$ todo escolhendo qualquer valor para $f$ em $A^\complement$. Como as definições e resultados trataram de pontos, isso não é um problema. Os abertos serão necessários agora pois consideraremos curvas numa vizinhança de um ponto e relacionaremos as derivadas por essas curvas com derivadas parciais da função $f$.

\begin{definition}
Sejam $d,d' \in \N$, $A \subseteq \R^d$ aberto, $p \in A$ e $v \in \R^d$. % (tal que $p+v \in A$).
Uma função \emph{derivável em $p$ na direção de $v$} é uma função $\fun{f}{A}{\R^{d'}}$ tal que existe o limite
	\begin{equation*}
	\lim_{t \conv 0} \frac{f(p+tv)-f(p)}{t}.
	\end{equation*}
A \emph{derivada direcional} de $f$ em $p$ na direção de $v$ é
%	\begin{equation*}
%	\der{f}{v}(p) := \lim_{t \conv 0} \frac{f(p+tv)-f(p)}{t}.
%	\end{equation*}
	\begin{equation*}
	\Dir_v f(p) := \lim_{t \conv 0} \frac{f(p+tv)-f(p)}{t}.
	\end{equation*}
\end{definition}

\begin{proposition}
Sejam $d,d' \in \N$, $A \subseteq \R^d$ aberto, $p \in A$ e $\fun{f}{A}{\R^{d'}}$
\end{proposition}


Como $A$ é aberto, existe $\varepsilon$ tal que $p+tv \in A$ para todo $t \in \left]-\varepsilon,\varepsilon \right[$. Tomemos então a curva
	\begin{align*}
	\func{\gamma}{\left]-\varepsilon,\varepsilon \right[}{A}{t}{p+tv},
	\end{align*}
de modo que temos $\gamma(0)=p$ e $\D \gamma|_0 = v$. Então, pela regra da cadeia,
%	\begin{equation*}
%	\der{f}{v}(p) = \D (f \circ \gamma)|_0 = \D f|_{\gamma(0)} (\gamma'(0)) = \D f|_p(v).
%	\end{equation*}
	\begin{equation*}
	\Dir_v f(p) = \D (f \circ \gamma)|_0 = \D f|_{\gamma(0)} (\D \gamma|_0) = \D f|_p(v).
	\end{equation*}
Disso concluímos que a derivada direcional de $f$ em $p$ na direção de $v$ é a imagem de $v$ sob a função linear $\D f_p$. Portanto definindo as derivadas direcionais $\partial_i f(x) := \D f|_p(e_i)$ temos que
	\begin{equation*}
	\D f|_p(v) = \sum_{i=0}^{d-1} v^i \partial_i f(x).
	\end{equation*}




\begin{exercise}
Sejam $d,d' \in \N$, $A \subseteq \R^d$ aberto, $p \in A$, $v \in \R^d$.
\begin{enumerate}
	\item Para todas $\fun{f,f'}{A}{\R^{d'}}$ funções deriváveis em $p$ na direção de $v$,
		\begin{equation*}
		\Dir_v(f+f')(p) = \Dir_v f(p) + \Dir_v f'(p);
		\end{equation*}
	\item Para todo $c \in \R$ e todas $\fun{f,f'}{A}{\R^{d'}}$ funções deriváveis em $p$ na direção de $v$,
		\begin{equation*}
		\Dir_v(cf)(p) = c\Dir_v f(p);
		\end{equation*}
	\item Para todas $\fun{f,f'}{A}{\R^{d'}}$ funções deriváveis em $p$ na direção de $v$,
		\begin{equation*}
		\Dir_v(ff')(p) = \Dir_vf(p)f'(p) + f(p)\Dir_v f'(p);
		\end{equation*}
	\item $\Dir_v(f' \circ f)(p) = \D f'|_{f(p)} \Dir_v f(p)$.
\end{enumerate}
\end{exercise}

\subsection{Teoremas fundamentais}

\subsubsection{Teorema da função inversa}

\begin{proposition}
%Sejam $A \subseteq \R^d$ um aberto, $p \in A$ e $f\colon A \subseteq \R^d \to \R^d$ uma função $\Cont^r$-diferenciável ($r \geq 1$).

Sejam $p \in \R^d$ e $f\colon \R^d \to \R^d$ uma função $\Cont^r$-diferenciável ($r \geq 1$) numa vizinhança aberta $A \subseteq \R^d$ de $p$. Se $\D f(p)\colon \R^d \to \R^d$ é invertível, então existe uma vizinhança aberta $V \subseteq \R^d$ de $p$ tal que $f\colon V \to f(V)$ é invertível, $f\inv\colon f(V) \to V$ é $\Cont^r$-diferenciável e
	\begin{equation*}
	\D(f\inv)(f(p)) = (\D f(p))\inv.
	\end{equation*}
\end{proposition}

\subsubsection{Teorema da função implícita}

\begin{proposition}
%Sejam $A \subseteq \R^{d_0+d_1}$ um aberto, $p=(x_0,y_0) \in A$ e $f\colon A \subseteq \R^{d_0} \times \R^{d_1} \to \R^{d_1}$ uma função $\Cont^r$-diferenciável tal que $f(p)=0$.

Sejam $p=(x_0,y_0) \in \R^{d_0} \times \R^{d_1}$ e $f\colon \R^{d_0} \times \R^{d_1} \to \R^{d_1}$ uma função $\Cont^r$-diferenciável ($r \geq 1$) numa vizinhança aberta $A \subseteq \R^{d_0+d_1}$ de $p$ tal que $f(p)=0$.
Se $\D f(p)\colon \R^{d_0} \times \R^{d_1} \to \R^{d_1}$ é sobrejetiva, então existem vizinhanças abertas $V_0 \subseteq \R^{d_0}$ de $x_0$ e $V_1 \subseteq \R^{d_1}$ de $y_0$ e única função $\Cont^r$-diferenciável $g\colon V_0 \subseteq \R^{d_0} \to V_1 \subseteq \R^{d_1}$ satisfazendo
	\begin{enumerate}
	\item $g(x_0)=y_0$;
	\item Para todos $(x,y) \in V_0 \times V_1$, $f(x,y)=0$ se, e somente se, $y=g(x)$.
	\end{enumerate}
\end{proposition}

Observação: $\D f(p)\colon \R^{d_0} \times \R^{d_1} \to \R^{d_1}$ é sobrejetiva se, e somente se,
	\begin{align*}
	\func{\D f(p) \circ \iota_1}{\R^{d_1}}{\R^{d_1}}{y}{\D(f)(p) \cdot (0,y)}
	\end{align*}
é invertível (em que $\iota_1\colon \R^{d_1} \to \R^{d_0} \times \R^{d_1}$).  Note que $\D_1 f(p)$ também pode ser vista como essa função.

\subsubsection{Forma local da imersão}

\begin{proposition}
%Sejam $A \subseteq \R^{d_0}$ um aberto, $p \in A$ e $f\colon A \subseteq \R^{d_0} \to \R^{d_0} \times \R^{d_1}$ uma função $\Cont^r$-diferenciável.

Sejam $p \in \R^{d_0}$ e $f\colon \R^{d_0} \to \R^{d_0} \times \R^{d_1}$ uma função $\Cont^r$-diferenciável ($r \geq 1$) numa vizinhança aberta $A \subseteq \R^{d_0}$ de $p$. Se $\D f(p) \colon \R^{d_0} \to \R^{d_0} \times \R^{d_1}$ é injetiva, então existem vizinhanças abertas $V_0 \subseteq \R^{d_0}$ de $p$, $V_1 \subseteq \R^{d_1}$ de $0$ e $V \subseteq \R^{d_0} \times \R^{d_1}$ de $f(p)$ e $\Cont^r$-difeomorfismo $g\colon V \to V_0 \times V_1$ tal que, para todo $x \in V_0$,
	\begin{equation*}
	g \circ f(x)=(x,0).
	\end{equation*}
(ou seja, $g \circ f = \iota_0\colon V_0 \subseteq \R^{d_0} \to \R^{d_0} \times \R^{d_1}$).
\end{proposition}

Observação: A diferencial $\D f(p)\colon \R^{d_0} \to \R^{d_0} \times \R^{d_1}$ é injetiva se, e somente se,
	\begin{align*}
	\func{\D f(p) \circ \pi_0}{\R^{d_0}}{\R^{d_0}}{y}{\big(\D(f)(p) \cdot y\big)\downharpoonright_{\R^{d_0}}}
	\end{align*}
é invertível.


\subsubsection{Forma local da submersão}

\begin{proposition}
%Sejam $A \subseteq \R^{d_0} \times \R^{d_1}$ um aberto, $p=(x_0,y_0) \in A$ e $f\colon A \subseteq \R^{d_0} \times \R^{d_1} \to \R^{d_1}$ uma função $\Cont^r$-diferenciável.

Sejam $p=(x_0,y_0) \in \R^{d_0} \times \R^{d_1}$ e $f\colon \R^{d_0} \times \R^{d_1} \to \R^{d_1}$ uma função $\Cont^r$-diferenciável ($r \geq 1$) numa vizinhança aberta $A \subseteq \R^{d_0} \times \R^{d_1}$ de $p$. Se $\D f(p)\colon \R^{d_0} \times \R^{d_1} \to \R^{d_1}$ é sobrejetiva, então existem vizinhanças abertas $V \subseteq \R^{d_0} \times \R^{d_1}$ de $p$, $V_0 \subseteq \R^{d_0}$ de $x_0$ e $V_1 \subseteq \R^{d_1}$ de $f(p)$ e $\Cont^r$-difeomorfismo $g\colon V_0 \times V_1 \to V$ tal que, para todo $(x,y) \in V_0 \times V_1$,
	\begin{equation*}
	f \circ g(x,y)=y.
	\end{equation*}
(ou seja, $f \circ g = \pi_1\colon V_0 \times V_1 \subseteq \R^{d_0} \times \R^{d_1} \to \R^{d_1}$).
\end{proposition}

Observação: A diferencial $\D f(p)\colon \R^{d_0} \times \R^{d_1} \to \R^{d_1}$ é sobrejetiva se, e somente se,
	\begin{align*}
	\func{\D f(p) \circ \iota_1}{\R^{d_1}}{\R^{d_1}}{y}{\D(f)(p) \cdot (0,y)}
	\end{align*}
é invertível. Note que $\D_1 f(p)$ também pode ser vista como essa função.

\subsubsection{Teorema do posto}

\begin{proposition}
Seja $f\colon \R^{d} \times \R^{d_0} \to \R^{d} \times \R^{d_1}$ uma função $\Cont^r$-diferenciável ($r \geq 1$) num aberto $A \subseteq \R^{d} \times \R^{d_0}$. Se $\D f(p)\colon \R^{d} \times \R^{d_0} \to \R^{d} \times \R^{d_1}$ tem o mesmo posto para todo $p \in A$ ($f$ tem posto constante em $A$), então, para todo $p \in A$, existem vizinhanças abertas $V_0 \subseteq \R^{d} \times \R^{d_0}$ de $p$ e $V_1 \subseteq \R^{d} \times \R^{d_1}$ de $f(p)$ e $\Cont^r$-difeomorfismos $g_0\colon V_0 \to g_0(V_0) \subseteq \R^{d} \times \R^{d_0}$ e $g_1\colon V_1 \to g_1(V_1) \subseteq \R^{d} \times \R^{d_1}$ tais que, para todo $(x,y) \in V_0$,
	\begin{equation*}
	g_1 \circ f \circ {g_0}\inv(x,y))=(x,0).
	\end{equation*}
(ou seja, $g_1 \circ f \circ {g_0}\inv = \iota \circ \pi\colon \R^{d} \times \R^{d_0} \to \R^{d} \times \R^{d_1}$).
\end{proposition}


\end{comment}

